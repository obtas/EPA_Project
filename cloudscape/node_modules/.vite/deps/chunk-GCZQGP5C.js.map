{
  "version": 3,
  "sources": ["../../src/app-layout/visual-refresh/hooks/use-dynamic-overlap.ts", "../../src/container/internal.tsx", "../../@cloudscape-design/components/container/styles.css.js"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useContext, useLayoutEffect } from 'react';\n\nimport { AppLayoutContext } from '../context';\nimport { useContainerQuery } from '../../../internal/hooks/container-queries';\n\nexport interface UseDynamicOverlapProps {\n  /**\n   * Disables hook if not needed. By default, `false`.\n   */\n  disabled?: boolean;\n}\n\n/**\n * Observes the height of an element referenced by the returning ref and sets the value as overlapping\n * height for the surrounding AppLayout component.\n * @param props.disabled disables hook if not applicable\n * @returns ref to be measured as overlapping height\n */\nexport function useDynamicOverlap(props?: UseDynamicOverlapProps) {\n  const disabled = props?.disabled ?? false;\n  const { setDynamicOverlapHeight } = useContext(AppLayoutContext);\n  const [overlapContainerQuery, overlapElementRef] = useContainerQuery(rect => rect.height);\n\n  useLayoutEffect(\n    function handleDynamicOverlapHeight() {\n      if (!disabled) {\n        setDynamicOverlapHeight(overlapContainerQuery ?? 0);\n      }\n\n      return () => {\n        if (!disabled) {\n          setDynamicOverlapHeight(0);\n        }\n      };\n    },\n    [disabled, overlapContainerQuery, setDynamicOverlapHeight]\n  );\n\n  return overlapElementRef;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useContext, useLayoutEffect, useRef } from 'react';\nimport { AppLayoutContext } from '../app-layout/visual-refresh/context';\nimport { ContainerProps } from './interfaces';\nimport { getBaseProps } from '../internal/base-component';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { StickyHeaderContext, useStickyHeader } from './use-sticky-header';\nimport { useDynamicOverlap } from '../app-layout/visual-refresh/hooks/use-dynamic-overlap';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport styles from './styles.css.js';\n\nexport interface InternalContainerProps extends Omit<ContainerProps, 'variant'>, InternalBaseComponentProps {\n  __stickyHeader?: boolean;\n  __stickyOffset?: number;\n  __disableFooterDivider?: boolean;\n  __disableFooterPaddings?: boolean;\n  __hiddenContent?: boolean;\n  __headerRef?: React.RefObject<HTMLDivElement>;\n  __headerId?: string;\n  __darkHeader?: boolean;\n  /**\n   * Additional internal variant:\n   * * `embedded` - Use this variant within a parent container (such as a modal,\n   *                expandable section, container or split panel).\n   * * `full-page` \u2013 Only for internal use in table, cards and other components\n   */\n  variant?: ContainerProps['variant'] | 'embedded' | 'full-page' | 'cards';\n}\n\nexport default function InternalContainer({\n  header,\n  footer,\n  children,\n  variant = 'default',\n  disableHeaderPaddings = false,\n  disableContentPaddings = false,\n  __stickyOffset,\n  __stickyHeader = false,\n  __internalRootRef = null,\n  __disableFooterDivider = false,\n  __disableFooterPaddings = false,\n  __hiddenContent = false,\n  __headerRef,\n  __headerId,\n  __darkHeader = false,\n  ...restProps\n}: InternalContainerProps) {\n  const baseProps = getBaseProps(restProps);\n  const rootRef = useRef<HTMLDivElement>(null);\n  const headerRef = useRef<HTMLDivElement>(null);\n  const { isSticky, isStuck, stickyStyles } = useStickyHeader(rootRef, headerRef, __stickyHeader, __stickyOffset);\n  const { setHasStickyBackground } = useContext(AppLayoutContext);\n  const isRefresh = useVisualRefresh();\n\n  const hasDynamicHeight = isRefresh && variant === 'full-page';\n  const overlapElement = useDynamicOverlap({ disabled: !hasDynamicHeight || !__darkHeader });\n\n  const mergedRef = useMergeRefs(rootRef, __internalRootRef);\n  const headerMergedRef = useMergeRefs(headerRef, overlapElement, __headerRef);\n  const headerIdProp = __headerId ? { id: __headerId } : {};\n\n  /**\n   * The visual refresh AppLayout component needs to know if a child component\n   * has a high constrast sticky header. This is to make sure the background element\n   * stays in the same vertical position as the header content.\n   */\n  useLayoutEffect(\n    function handleHasStickyBackground() {\n      if (isRefresh && isSticky && variant === 'full-page') {\n        setHasStickyBackground(true);\n      }\n\n      return function cleanup() {\n        setHasStickyBackground(false);\n      };\n    },\n    [isRefresh, isSticky, setHasStickyBackground, variant]\n  );\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root, styles[`variant-${variant}`])}\n      ref={mergedRef}\n    >\n      {header && (\n        <StickyHeaderContext.Provider value={{ isStuck }}>\n          <div\n            className={clsx(styles.header, styles[`header-variant-${variant}`], {\n              [styles['header-sticky-disabled']]: __stickyHeader && !isSticky,\n              [styles['header-sticky-enabled']]: isSticky,\n              [styles['header-dynamic-height']]: hasDynamicHeight,\n              [styles['header-stuck']]: isStuck,\n              [styles['with-paddings']]: !disableHeaderPaddings,\n              [styles['with-hidden-content']]: __hiddenContent,\n            })}\n            {...headerIdProp}\n            {...stickyStyles}\n            ref={headerMergedRef}\n          >\n            {__darkHeader ? (\n              <div className={clsx(styles['dark-header'], 'awsui-context-content-header')}>{header}</div>\n            ) : (\n              header\n            )}\n          </div>\n        </StickyHeaderContext.Provider>\n      )}\n      <div\n        className={clsx(styles.content, {\n          [styles['with-paddings']]: !disableContentPaddings,\n        })}\n      >\n        {children}\n      </div>\n      {footer && (\n        <div\n          className={clsx(styles.footer, {\n            [styles['with-divider']]: !__disableFooterDivider,\n            [styles['with-paddings']]: !__disableFooterPaddings,\n          })}\n        >\n          {footer}\n        </div>\n      )}\n    </div>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_14iqq_uvfcm_97\",\n  \"variant-default\": \"awsui_variant-default_14iqq_uvfcm_110\",\n  \"variant-stacked\": \"awsui_variant-stacked_14iqq_uvfcm_110\",\n  \"header\": \"awsui_header_14iqq_uvfcm_133\",\n  \"header-sticky-disabled\": \"awsui_header-sticky-disabled_14iqq_uvfcm_139\",\n  \"header-sticky-enabled\": \"awsui_header-sticky-enabled_14iqq_uvfcm_143\",\n  \"header-stuck\": \"awsui_header-stuck_14iqq_uvfcm_149\",\n  \"header-dynamic-height\": \"awsui_header-dynamic-height_14iqq_uvfcm_154\",\n  \"with-paddings\": \"awsui_with-paddings_14iqq_uvfcm_160\",\n  \"with-hidden-content\": \"awsui_with-hidden-content_14iqq_uvfcm_163\",\n  \"header-variant-cards\": \"awsui_header-variant-cards_14iqq_uvfcm_167\",\n  \"header-variant-full-page\": \"awsui_header-variant-full-page_14iqq_uvfcm_191\",\n  \"dark-header\": \"awsui_dark-header_14iqq_uvfcm_209\",\n  \"content\": \"awsui_content_14iqq_uvfcm_213\",\n  \"footer\": \"awsui_footer_14iqq_uvfcm_223\",\n  \"with-divider\": \"awsui_with-divider_14iqq_uvfcm_229\"\n};\n  "],
  "mappings": "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",
  "names": ["import_react", "React"]
}
