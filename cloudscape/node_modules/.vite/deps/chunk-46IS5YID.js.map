{
  "version": 3,
  "sources": ["../../@cloudscape-design/components/button/button/internal.tsx", "../../@cloudscape-design/components/internal/hooks/forward-focus/internal/hooks/forward-focus/index.ts", "../../@cloudscape-design/components/button/styles.css.js", "../../@cloudscape-design/components/button/button/icon-helper.tsx", "../../@cloudscape-design/components/internal/context/internal/context/button-context.ts"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useEffect, useRef } from 'react';\nimport { fireCancelableEvent, isPlainLeftClick } from '../internal/events';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport styles from './styles.css.js';\nimport { ButtonIconProps, LeftIcon, RightIcon } from './icon-helper';\nimport { ButtonProps } from './interfaces';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport LiveRegion from '../internal/components/live-region';\nimport { useButtonContext } from '../internal/context/button-context';\nimport { useFunnel } from '../internal/analytics/hooks/use-funnel';\n\nexport type InternalButtonProps = Omit<ButtonProps, 'variant'> & {\n  variant?: ButtonProps['variant'] | 'flashbar-icon' | 'breadcrumb-group' | 'menu-trigger' | 'modal-dismiss';\n  __nativeAttributes?: Record<string, any>;\n  __iconClass?: string;\n  __activated?: boolean;\n} & InternalBaseComponentProps;\n\nexport const InternalButton = React.forwardRef(\n  (\n    {\n      children,\n      iconName,\n      __iconClass,\n      onClick,\n      onFollow,\n      iconAlign = 'left',\n      iconUrl,\n      iconSvg,\n      iconAlt,\n      variant = 'normal',\n      loading = false,\n      loadingText,\n      disabled = false,\n      wrapText = true,\n      href,\n      target,\n      rel,\n      download,\n      formAction = 'submit',\n      ariaLabel,\n      ariaDescribedby,\n      ariaExpanded,\n      fullWidth,\n      __nativeAttributes,\n      __internalRootRef = null,\n      __activated = false,\n      ...props\n    }: InternalButtonProps,\n    ref: React.Ref<ButtonProps.Ref>\n  ) => {\n    checkSafeUrl('Button', href);\n    const isAnchor = Boolean(href);\n    const isNotInteractive = loading || disabled;\n    const shouldHaveContent =\n      children && ['icon', 'inline-icon', 'flashbar-icon', 'modal-dismiss'].indexOf(variant) === -1;\n\n    const buttonRef = useRef<HTMLElement>(null);\n    useForwardFocus(ref, buttonRef);\n\n    const buttonContext = useButtonContext();\n\n    const handleClick = (event: React.MouseEvent) => {\n      if (isNotInteractive) {\n        return event.preventDefault();\n      }\n\n      if (isAnchor && isPlainLeftClick(event)) {\n        fireCancelableEvent(onFollow, { href, target }, event);\n      }\n\n      const { altKey, button, ctrlKey, metaKey, shiftKey } = event;\n      fireCancelableEvent(onClick, { altKey, button, ctrlKey, metaKey, shiftKey }, event);\n      buttonContext.onClick({ variant });\n    };\n\n    const buttonClass = clsx(props.className, styles.button, styles[`variant-${variant}`], {\n      [styles.disabled]: isNotInteractive,\n      [styles['button-no-wrap']]: !wrapText,\n      [styles['button-no-text']]: !shouldHaveContent,\n      [styles['is-activated']]: __activated,\n      [styles['full-width']]: shouldHaveContent && fullWidth,\n    });\n\n    const buttonProps = {\n      ...props,\n      ...__nativeAttributes,\n      // https://github.com/microsoft/TypeScript/issues/36659\n      ref: useMergeRefs(buttonRef as any, __internalRootRef),\n      'aria-label': ariaLabel,\n      'aria-describedby': ariaDescribedby,\n      'aria-expanded': ariaExpanded,\n      // add ariaLabel as `title` as visible hint text\n      title: ariaLabel,\n      className: buttonClass,\n      onClick: handleClick,\n    } as const;\n    const iconProps: ButtonIconProps = {\n      loading,\n      iconName,\n      iconAlign,\n      iconUrl,\n      iconSvg,\n      iconAlt,\n      variant,\n      iconClass: __iconClass,\n      iconSize: variant === 'modal-dismiss' ? 'medium' : 'normal',\n    };\n    const buttonContent = (\n      <>\n        <LeftIcon {...iconProps} />\n        {shouldHaveContent && <span className={styles.content}>{children}</span>}\n        <RightIcon {...iconProps} />\n      </>\n    );\n\n    const { loadingButtonCount } = useFunnel();\n    useEffect(() => {\n      if (loading) {\n        loadingButtonCount.current++;\n        return () => {\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          loadingButtonCount.current--;\n        };\n      }\n    }, [loading, loadingButtonCount]);\n\n    if (isAnchor) {\n      return (\n        // https://github.com/yannickcr/eslint-plugin-react/issues/2962\n        // eslint-disable-next-line react/jsx-no-target-blank\n        <>\n          <a\n            {...buttonProps}\n            href={href}\n            target={target}\n            // security recommendation: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#target\n            rel={rel ?? (target === '_blank' ? 'noopener noreferrer' : undefined)}\n            tabIndex={isNotInteractive ? -1 : undefined}\n            aria-disabled={isNotInteractive ? true : undefined}\n            download={download}\n          >\n            {buttonContent}\n          </a>\n          {loading && loadingText && <LiveRegion>{loadingText}</LiveRegion>}\n        </>\n      );\n    }\n    return (\n      <>\n        <button\n          {...buttonProps}\n          type={formAction === 'none' ? 'button' : 'submit'}\n          disabled={disabled}\n          aria-disabled={loading && !disabled ? true : undefined}\n        >\n          {buttonContent}\n        </button>\n        {loading && loadingText && <LiveRegion>{loadingText}</LiveRegion>}\n      </>\n    );\n  }\n);\n\nexport default InternalButton;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useImperativeHandle } from 'react';\n\nexport interface ForwardFocusRef {\n  focus(): void;\n}\n\nexport default function useForwardFocus(\n  mainRef: React.Ref<any>,\n  controlRef: React.RefObject<{ focus: HTMLElement['focus'] }>\n) {\n  useImperativeHandle(\n    mainRef,\n    () => ({\n      focus(...args: Parameters<HTMLElement['focus']>) {\n        controlRef.current?.focus(...args);\n      },\n    }),\n    [controlRef]\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"content\": \"awsui_content_vjswe_1hx49_97\",\n  \"button\": \"awsui_button_vjswe_1hx49_101\",\n  \"variant-normal\": \"awsui_variant-normal_vjswe_1hx49_126\",\n  \"is-activated\": \"awsui_is-activated_vjswe_1hx49_139\",\n  \"variant-icon\": \"awsui_variant-icon_vjswe_1hx49_166\",\n  \"variant-modal-dismiss\": \"awsui_variant-modal-dismiss_vjswe_1hx49_166\",\n  \"variant-flashbar-icon\": \"awsui_variant-flashbar-icon_vjswe_1hx49_166\",\n  \"variant-inline-icon\": \"awsui_variant-inline-icon_vjswe_1hx49_184\",\n  \"disabled\": \"awsui_disabled_vjswe_1hx49_202\",\n  \"variant-primary\": \"awsui_variant-primary_vjswe_1hx49_210\",\n  \"variant-link\": \"awsui_variant-link_vjswe_1hx49_294\",\n  \"variant-inline-link\": \"awsui_variant-inline-link_vjswe_1hx49_546\",\n  \"variant-breadcrumb-group\": \"awsui_variant-breadcrumb-group_vjswe_1hx49_800\",\n  \"variant-menu-trigger\": \"awsui_variant-menu-trigger_vjswe_1hx49_887\",\n  \"button-no-text\": \"awsui_button-no-text_vjswe_1hx49_971\",\n  \"button-no-wrap\": \"awsui_button-no-wrap_vjswe_1hx49_975\",\n  \"full-width\": \"awsui_full-width_vjswe_1hx49_978\",\n  \"icon-left\": \"awsui_icon-left_vjswe_1hx49_995\",\n  \"icon-right\": \"awsui_icon-right_vjswe_1hx49_1000\",\n  \"icon\": \"awsui_icon_vjswe_1hx49_995\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport * as React from 'react';\nimport { IconProps } from '../icon/interfaces';\nimport InternalIcon from '../icon/internal';\nimport InternalSpinner from '../spinner/internal';\nimport { ButtonProps } from './interfaces';\nimport styles from './styles.css.js';\n\nexport interface ButtonIconProps {\n  loading?: boolean;\n  iconName?: ButtonProps['iconName'];\n  iconAlign?: ButtonProps['iconAlign'];\n  iconUrl?: string;\n  iconSvg?: React.ReactNode;\n  iconAlt?: string;\n  iconSize?: IconProps.Size;\n  variant?: string;\n  iconClass?: string;\n}\n\nfunction getIconAlign(props: ButtonIconProps) {\n  const standalone = props.variant === 'icon' || props.variant === 'inline-icon';\n\n  return standalone ? 'left' : props.iconAlign;\n}\n\nfunction IconWrapper({ iconName, iconUrl, iconAlt, iconSvg, iconSize, ...props }: ButtonIconProps) {\n  if (!iconName && !iconUrl && !iconSvg) {\n    return null;\n  }\n\n  return (\n    <InternalIcon\n      className={clsx(styles.icon, styles[`icon-${getIconAlign(props)}`], props.iconClass)}\n      name={iconName}\n      url={iconUrl}\n      svg={iconSvg}\n      alt={iconAlt}\n      size={iconSize}\n    />\n  );\n}\n\nexport function LeftIcon(props: ButtonIconProps) {\n  if (props.loading) {\n    return <InternalSpinner className={clsx(styles.icon, styles['icon-left'])} />;\n  } else if (getIconAlign(props) === 'left') {\n    return <IconWrapper {...props} />;\n  }\n  return null;\n}\n\nexport function RightIcon(props: ButtonIconProps) {\n  if (getIconAlign(props) === 'right') {\n    return <IconWrapper {...props} />;\n  }\n  return null;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useContext, createContext } from 'react';\n\nimport { InternalButtonProps } from '../../button/internal';\n\nexport interface ButtonContextProps {\n  onClick: ({ variant }: { variant: InternalButtonProps['variant'] }) => void;\n}\n\nexport const ButtonContext = createContext<ButtonContextProps>({\n  onClick: () => {},\n});\n\nexport function useButtonContext() {\n  return useContext(ButtonContext);\n}\n"],
  "mappings": "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",
  "names": ["import_react", "import_react", "React", "internal_default"]
}
