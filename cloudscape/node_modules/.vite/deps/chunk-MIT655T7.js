import {
  InfoLinkLabelContext
} from "./chunk-YTKRNNDQ.js";
import {
  useForwardFocus
} from "./chunk-VX6M7C7V.js";
import {
  useInternalI18n
} from "./chunk-VOJM65QS.js";
import {
  useUniqueId
} from "./chunk-ZOQJCCJI.js";
import {
  checkSafeUrl
} from "./chunk-JPGUN2BY.js";
import {
  fireCancelableEvent,
  isPlainLeftClick
} from "./chunk-CTALK4OT.js";
import {
  internal_default
} from "./chunk-CRWXG7GH.js";
import {
  FunnelMetrics,
  useFunnel,
  useFunnelSubStep
} from "./chunk-7FZ3ZYD3.js";
import {
  DATA_ATTR_FUNNEL_VALUE,
  getFunnelValueSelector,
  getNameFromSelector,
  getSubStepAllSelector
} from "./chunk-AX3SE4VV.js";
import {
  useMergeRefs
} from "./chunk-INN7TUPO.js";
import {
  KeyCode,
  __rest,
  clsx_m_default,
  getBaseProps,
  useVisualRefresh
} from "./chunk-BATVD76T.js";
import {
  __toESM,
  require_react
} from "./chunk-C3URVCCN.js";

// node_modules/@cloudscape-design/components/link/internal.js
var import_react = __toESM(require_react());

// node_modules/@cloudscape-design/components/link/styles.css.js
import "/local/home/samilafo/final_epa_project/cloudscape_wrkshp/cloudscape-design-system-workshop/node_modules/@cloudscape-design/components/link/styles.scoped.css";
var styles_css_default = {
  "link": "awsui_link_4c84z_15goh_93",
  "variant-secondary": "awsui_variant-secondary_4c84z_15goh_140",
  "variant-primary": "awsui_variant-primary_4c84z_15goh_177",
  "variant-info": "awsui_variant-info_4c84z_15goh_212",
  "variant-value-large": "awsui_variant-value-large_4c84z_15goh_249",
  "variant-top-navigation": "awsui_variant-top-navigation_4c84z_15goh_283",
  "variant-recovery": "awsui_variant-recovery_4c84z_15goh_318",
  "button": "awsui_button_4c84z_15goh_353",
  "color-inverted": "awsui_color-inverted_4c84z_15goh_390",
  "font-size-body-s": "awsui_font-size-body-s_4c84z_15goh_409",
  "font-size-body-m": "awsui_font-size-body-m_4c84z_15goh_414",
  "font-size-heading-xs": "awsui_font-size-heading-xs_4c84z_15goh_418",
  "font-size-heading-s": "awsui_font-size-heading-s_4c84z_15goh_422",
  "font-size-heading-m": "awsui_font-size-heading-m_4c84z_15goh_427",
  "font-size-heading-l": "awsui_font-size-heading-l_4c84z_15goh_432",
  "font-size-heading-xl": "awsui_font-size-heading-xl_4c84z_15goh_437",
  "font-size-display-l": "awsui_font-size-display-l_4c84z_15goh_442",
  "font-size-inherit": "awsui_font-size-inherit_4c84z_15goh_447",
  "icon-wrapper": "awsui_icon-wrapper_4c84z_15goh_453",
  "icon": "awsui_icon_4c84z_15goh_453"
};

// node_modules/@cloudscape-design/components/link/internal.js
var InternalLink = import_react.default.forwardRef((_a, ref) => {
  var { variant = "secondary", fontSize = "body-m", color = "normal", external = false, target, href, rel, ariaLabel, externalIconAriaLabel, onFollow, children, __internalRootRef = null } = _a, props = __rest(_a, ["variant", "fontSize", "color", "external", "target", "href", "rel", "ariaLabel", "externalIconAriaLabel", "onFollow", "children", "__internalRootRef"]);
  checkSafeUrl("Link", href);
  const isButton = !href;
  const specialStyles = ["top-navigation", "link", "recovery"];
  const hasSpecialStyle = specialStyles.indexOf(variant) > -1;
  const i18n = useInternalI18n("link");
  const baseProps = getBaseProps(props);
  const anchorTarget = target !== null && target !== void 0 ? target : external ? "_blank" : void 0;
  const anchorRel = rel !== null && rel !== void 0 ? rel : anchorTarget === "_blank" ? "noopener noreferrer" : void 0;
  const uniqueId = useUniqueId("link");
  const linkId = useUniqueId("link-self");
  const infoId = useUniqueId("link-info");
  const infoLinkLabelFromContext = (0, import_react.useContext)(InfoLinkLabelContext);
  const { funnelInteractionId } = useFunnel();
  const { stepNumber, stepNameSelector, subStepSelector, subStepNameSelector } = useFunnelSubStep();
  const fireFunnelEvent = (funnelInteractionId2) => {
    if (variant === "info") {
      const stepName = getNameFromSelector(stepNameSelector);
      const subStepName = getNameFromSelector(subStepNameSelector);
      FunnelMetrics.helpPanelInteracted({
        funnelInteractionId: funnelInteractionId2,
        stepNumber,
        stepName,
        stepNameSelector,
        subStepSelector,
        subStepName,
        subStepNameSelector,
        elementSelector: getFunnelValueSelector(uniqueId),
        subStepAllSelector: getSubStepAllSelector()
      });
    } else if (external) {
      const stepName = getNameFromSelector(stepNameSelector);
      const subStepName = getNameFromSelector(subStepNameSelector);
      FunnelMetrics.externalLinkInteracted({
        funnelInteractionId: funnelInteractionId2,
        stepNumber,
        stepName,
        stepNameSelector,
        subStepSelector,
        subStepName,
        subStepNameSelector,
        elementSelector: getFunnelValueSelector(uniqueId),
        subStepAllSelector: getSubStepAllSelector()
      });
    }
  };
  const fireFollowEvent = (event) => {
    if (funnelInteractionId) {
      fireFunnelEvent(funnelInteractionId);
    }
    fireCancelableEvent(onFollow, { href, external, target: anchorTarget }, event);
  };
  const handleLinkClick = (event) => {
    if (isPlainLeftClick(event)) {
      fireFollowEvent(event);
    }
  };
  const handleButtonClick = (event) => {
    fireFollowEvent(event);
  };
  const handleButtonKeyDown = (event) => {
    if (event.keyCode === KeyCode.space || event.keyCode === KeyCode.enter) {
      event.preventDefault();
      fireFollowEvent(event);
    }
  };
  const linkRef = (0, import_react.useRef)(null);
  const isVisualRefresh = useVisualRefresh();
  useForwardFocus(ref, linkRef);
  const applyButtonStyles = isButton && isVisualRefresh && !hasSpecialStyle;
  const sharedProps = Object.assign(Object.assign({ id: linkId }, baseProps), {
    ref: useMergeRefs(linkRef, __internalRootRef),
    className: clsx_m_default(styles_css_default.link, baseProps.className, applyButtonStyles ? styles_css_default.button : null, styles_css_default[getVariantStyle(variant)], styles_css_default[getFontSizeStyle(variant, fontSize)], styles_css_default[getColorStyle(variant, color)]),
    "aria-label": ariaLabel,
    "aria-labelledby": "",
    [DATA_ATTR_FUNNEL_VALUE]: uniqueId
  });
  if (variant === "info" && infoLinkLabelFromContext && !ariaLabel) {
    sharedProps["aria-labelledby"] = `${sharedProps.id} ${infoId} ${infoLinkLabelFromContext}`;
  }
  const renderedExternalIconAriaLabel = i18n("externalIconAriaLabel", externalIconAriaLabel);
  const content = import_react.default.createElement(
    import_react.default.Fragment,
    null,
    children,
    external && import_react.default.createElement(
      "span",
      { className: styles_css_default["icon-wrapper"] },
      "\xA0",
      import_react.default.createElement(
        "span",
        { className: styles_css_default.icon, "aria-label": renderedExternalIconAriaLabel, role: renderedExternalIconAriaLabel ? "img" : void 0 },
        import_react.default.createElement(internal_default, { name: "external", size: "inherit" })
      )
    ),
    variant === "info" && import_react.default.createElement("span", { hidden: true, id: infoId }, ":")
  );
  if (isButton) {
    return import_react.default.createElement("a", Object.assign({}, sharedProps, { role: "button", tabIndex: 0, onKeyDown: handleButtonKeyDown, onClick: handleButtonClick }), content);
  }
  return import_react.default.createElement("a", Object.assign({}, sharedProps, { target: anchorTarget, rel: anchorRel, href, onClick: handleLinkClick }), content);
});
function getVariantStyle(variant) {
  return `variant-${variant.replace(/^awsui-/, "")}`;
}
function getFontSizeStyle(variant, fontSize) {
  switch (variant) {
    case "info":
      return "font-size-body-s";
    case "awsui-value-large":
      return "font-size-display-l";
    default:
      return `font-size-${fontSize}`;
  }
}
function getColorStyle(variant, color) {
  return `color-${variant === "info" ? "normal" : color}`;
}
var internal_default2 = InternalLink;

export {
  internal_default2 as internal_default
};
//# sourceMappingURL=chunk-MIT655T7.js.map
