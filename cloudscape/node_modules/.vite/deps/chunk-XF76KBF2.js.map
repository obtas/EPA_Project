{
  "version": 3,
  "sources": ["../../@cloudscape-design/components/internal/hooks/use-dynamic-overlap/internal/hooks/use-dynamic-overlap/index.ts", "../../@cloudscape-design/components/container/container/internal.tsx", "../../@cloudscape-design/components/container/styles.css.js"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useContext, useLayoutEffect } from 'react';\n\nimport { DynamicOverlapContext } from '../../context/dynamic-overlap-context';\nimport { useContainerQuery } from '../container-queries';\n\nexport interface UseDynamicOverlapProps {\n  /**\n   * Disables hook if not needed. By default, `false`.\n   */\n  disabled?: boolean;\n}\n\n/**\n * Observes the height of an element referenced by the returning ref and sets the value as overlapping\n * height for the surrounding AppLayout component.\n * @param props.disabled disables hook if not applicable\n * @returns ref to be measured as overlapping height\n */\nexport function useDynamicOverlap(props?: UseDynamicOverlapProps) {\n  const disabled = props?.disabled ?? false;\n  const setDynamicOverlapHeight = useContext(DynamicOverlapContext);\n  const [overlapHeight, overlapElementRef] = useContainerQuery(rect => rect.height);\n\n  useLayoutEffect(\n    function handleDynamicOverlapHeight() {\n      if (!disabled) {\n        setDynamicOverlapHeight(overlapHeight ?? 0);\n      }\n\n      return () => {\n        if (!disabled) {\n          setDynamicOverlapHeight(0);\n        }\n      };\n    },\n    [disabled, overlapHeight, setDynamicOverlapHeight]\n  );\n\n  return overlapElementRef;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useEffect, useRef } from 'react';\nimport { ContainerProps } from './interfaces';\nimport { getBaseProps } from '../internal/base-component';\nimport { useAppLayoutContext } from '../internal/context/app-layout-context';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { StickyHeaderContext, useStickyHeader } from './use-sticky-header';\nimport { useDynamicOverlap } from '../internal/hooks/use-dynamic-overlap';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport styles from './styles.css.js';\nimport { useFunnelSubStep } from '../internal/analytics/hooks/use-funnel';\n\nexport interface InternalContainerProps extends Omit<ContainerProps, 'variant'>, InternalBaseComponentProps {\n  __stickyHeader?: boolean;\n  __stickyOffset?: number;\n  __mobileStickyOffset?: number;\n  __disableFooterDivider?: boolean;\n  __disableFooterPaddings?: boolean;\n  __hiddenContent?: boolean;\n  __headerRef?: React.RefObject<HTMLDivElement>;\n  __headerId?: string;\n  __darkHeader?: boolean;\n  __disableStickyMobile?: boolean;\n  /**\n   * Additional internal variant:\n   * * `embedded` - Use this variant within a parent container (such as a modal,\n   *                expandable section, container or split panel).\n   * * `full-page` â€“ Only for internal use in table, cards and other components\n   */\n  variant?: ContainerProps['variant'] | 'embedded' | 'full-page' | 'cards';\n}\n\nexport default function InternalContainer({\n  header,\n  footer,\n  children,\n  variant = 'default',\n  disableHeaderPaddings = false,\n  disableContentPaddings = false,\n  fitHeight,\n  media,\n  __stickyOffset,\n  __mobileStickyOffset,\n  __stickyHeader = false,\n  __internalRootRef = null,\n  __disableFooterDivider = false,\n  __disableFooterPaddings = false,\n  __hiddenContent = false,\n  __headerRef,\n  __headerId,\n  __darkHeader = false,\n  __disableStickyMobile = true,\n  ...restProps\n}: InternalContainerProps) {\n  const isMobile = useMobile();\n  const baseProps = getBaseProps(restProps);\n  const rootRef = useRef<HTMLDivElement>(null);\n  const headerRef = useRef<HTMLDivElement>(null);\n  const { isSticky, isStuck, stickyStyles } = useStickyHeader(\n    rootRef,\n    headerRef,\n    __stickyHeader,\n    __stickyOffset,\n    __mobileStickyOffset,\n    __disableStickyMobile\n  );\n  const { setHasStickyBackground } = useAppLayoutContext();\n  const isRefresh = useVisualRefresh();\n  const { subStepRef, funnelSubStepProps } = useFunnelSubStep();\n\n  const hasDynamicHeight = isRefresh && variant === 'full-page';\n  const overlapElement = useDynamicOverlap({ disabled: !hasDynamicHeight || !__darkHeader });\n\n  const mergedRef = useMergeRefs(rootRef, subStepRef, __internalRootRef);\n  const headerMergedRef = useMergeRefs(headerRef, overlapElement, __headerRef);\n  const headerIdProp = __headerId ? { id: __headerId } : {};\n\n  /**\n   * The visual refresh AppLayout component needs to know if a child component\n   * has a high contrast sticky header. This is to make sure the background element\n   * stays in the same vertical position as the header content.\n   */\n  useEffect(() => {\n    const shouldUpdateStickyBackground = isSticky && variant === 'full-page' && setHasStickyBackground;\n    if (shouldUpdateStickyBackground) {\n      setHasStickyBackground(true);\n    }\n\n    return () => {\n      if (shouldUpdateStickyBackground) {\n        setHasStickyBackground(false);\n      }\n    };\n  }, [isSticky, setHasStickyBackground, variant]);\n\n  // The container is only sticky on mobile if it is the header for the table.\n  // In this case we don't want the container to have sticky styles, as only the table header row will show as stuck on scroll.\n  const shouldHaveStickyStyles = isSticky && !isMobile;\n\n  const hasMedia = !!media?.content;\n  const mediaPosition = media?.position ?? 'top';\n\n  return (\n    <div\n      {...baseProps}\n      {...funnelSubStepProps}\n      className={clsx(\n        baseProps.className,\n        styles.root,\n        styles[`variant-${variant}`],\n        fitHeight && styles['fit-height'],\n        hasMedia && (mediaPosition === 'side' ? styles['with-side-media'] : styles['with-top-media']),\n        shouldHaveStickyStyles && [styles['sticky-enabled']]\n      )}\n      ref={mergedRef}\n    >\n      {hasMedia && (\n        <div\n          className={clsx(styles[`media-${mediaPosition === 'side' ? 'side' : 'top'}`], styles.media)}\n          style={mediaPosition === 'top' ? { height: media?.height || '' } : { width: media?.width || '' }}\n        >\n          {media.content}\n        </div>\n      )}\n      <div className={clsx(styles['content-wrapper'], fitHeight && styles['content-wrapper-fit-height'])}>\n        {header && (\n          <StickyHeaderContext.Provider value={{ isStuck }}>\n            <div\n              className={clsx(styles.header, styles[`header-variant-${variant}`], {\n                [styles['header-sticky-disabled']]: __stickyHeader && !isSticky,\n                [styles['header-sticky-enabled']]: isSticky,\n                [styles['header-dynamic-height']]: hasDynamicHeight,\n                [styles['header-stuck']]: isStuck,\n                [styles['with-paddings']]: !disableHeaderPaddings,\n                [styles['with-hidden-content']]: !children || __hiddenContent,\n                [styles['header-with-media']]: hasMedia,\n              })}\n              {...headerIdProp}\n              {...stickyStyles}\n              ref={headerMergedRef}\n            >\n              {__darkHeader ? (\n                <div className={clsx(styles['dark-header'], 'awsui-context-content-header')}>{header}</div>\n              ) : (\n                header\n              )}\n            </div>\n          </StickyHeaderContext.Provider>\n        )}\n        <div\n          className={clsx(styles.content, fitHeight && styles['content-fit-height'], {\n            [styles['with-paddings']]: !disableContentPaddings,\n          })}\n        >\n          {children}\n        </div>\n        {footer && (\n          <div\n            className={clsx(styles.footer, {\n              [styles['with-divider']]: !__disableFooterDivider,\n              [styles['with-paddings']]: !__disableFooterPaddings,\n            })}\n          >\n            {footer}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_14iqq_f40a9_97\",\n  \"fit-height\": \"awsui_fit-height_14iqq_f40a9_111\",\n  \"with-side-media\": \"awsui_with-side-media_14iqq_f40a9_116\",\n  \"variant-default\": \"awsui_variant-default_14iqq_f40a9_119\",\n  \"variant-stacked\": \"awsui_variant-stacked_14iqq_f40a9_119\",\n  \"sticky-enabled\": \"awsui_sticky-enabled_14iqq_f40a9_172\",\n  \"with-top-media\": \"awsui_with-top-media_14iqq_f40a9_184\",\n  \"content-wrapper\": \"awsui_content-wrapper_14iqq_f40a9_189\",\n  \"content-wrapper-fit-height\": \"awsui_content-wrapper-fit-height_14iqq_f40a9_194\",\n  \"media\": \"awsui_media_14iqq_f40a9_199\",\n  \"media-top\": \"awsui_media-top_14iqq_f40a9_211\",\n  \"media-side\": \"awsui_media-side_14iqq_f40a9_216\",\n  \"header\": \"awsui_header_14iqq_f40a9_222\",\n  \"header-with-media\": \"awsui_header-with-media_14iqq_f40a9_227\",\n  \"header-sticky-disabled\": \"awsui_header-sticky-disabled_14iqq_f40a9_233\",\n  \"header-sticky-enabled\": \"awsui_header-sticky-enabled_14iqq_f40a9_237\",\n  \"header-stuck\": \"awsui_header-stuck_14iqq_f40a9_243\",\n  \"header-variant-cards\": \"awsui_header-variant-cards_14iqq_f40a9_249\",\n  \"header-dynamic-height\": \"awsui_header-dynamic-height_14iqq_f40a9_252\",\n  \"with-paddings\": \"awsui_with-paddings_14iqq_f40a9_258\",\n  \"with-hidden-content\": \"awsui_with-hidden-content_14iqq_f40a9_261\",\n  \"header-variant-full-page\": \"awsui_header-variant-full-page_14iqq_f40a9_311\",\n  \"dark-header\": \"awsui_dark-header_14iqq_f40a9_329\",\n  \"content\": \"awsui_content_14iqq_f40a9_189\",\n  \"content-fit-height\": \"awsui_content-fit-height_14iqq_f40a9_337\",\n  \"content-with-media\": \"awsui_content-with-media_14iqq_f40a9_346\",\n  \"footer\": \"awsui_footer_14iqq_f40a9_350\",\n  \"with-divider\": \"awsui_with-divider_14iqq_f40a9_353\"\n};\n  "],
  "mappings": "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",
  "names": ["import_react", "React"]
}
