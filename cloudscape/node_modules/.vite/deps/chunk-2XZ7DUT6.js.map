{
  "version": 3,
  "sources": ["../../@cloudscape-design/components/multiselect/multiselect/internal.tsx", "../../@cloudscape-design/components/internal/components/option/utils/internal/components/option/utils/filter-options.ts", "../../@cloudscape-design/components/internal/components/dropdown-footer/internal/components/dropdown-footer/index.tsx", "../../@cloudscape-design/components/internal/components/dropdown-footer/styles.css.js", "../../@cloudscape-design/components/internal/components/dropdown-status/internal/components/dropdown-status/index.tsx", "../../@cloudscape-design/components/internal/components/dropdown-status/styles.css.js", "../../@cloudscape-design/components/internal/components/option/utils/internal/components/option/utils/flatten-options.ts", "../../@cloudscape-design/components/internal/components/options-list/utils/internal/components/options-list/utils/test-indexes.ts", "../../@cloudscape-design/components/internal/components/option/utils/internal/components/option/utils/prepare-options.ts", "../../@cloudscape-design/components/select/utils/select/utils/use-select.ts", "../../@cloudscape-design/components/internal/components/options-list/utils/internal/components/options-list/utils/use-highlight-option.ts", "../../@cloudscape-design/components/internal/components/options-list/utils/internal/components/options-list/utils/use-keyboard.ts", "../../@cloudscape-design/components/internal/components/options-list/utils/internal/components/options-list/utils/use-ids.ts", "../../@cloudscape-design/components/select/utils/select/utils/connect-options.ts", "../../@cloudscape-design/components/select/utils/select/utils/use-native-search.ts", "../../@cloudscape-design/components/select/utils/select/utils/use-load-items.ts", "../../@cloudscape-design/components/select/utils/select/utils/use-announcement.ts", "../../@cloudscape-design/components/internal/components/option/internal/components/option/option-announcer.ts", "../../@cloudscape-design/components/select/parts/select/parts/plain-list.tsx", "../../@cloudscape-design/components/select/utils/select/utils/render-options.tsx", "../../@cloudscape-design/components/select/parts/select/parts/item.tsx", "../../@cloudscape-design/components/select/parts/styles.css.js", "../../@cloudscape-design/components/internal/components/option/internal/components/option/index.tsx", "../../@cloudscape-design/components/internal/components/option/styles.css.js", "../../@cloudscape-design/components/internal/components/option/internal/components/option/option-parts.tsx", "../../@cloudscape-design/components/internal/components/option/internal/components/option/highlight-match.tsx", "../../@cloudscape-design/components/internal/components/selectable-item/internal/components/selectable-item/index.tsx", "../../@cloudscape-design/components/internal/components/selectable-item/styles.css.js", "../../@cloudscape-design/components/select/parts/select/parts/multiselect-item.tsx", "../../@cloudscape-design/components/select/utils/select/utils/get-item-props.ts", "../../@cloudscape-design/components/select/parts/select/parts/virtual-list.tsx", "../../@cloudscape-design/components/internal/hooks/use-virtual/internal/hooks/use-virtual/index.ts", "../../@cloudscape-design/components/node_modules/react-virtual/node_modules/@reach/observe-rect/dist/observe-rect.esm.js", "../../@cloudscape-design/components/node_modules/react-virtual/src/useIsomorphicLayoutEffect.js", "../../@cloudscape-design/components/node_modules/react-virtual/src/useRect.js", "../../@cloudscape-design/components/node_modules/react-virtual/src/index.js", "../../@cloudscape-design/components/select/utils/select/utils/check-option-value-field.ts", "../../@cloudscape-design/components/select/parts/select/parts/filter.tsx", "../../@cloudscape-design/components/select/parts/select/parts/trigger.tsx", "../../@cloudscape-design/components/internal/components/button-trigger/internal/components/button-trigger/index.tsx", "../../@cloudscape-design/components/internal/components/button-trigger/styles.css.js", "../../@cloudscape-design/components/token-group/token-group/internal.tsx", "../../@cloudscape-design/components/token-group/styles.css.js", "../../@cloudscape-design/components/internal/components/token-list/internal/components/token-list/index.tsx", "../../@cloudscape-design/components/internal/components/token-list/internal/components/token-list/token-limit-toggle.tsx", "../../@cloudscape-design/components/internal/components/token-list/styles.css.js", "../../@cloudscape-design/components/internal/components/token-list/internal/components/token-list/token-focus-controller.tsx", "../../@cloudscape-design/components/token-group/token-group/token.tsx", "../../@cloudscape-design/components/token-group/token-group/dismiss-button.tsx", "../../@cloudscape-design/components/multiselect/styles.css.js"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\n\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component/index.js';\nimport { useFormFieldContext } from '../internal/context/form-field-context';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { isGroup } from '../internal/components/option/utils/filter-options';\n\nimport DropdownFooter from '../internal/components/dropdown-footer/index.js';\nimport { prepareOptions } from '../internal/components/option/utils/prepare-options';\nimport { OptionDefinition, OptionGroup } from '../internal/components/option/interfaces';\nimport Dropdown from '../internal/components/dropdown';\nimport { useDropdownStatus } from '../internal/components/dropdown-status';\n\nimport { useSelect, MenuProps } from '../select/utils/use-select';\nimport { useNativeSearch } from '../select/utils/use-native-search';\nimport { useLoadItems } from '../select/utils/use-load-items';\nimport { useAnnouncement } from '../select/utils/use-announcement';\nimport { findOptionIndex } from '../select/utils/connect-options';\nimport PlainList, { SelectListProps } from '../select/parts/plain-list';\nimport VirtualList from '../select/parts/virtual-list';\nimport { checkOptionValueField } from '../select/utils/check-option-value-field.js';\nimport Filter from '../select/parts/filter';\nimport Trigger from '../select/parts/trigger';\n\nimport InternalTokenGroup from '../token-group/internal';\nimport { TokenGroupProps } from '../token-group/interfaces';\n\nimport { MultiselectProps } from './interfaces';\nimport styles from './styles.css.js';\nimport ScreenreaderOnly from '../internal/components/screenreader-only';\nimport { joinStrings } from '../internal/utils/strings';\nimport { useInternalI18n } from '../internal/i18n/context';\n\ntype InternalMultiselectProps = MultiselectProps & InternalBaseComponentProps;\n\nconst InternalMultiselect = React.forwardRef(\n  (\n    {\n      options = [],\n      filteringType = 'none',\n      filteringPlaceholder,\n      filteringAriaLabel,\n      filteringClearAriaLabel,\n      filteringResultsText,\n      ariaRequired,\n      placeholder,\n      disabled,\n      ariaLabel,\n      statusType = 'finished',\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      recoveryText,\n      noMatch,\n      selectedAriaLabel,\n      renderHighlightedAriaLive,\n      selectedOptions = [],\n      deselectAriaLabel,\n      keepOpen = true,\n      tokenLimit,\n      i18nStrings,\n      onBlur,\n      onFocus,\n      onLoadItems,\n      onChange,\n      virtualScroll,\n      hideTokens = false,\n      expandToViewport,\n      __internalRootRef = null,\n      autoFocus,\n      ...restProps\n    }: InternalMultiselectProps,\n    externalRef: React.Ref<MultiselectProps.Ref>\n  ) => {\n    checkOptionValueField('Multiselect', 'options', options);\n\n    const baseProps = getBaseProps(restProps);\n    const formFieldContext = useFormFieldContext(restProps);\n    const i18n = useInternalI18n('multiselect');\n\n    const { handleLoadMore, handleRecoveryClick, fireLoadItems } = useLoadItems({\n      onLoadItems,\n      options,\n      statusType,\n    });\n    const useInteractiveGroups = true;\n    const [filteringValue, setFilteringValue] = useState('');\n    const { filteredOptions, parentMap, totalCount, matchesCount } = prepareOptions(\n      options,\n      filteringType,\n      filteringValue\n    );\n\n    const updateSelectedOption = useCallback(\n      (option: OptionDefinition | OptionGroup) => {\n        const filtered = filteredOptions.filter(item => item.type !== 'parent').map(item => item.option);\n\n        // switch between selection and deselection behavior, ignores disabled options to prevent\n        // getting stuck on one behavior when an option is disabled and its state cannot be changed\n        const isAllChildrenSelected = (optionsArray: OptionDefinition[]) =>\n          optionsArray.every(item => findOptionIndex(selectedOptions, item) > -1 || item.disabled);\n        const intersection = (visibleOptions: OptionDefinition[], options: OptionDefinition[]) =>\n          visibleOptions.filter(item => findOptionIndex(options, item) > -1 && !item.disabled);\n        const union = (visibleOptions: OptionDefinition[], options: OptionDefinition[]) =>\n          visibleOptions.filter(item => findOptionIndex(options, item) === -1).concat(options);\n        const select = (options: OptionDefinition[], selectedOptions: OptionDefinition[]) => {\n          return union(selectedOptions, options);\n        };\n        const unselect = (options: OptionDefinition[], selectedOptions: OptionDefinition[]) => {\n          return selectedOptions.filter(option => findOptionIndex(options, option) === -1);\n        };\n        let newSelectedOptions = [...selectedOptions];\n\n        if (isGroup(option)) {\n          const visibleOptions = intersection([...option.options], filtered);\n          newSelectedOptions = isAllChildrenSelected(visibleOptions)\n            ? unselect(visibleOptions, newSelectedOptions)\n            : select(visibleOptions, newSelectedOptions);\n        } else {\n          newSelectedOptions = isAllChildrenSelected([option])\n            ? unselect([option], newSelectedOptions)\n            : select([option], newSelectedOptions);\n        }\n\n        fireNonCancelableEvent(onChange, {\n          selectedOptions: newSelectedOptions,\n        });\n      },\n      [onChange, selectedOptions, filteredOptions]\n    );\n\n    const rootRef = useRef<HTMLDivElement>(null);\n\n    const selfControlId = useUniqueId('trigger');\n    const controlId = formFieldContext.controlId ?? selfControlId;\n\n    const multiSelectAriaLabelId = useUniqueId('multiselect-arialabel-');\n\n    const footerId = useUniqueId('footer');\n\n    const scrollToIndex = useRef<SelectListProps.SelectListRef>(null);\n    const {\n      isOpen,\n      highlightType,\n      highlightedOption,\n      highlightedIndex,\n      getTriggerProps,\n      getDropdownProps,\n      getFilterProps,\n      getMenuProps,\n      getOptionProps,\n      highlightOption,\n      announceSelected,\n    } = useSelect({\n      selectedOptions,\n      updateSelectedOption,\n      options: filteredOptions,\n      filteringType,\n      onFocus,\n      onBlur,\n      externalRef,\n      keepOpen,\n      fireLoadItems,\n      setFilteringValue,\n      useInteractiveGroups,\n      statusType,\n    });\n\n    const handleNativeSearch = useNativeSearch({\n      isEnabled: filteringType === 'none' && isOpen,\n      options: filteredOptions,\n      highlightOption: highlightOption,\n      highlightedOption: highlightedOption?.option,\n      useInteractiveGroups,\n    });\n\n    const isEmpty = !options || options.length === 0;\n    const isNoMatch = filteredOptions && filteredOptions.length === 0;\n    const isFiltered =\n      filteringType !== 'none' && filteringValue.length > 0 && filteredOptions && filteredOptions.length > 0;\n    const filteredText = isFiltered ? filteringResultsText?.(matchesCount, totalCount) : undefined;\n    const dropdownStatus = useDropdownStatus({\n      statusType,\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      recoveryText,\n      isEmpty,\n      isNoMatch,\n      noMatch,\n      isFiltered,\n      filteringResultsText: filteredText,\n      onRecoveryClick: handleRecoveryClick,\n      errorIconAriaLabel: restProps.errorIconAriaLabel,\n    });\n\n    const filter = (\n      <Filter\n        clearAriaLabel={filteringClearAriaLabel}\n        filteringType={filteringType}\n        placeholder={filteringPlaceholder}\n        ariaLabel={filteringAriaLabel}\n        ariaRequired={ariaRequired}\n        value={filteringValue}\n        {...getFilterProps()}\n      />\n    );\n\n    const trigger = (\n      <Trigger\n        placeholder={placeholder}\n        disabled={disabled}\n        triggerProps={getTriggerProps(disabled, autoFocus)}\n        selectedOption={null}\n        isOpen={isOpen}\n        {...formFieldContext}\n        controlId={controlId}\n        ariaLabelledby={joinStrings(formFieldContext.ariaLabelledby, multiSelectAriaLabelId)}\n      />\n    );\n\n    const menuProps: MenuProps = {\n      ...getMenuProps(),\n      onLoadMore: handleLoadMore,\n      ariaLabelledby: joinStrings(multiSelectAriaLabelId, controlId),\n      ariaDescribedby: dropdownStatus.content ? footerId : undefined,\n    };\n\n    const announcement = useAnnouncement({\n      announceSelected,\n      highlightedOption,\n      getParent: option => parentMap.get(option)?.option as undefined | OptionGroup,\n      selectedAriaLabel,\n      renderHighlightedAriaLive,\n    });\n\n    const tokens: TokenGroupProps['items'] = selectedOptions.map(option => ({\n      label: option.label,\n      disabled: disabled || option.disabled,\n      labelTag: option.labelTag,\n      description: option.description,\n      iconAlt: option.iconAlt,\n      iconName: option.iconName,\n      iconUrl: option.iconUrl,\n      iconSvg: option.iconSvg,\n      tags: option.tags,\n      dismissLabel: i18n('deselectAriaLabel', deselectAriaLabel?.(option), format =>\n        format({ option__label: option.label ?? '' })\n      ),\n    }));\n\n    useEffect(() => {\n      scrollToIndex.current?.(highlightedIndex);\n    }, [highlightedIndex]);\n\n    const ListComponent = virtualScroll ? VirtualList : PlainList;\n\n    const handleMouseDown = (event: React.MouseEvent) => {\n      const target = event.target as HTMLElement;\n\n      if (target !== document.activeElement) {\n        // prevent currently focused element from losing it\n        event.preventDefault();\n      }\n    };\n\n    const showTokens = !hideTokens && tokens.length > 0;\n    const handleTokenDismiss: TokenGroupProps['onDismiss'] = ({ detail }) => {\n      const optionToDeselect = selectedOptions[detail.itemIndex];\n      updateSelectedOption(optionToDeselect);\n      const targetRef = getTriggerProps().ref;\n      if (targetRef.current) {\n        targetRef.current.focus();\n      }\n    };\n\n    const tokenGroupI18nStrings: TokenGroupProps.I18nStrings = {\n      limitShowFewer: i18nStrings?.tokenLimitShowFewer,\n      limitShowMore: i18nStrings?.tokenLimitShowMore,\n    };\n\n    const mergedRef = useMergeRefs(rootRef, __internalRootRef);\n\n    return (\n      <div\n        {...baseProps}\n        ref={mergedRef}\n        className={clsx(styles.root, baseProps.className)}\n        onKeyPress={handleNativeSearch}\n      >\n        <Dropdown\n          {...getDropdownProps()}\n          open={isOpen}\n          trigger={trigger}\n          header={filter}\n          onMouseDown={handleMouseDown}\n          footer={\n            dropdownStatus.isSticky ? (\n              <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n            ) : null\n          }\n          expandToViewport={expandToViewport}\n        >\n          <ListComponent\n            listBottom={\n              !dropdownStatus.isSticky ? (\n                <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n              ) : null\n            }\n            menuProps={menuProps}\n            getOptionProps={getOptionProps}\n            filteredOptions={filteredOptions}\n            filteringValue={filteringValue}\n            ref={scrollToIndex}\n            hasDropdownStatus={dropdownStatus.content !== null}\n            checkboxes={true}\n            useInteractiveGroups={useInteractiveGroups}\n            screenReaderContent={announcement}\n            highlightType={highlightType}\n          />\n        </Dropdown>\n        {showTokens && (\n          <InternalTokenGroup\n            alignment=\"horizontal\"\n            limit={tokenLimit}\n            items={tokens}\n            onDismiss={handleTokenDismiss}\n            i18nStrings={tokenGroupI18nStrings}\n          />\n        )}\n        <ScreenreaderOnly id={multiSelectAriaLabelId}>{ariaLabel}</ScreenreaderOnly>\n      </div>\n    );\n  }\n);\n\nexport default InternalMultiselect;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../interfaces';\n\ntype SearchableField = 'value' | 'label' | 'description' | 'labelTag';\ntype SearchableTagField = 'tags' | 'filteringTags';\n\nconst searchableFields: SearchableField[] = ['value', 'label', 'description', 'labelTag'];\n\nexport const matchesString = (value: string | undefined, searchText: string, strictMatching: boolean): boolean => {\n  if (!value) {\n    return false;\n  }\n  const index = value.toLowerCase().indexOf(searchText);\n  return strictMatching ? index === 0 : index > -1;\n};\n\nconst matchesSingleOption = (dropdownOption: DropdownOption, text: string, strictMatching: boolean): boolean => {\n  const searchText = text.toLowerCase();\n\n  const option: OptionDefinition = dropdownOption.option;\n  const searchStrFields = (attr: SearchableField) => matchesString(option[attr], searchText, strictMatching);\n  const searchTagsFields = (attr: SearchableTagField) =>\n    option[attr]?.some(value => matchesString(value, searchText, strictMatching));\n\n  const searchableTagFields: SearchableTagField[] = ['tags'];\n  if (!strictMatching) {\n    searchableTagFields.push('filteringTags');\n  }\n\n  return searchableFields.some(searchStrFields) || searchableTagFields.some(searchTagsFields);\n};\n\nexport const filterOptions = (\n  options: ReadonlyArray<DropdownOption>,\n  searchText: string,\n  strictMatching = false\n): ReadonlyArray<DropdownOption> => {\n  if (searchText === '') {\n    return options;\n  }\n\n  let currentGroup: DropdownOption | null = null;\n  let parentMatched = false;\n  return options.reduce<DropdownOption[]>((acc, option) => {\n    if (option.type === 'parent') {\n      parentMatched = false;\n      currentGroup = option;\n      if (matchesSingleOption(option, searchText, strictMatching)) {\n        parentMatched = true;\n        acc.push(currentGroup);\n      }\n      return acc;\n    }\n    if (option.type !== 'child') {\n      currentGroup = null;\n      parentMatched = false;\n    }\n    if (parentMatched) {\n      acc.push(option);\n    } else if (matchesSingleOption(option, searchText, strictMatching)) {\n      if (currentGroup) {\n        acc.push(currentGroup);\n        currentGroup = null;\n      }\n      acc.push(option);\n    }\n    return acc;\n  }, []);\n};\n\nexport const isInteractive = (option?: DropdownOption) => !!option && !option.disabled && option.type !== 'parent';\n\nexport const isGroupInteractive = (option?: DropdownOption) => !!option && !option.disabled;\n\nexport const isGroup = (option?: OptionDefinition | OptionGroup): option is OptionGroup =>\n  !!option && 'options' in option;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport styles from './styles.css.js';\nimport DropdownStatus from '../dropdown-status/index.js';\nimport LiveRegion from '../live-region/index.js';\n\ninterface DropdownFooter {\n  content?: React.ReactNode | null;\n  hasItems?: boolean;\n  id?: string;\n}\n\nconst DropdownFooter: React.FC<DropdownFooter> = ({ content, id, hasItems = true }: DropdownFooter) => (\n  <div className={clsx(styles.root, { [styles.hidden]: content === null, [styles['no-items']]: !hasItems })}>\n    <LiveRegion visible={true} tagName=\"div\" id={id}>\n      {content && <DropdownStatus>{content}</DropdownStatus>}\n    </LiveRegion>\n  </div>\n);\n\nexport default DropdownFooter;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1afi9_4tl31_93\",\n  \"hidden\": \"awsui_hidden_1afi9_4tl31_105\",\n  \"no-items\": \"awsui_no-items_1afi9_4tl31_108\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport InternalLink from '../../../link/internal';\n\nimport InternalStatusIndicator from '../../../status-indicator/internal';\nimport { NonCancelableEventHandler, fireNonCancelableEvent } from '../../events';\nimport { usePrevious } from '../../hooks/use-previous';\n\nimport { DropdownStatusProps } from './interfaces';\nimport styles from './styles.css.js';\n\nexport { DropdownStatusProps };\n\nexport interface DropdownStatusPropsExtended extends DropdownStatusProps {\n  isEmpty?: boolean;\n  isNoMatch?: boolean;\n  isFiltered?: boolean;\n  noMatch?: React.ReactNode;\n  filteringResultsText?: string;\n  /**\n   * Called when the user clicks the recovery button placed at the\n   * bottom of the dropdown list in the error state. Use this to\n   * retry a failed request or provide another option for the user\n   * to recover from the error.\n   */\n  onRecoveryClick?: NonCancelableEventHandler;\n}\n\nfunction DropdownStatus({ children }: { children: React.ReactNode }) {\n  return <div className={styles.root}>{children}</div>;\n}\n\ntype UseDropdownStatus = ({\n  statusType,\n  empty,\n  loadingText,\n  finishedText,\n  filteringResultsText,\n  errorText,\n  recoveryText,\n  isEmpty,\n  isNoMatch,\n  isFiltered,\n  noMatch,\n  onRecoveryClick,\n}: DropdownStatusPropsExtended) => DropdownStatusResult;\n\ninterface DropdownStatusResult {\n  isSticky: boolean;\n  content: React.ReactNode | null;\n}\n\nexport const useDropdownStatus: UseDropdownStatus = ({\n  statusType,\n  empty,\n  loadingText,\n  finishedText,\n  filteringResultsText,\n  errorText,\n  recoveryText,\n  isEmpty,\n  isNoMatch,\n  isFiltered,\n  noMatch,\n  onRecoveryClick,\n  errorIconAriaLabel,\n}) => {\n  const previousStatusType = usePrevious(statusType);\n  const statusResult: DropdownStatusResult = { isSticky: true, content: null };\n\n  if (statusType === 'loading') {\n    statusResult.content = <InternalStatusIndicator type={'loading'}>{loadingText}</InternalStatusIndicator>;\n  } else if (statusType === 'error') {\n    statusResult.content = (\n      <span>\n        <InternalStatusIndicator\n          type=\"error\"\n          __animate={previousStatusType !== 'error'}\n          iconAriaLabel={errorIconAriaLabel}\n        >\n          {errorText}\n        </InternalStatusIndicator>{' '}\n        {recoveryText && (\n          <InternalLink\n            onFollow={() => fireNonCancelableEvent(onRecoveryClick)}\n            variant=\"recovery\"\n            className={styles.recovery}\n          >\n            {recoveryText}\n          </InternalLink>\n        )}\n      </span>\n    );\n  } else if (isEmpty && empty) {\n    statusResult.content = empty;\n  } else if (isNoMatch && noMatch) {\n    statusResult.content = noMatch;\n  } else if (isFiltered && filteringResultsText) {\n    statusResult.content = filteringResultsText;\n  } else if (statusType === 'finished' && finishedText) {\n    statusResult.content = finishedText;\n    statusResult.isSticky = false;\n  }\n\n  return statusResult;\n};\n\nexport default DropdownStatus;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_vrgzu_1rmre_93\",\n  \"recovery\": \"awsui_recovery_vrgzu_1rmre_107\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { OptionGroup, OptionDefinition, DropdownOption } from '../interfaces';\n\nexport const flattenOptions = (options: ReadonlyArray<OptionDefinition | OptionGroup>) => {\n  const parentMap = new Map<DropdownOption, DropdownOption>();\n\n  const flatOptions = options.reduce<DropdownOption[]>((acc, option) => {\n    if ('options' in option) {\n      const { options, ...rest } = option;\n      const parentDropdownOption: DropdownOption = { type: 'parent', option };\n      const allOptionsDisabled = options.every(option => option.disabled);\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption.disabled = true;\n      }\n      acc.push(parentDropdownOption);\n      options.forEach(child => {\n        const childDropdownOption: DropdownOption = { type: 'child', option: child };\n        if (rest.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption);\n      });\n    } else {\n      const dropdownOption: DropdownOption = { option };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n\n    return acc;\n  }, []);\n\n  return {\n    flatOptions,\n    parentMap,\n  };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\ninterface ListItem {\n  type?: string;\n}\ninterface TestIndexes {\n  throughIndex?: number;\n  groupIndex?: number;\n  inGroupIndex?: number;\n}\nconst testIndexMap = new WeakMap<ListItem, TestIndexes>();\n//retrieves the test indexes of the option for the findOption and findOptionInGroup test-utils\nexport const getTestOptionIndexes = <T extends ListItem>(item: T) => testIndexMap.get(item);\nexport const generateTestIndexes = <T extends ListItem, Group extends object>(\n  filteredItems: ReadonlyArray<T>,\n  getParentGroup: (item: T) => Group | undefined\n) => {\n  let throughIndex = 1;\n  let groupIndex = 0;\n  let inGroupIndex = 1;\n  let currentGroup: Group | null = null;\n  filteredItems.forEach(item => {\n    if (!('type' in item)) {\n      testIndexMap.set(item, { throughIndex: throughIndex++ });\n    } else if (item.type === 'child') {\n      const parentGroup = getParentGroup(item);\n      if (parentGroup && parentGroup !== currentGroup) {\n        currentGroup = parentGroup;\n        inGroupIndex = 1;\n        testIndexMap.set(item, {\n          throughIndex: throughIndex++,\n          groupIndex: ++groupIndex,\n          inGroupIndex: inGroupIndex++,\n        });\n      } else {\n        testIndexMap.set(item, { throughIndex: throughIndex++, groupIndex, inGroupIndex: inGroupIndex++ });\n      }\n    }\n  });\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { flattenOptions } from './flatten-options';\nimport { filterOptions } from './filter-options';\nimport { generateTestIndexes } from '../../options-list/utils/test-indexes';\nimport { SelectProps } from '../../../../select/interfaces';\n\nexport function prepareOptions(\n  options: SelectProps.Options,\n  filteringType: SelectProps.FilteringType,\n  filteringText: string\n) {\n  const { flatOptions, parentMap } = flattenOptions(options);\n  const filteredOptions = filteringType !== 'auto' ? flatOptions : filterOptions(flatOptions, filteringText);\n  generateTestIndexes(filteredOptions, parentMap.get.bind(parentMap));\n  return {\n    filteredOptions,\n    parentMap,\n    totalCount: flatOptions.length,\n    matchesCount: filteredOptions.length,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { RefObject } from 'react';\nimport { DropdownProps } from '../../internal/components/dropdown/interfaces';\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { isInteractive, isGroupInteractive, isGroup } from '../../internal/components/option/utils/filter-options';\nimport { useEffect, useRef } from 'react';\nimport { useHighlightedOption } from '../../internal/components/options-list/utils/use-highlight-option';\nimport { useOpenState } from '../../internal/components/options-list/utils/use-open-state';\nimport { useMenuKeyboard, useTriggerKeyboard } from '../../internal/components/options-list/utils/use-keyboard';\nimport { getOptionId } from '../../internal/components/options-list/utils/use-ids';\nimport { connectOptionsByValue } from './connect-options';\nimport useForwardFocus from '../../internal/hooks/forward-focus';\nimport { OptionsListProps } from '../../internal/components/options-list';\nimport { FilterProps } from '../parts/filter';\nimport { ItemProps } from '../parts/item';\nimport { usePrevious } from '../../internal/hooks/use-previous';\nimport { BaseKeyDetail, NonCancelableEventHandler, fireNonCancelableEvent } from '../../internal/events';\nimport { useUniqueId } from '../../internal/hooks/use-unique-id';\nimport { DropdownStatusProps } from '../../internal/components/dropdown-status';\n\nexport type MenuProps = Omit<OptionsListProps, 'children'> & { ref: React.RefObject<HTMLUListElement> };\nexport type GetOptionProps = (option: DropdownOption, index: number) => ItemProps;\n\ninterface UseSelectProps {\n  selectedOptions: ReadonlyArray<OptionDefinition>;\n  updateSelectedOption: (option: OptionDefinition) => void;\n  options: ReadonlyArray<DropdownOption>;\n  filteringType: string;\n  keepOpen?: boolean;\n  onBlur?: NonCancelableEventHandler;\n  onFocus?: NonCancelableEventHandler;\n  externalRef: React.Ref<any>;\n  fireLoadItems: (filteringText: string) => void;\n  setFilteringValue: (filteringText: string) => void;\n  useInteractiveGroups?: boolean;\n  statusType: DropdownStatusProps.StatusType;\n}\n\nexport interface SelectTriggerProps {\n  ref: RefObject<HTMLButtonElement>;\n  onMouseDown?: (event: CustomEvent) => void;\n  onKeyDown?: (event: CustomEvent<BaseKeyDetail>) => void;\n  onFocus: NonCancelableEventHandler;\n  autoFocus?: boolean;\n}\n\nexport function useSelect({\n  selectedOptions,\n  updateSelectedOption,\n  options,\n  filteringType,\n  onBlur,\n  onFocus,\n  externalRef,\n  keepOpen,\n  fireLoadItems,\n  setFilteringValue,\n  useInteractiveGroups = false,\n  statusType,\n}: UseSelectProps) {\n  const interactivityCheck = useInteractiveGroups ? isGroupInteractive : isInteractive;\n\n  const isHighlightable = (option?: DropdownOption) => !!option && (useInteractiveGroups || option.type !== 'parent');\n\n  const filterRef = useRef<HTMLInputElement>(null);\n  const triggerRef = useRef<HTMLButtonElement>(null);\n  const menuRef = useRef<HTMLUListElement>(null);\n  const hasFilter = filteringType !== 'none';\n  const activeRef = hasFilter ? filterRef : menuRef;\n  const __selectedOptions = connectOptionsByValue(options, selectedOptions);\n  const __selectedValuesSet = selectedOptions.reduce((selectedValuesSet: Set<string>, item: OptionDefinition) => {\n    if (item.value) {\n      selectedValuesSet.add(item.value);\n    }\n    return selectedValuesSet;\n  }, new Set<string>());\n  const [\n    { highlightType, highlightedOption, highlightedIndex },\n    {\n      moveHighlightWithKeyboard,\n      resetHighlightWithKeyboard,\n      setHighlightedIndexWithMouse,\n      highlightOptionWithKeyboard,\n      goHomeWithKeyboard,\n      goEndWithKeyboard,\n    },\n  ] = useHighlightedOption({ options, isHighlightable });\n\n  const { isOpen, openDropdown, closeDropdown, toggleDropdown } = useOpenState({\n    onOpen: () => fireLoadItems(''),\n    onClose: () => {\n      resetHighlightWithKeyboard();\n      setFilteringValue('');\n    },\n  });\n\n  const handleFocus = () => {\n    fireNonCancelableEvent(onFocus, {});\n  };\n\n  const handleBlur = () => {\n    fireNonCancelableEvent(onBlur, {});\n    closeDropdown();\n  };\n\n  const hasSelectedOption = __selectedOptions.length > 0;\n  const menuId = useUniqueId('option-list');\n  const highlightedOptionId = getOptionId(menuId, highlightedIndex);\n\n  const selectOption = (option?: DropdownOption) => {\n    const optionToSelect = option || highlightedOption;\n    if (!optionToSelect || !interactivityCheck(optionToSelect)) {\n      return;\n    }\n    updateSelectedOption(optionToSelect.option);\n    if (!keepOpen) {\n      triggerRef.current?.focus();\n      closeDropdown();\n    }\n  };\n\n  const activeKeyDownHandler = useMenuKeyboard({\n    moveHighlight: moveHighlightWithKeyboard,\n    selectOption,\n    goHome: goHomeWithKeyboard,\n    goEnd: goEndWithKeyboard,\n    closeDropdown: () => {\n      triggerRef.current?.focus();\n      closeDropdown();\n    },\n    preventNativeSpace: !hasFilter,\n  });\n\n  const triggerKeyDownHandler = useTriggerKeyboard({ openDropdown, goHome: goHomeWithKeyboard });\n\n  const getDropdownProps: () => Pick<DropdownProps, 'onFocus' | 'onBlur'> = () => ({\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n  });\n\n  const getTriggerProps = (disabled = false, autoFocus = false) => {\n    const triggerProps: SelectTriggerProps = {\n      ref: triggerRef,\n      onFocus: () => closeDropdown(),\n      autoFocus,\n    };\n    if (!disabled) {\n      triggerProps.onMouseDown = (event: CustomEvent) => {\n        event.preventDefault(); // prevent current focus from blurring as it immediately closes the dropdown\n        if (isOpen) {\n          triggerRef.current?.focus();\n        }\n        toggleDropdown();\n      };\n      triggerProps.onKeyDown = triggerKeyDownHandler;\n    }\n    return triggerProps;\n  };\n\n  const getFilterProps = (): Partial<FilterProps> => {\n    if (!hasFilter) {\n      return {};\n    }\n\n    return {\n      ref: filterRef,\n      onKeyDown: activeKeyDownHandler,\n      onChange: event => {\n        setFilteringValue(event.detail.value);\n        resetHighlightWithKeyboard();\n      },\n      __onDelayedInput: event => {\n        fireLoadItems(event.detail.value);\n      },\n      __nativeAttributes: {\n        'aria-activedescendant': highlightedOptionId,\n        ['aria-owns']: menuId,\n        ['aria-controls']: menuId,\n      },\n    };\n  };\n\n  const getMenuProps = () => {\n    const menuProps: MenuProps = {\n      id: menuId,\n      ref: menuRef,\n      open: isOpen,\n      onMouseUp: itemIndex => {\n        if (itemIndex > -1) {\n          selectOption(options[itemIndex]);\n        }\n      },\n      onMouseMove: itemIndex => {\n        if (itemIndex > -1) {\n          setHighlightedIndexWithMouse(itemIndex);\n        }\n      },\n      statusType,\n    };\n    if (!hasFilter) {\n      menuProps.onKeyDown = activeKeyDownHandler;\n      menuProps.nativeAttributes = {\n        'aria-activedescendant': highlightedOptionId,\n      };\n    }\n    return menuProps;\n  };\n  const getGroupState = (option: OptionGroup) => {\n    const totalSelected = option.options.filter(item => !!item.value && __selectedValuesSet.has(item.value)).length;\n    const hasSelected = totalSelected > 0;\n    const allSelected = totalSelected === option.options.length;\n    return {\n      selected: hasSelected && allSelected,\n      indeterminate: hasSelected && !allSelected,\n    };\n  };\n\n  const getOptionProps = (option: DropdownOption, index: number) => {\n    const highlighted = option === highlightedOption;\n    const groupState = isGroup(option.option) ? getGroupState(option.option) : undefined;\n    const selected = __selectedOptions.indexOf(option) > -1 || !!groupState?.selected;\n    const nextOption = options[index + 1]?.option;\n    const isNextSelected =\n      !!nextOption && isGroup(nextOption)\n        ? getGroupState(nextOption).selected\n        : __selectedOptions.indexOf(options[index + 1]) > -1;\n\n    const optionProps: any = {\n      key: index,\n      option,\n      highlighted,\n      selected,\n      isNextSelected,\n      indeterminate: !!groupState?.indeterminate,\n      ['data-mouse-target']: isHighlightable(option) ? index : -1,\n      id: getOptionId(menuId, index),\n    };\n\n    return optionProps;\n  };\n\n  const prevOpen = usePrevious<boolean>(isOpen);\n  useEffect(() => {\n    // highlight the first selected option, when opening the Select component without filter input\n    // keep the focus in the filter input when opening, so that screenreader can recognize the combobox\n    if (isOpen && !prevOpen && hasSelectedOption && !hasFilter) {\n      setHighlightedIndexWithMouse(options.indexOf(__selectedOptions[0]));\n    }\n  }, [isOpen, __selectedOptions, hasSelectedOption, setHighlightedIndexWithMouse, options, prevOpen, hasFilter]);\n\n  useEffect(() => {\n    if (isOpen) {\n      // dropdown-fit calculations ensure that the dropdown will fit inside the current\n      // viewport, so prevent the browser from trying to scroll it into view (e.g. if\n      // scroll-padding-top is set on a parent)\n      activeRef.current?.focus({ preventScroll: true });\n    }\n  }, [isOpen, activeRef]);\n\n  useForwardFocus(externalRef, triggerRef as React.RefObject<HTMLElement>);\n  const highlightedGroupSelected =\n    !!highlightedOption && isGroup(highlightedOption.option) && getGroupState(highlightedOption.option).selected;\n  const announceSelected =\n    !!highlightedOption && (__selectedOptions.indexOf(highlightedOption) > -1 || highlightedGroupSelected);\n\n  return {\n    isOpen,\n    highlightedOption,\n    highlightedIndex,\n    highlightType,\n    getTriggerProps,\n    getDropdownProps,\n    getMenuProps,\n    getFilterProps,\n    getOptionProps,\n    highlightOption: highlightOptionWithKeyboard,\n    selectOption,\n    announceSelected,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useState } from 'react';\n\nexport type HighlightType = 'keyboard' | 'mouse';\n\nexport interface HighlightedOptionProps<OptionType> {\n  options: readonly OptionType[];\n  isHighlightable: (option: OptionType) => boolean;\n}\n\nexport interface HighlightedOptionState<OptionType> {\n  highlightType: HighlightType;\n  highlightedIndex: number;\n  highlightedOption?: OptionType;\n}\n\nexport interface HighlightedOptionHandlers<OptionType> {\n  // Mouse handlers\n  setHighlightedIndexWithMouse(index: number): void;\n  // Keyboard handlers\n  moveHighlightWithKeyboard(direction: -1 | 1): void;\n  highlightOptionWithKeyboard(option: OptionType): void;\n  resetHighlightWithKeyboard(): void;\n  goHomeWithKeyboard(): void;\n  goEndWithKeyboard(): void;\n}\n\nexport function useHighlightedOption<OptionType>({\n  options,\n  isHighlightable,\n}: HighlightedOptionProps<OptionType>): [HighlightedOptionState<OptionType>, HighlightedOptionHandlers<OptionType>] {\n  const [highlightedIndex, setHighlightedIndexState] = useState(-1);\n  const [highlightType, setHighlightType] = useState<HighlightType>('keyboard');\n  const setHighlightedIndex = useCallback((index: number, highlightType: HighlightType) => {\n    setHighlightedIndexState(index);\n    setHighlightType(highlightType);\n  }, []);\n\n  const highlightedOption =\n    options[highlightedIndex] && isHighlightable(options[highlightedIndex]) ? options[highlightedIndex] : undefined;\n\n  const moveHighlightFrom = (direction: -1 | 1, startIndex = highlightedIndex, highlightType: HighlightType) => {\n    let newIndex = startIndex;\n    do {\n      newIndex += direction;\n    } while (options[newIndex] && !isHighlightable(options[newIndex]));\n\n    if (options[newIndex]) {\n      setHighlightedIndex(newIndex, highlightType);\n    }\n  };\n\n  const moveHighlight = (direction: -1 | 1, highlightType: HighlightType) =>\n    moveHighlightFrom(direction, highlightedIndex, highlightType);\n\n  const highlightOption = useCallback(\n    (option: OptionType, highlightType: HighlightType) => {\n      const index = options.indexOf(option);\n      setHighlightedIndex(index, highlightType);\n    },\n    [options, setHighlightedIndex]\n  );\n\n  return [\n    { highlightType, highlightedIndex, highlightedOption },\n    {\n      setHighlightedIndexWithMouse: (index: number) => setHighlightedIndex(index, 'mouse'),\n      moveHighlightWithKeyboard: (direction: -1 | 1) => moveHighlight(direction, 'keyboard'),\n      highlightOptionWithKeyboard: (option: OptionType) => highlightOption(option, 'keyboard'),\n      resetHighlightWithKeyboard: () => setHighlightedIndex(-1, 'keyboard'),\n      goHomeWithKeyboard: () => moveHighlightFrom(1, -1, 'keyboard'),\n      goEndWithKeyboard: () => moveHighlightFrom(-1, options.length, 'keyboard'),\n    },\n  ];\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback } from 'react';\nimport { KeyCode } from '../../../keycode';\nimport { BaseKeyDetail, CancelableEventHandler } from '../../../events';\n\nconst HOME = 36;\nconst END = 35;\n\ninterface UseMenuKeyboard {\n  (inputProps: {\n    moveHighlight: (direction: -1 | 1, startIndex?: number) => void;\n    selectOption: () => void;\n    goHome: () => void;\n    goEnd: () => void;\n    closeDropdown: () => void;\n    preventNativeSpace?: boolean;\n  }): CancelableEventHandler<BaseKeyDetail>;\n}\n\nexport const useMenuKeyboard: UseMenuKeyboard = ({\n  moveHighlight,\n  selectOption,\n  goHome,\n  goEnd,\n  closeDropdown,\n  preventNativeSpace = false,\n}) => {\n  return useCallback(\n    (e: CustomEvent<BaseKeyDetail>) => {\n      switch (e.detail.keyCode) {\n        case KeyCode.up:\n          e.preventDefault();\n          moveHighlight(-1);\n          break;\n        case KeyCode.down:\n          e.preventDefault();\n          moveHighlight(1);\n          break;\n        case HOME:\n          goHome();\n          break;\n        case END:\n          goEnd();\n          break;\n        case KeyCode.escape:\n          closeDropdown();\n          break;\n        case KeyCode.enter:\n          e.preventDefault();\n          selectOption();\n          break;\n        case KeyCode.space:\n          if (preventNativeSpace) {\n            e.preventDefault();\n            selectOption();\n          }\n      }\n    },\n    [moveHighlight, selectOption, goHome, goEnd, closeDropdown, preventNativeSpace]\n  );\n};\n\ninterface UseTriggerKeyboard {\n  (inputProps: { openDropdown: () => void; goHome: () => void }): CancelableEventHandler<BaseKeyDetail>;\n}\n\nexport const useTriggerKeyboard: UseTriggerKeyboard = ({ openDropdown, goHome }) => {\n  return useCallback(\n    (e: CustomEvent<BaseKeyDetail>) => {\n      switch (e.detail.keyCode) {\n        case KeyCode.up:\n        case KeyCode.down:\n          e.preventDefault();\n          goHome();\n          openDropdown();\n          break;\n        case KeyCode.space:\n        case KeyCode.enter:\n          e.preventDefault();\n          openDropdown();\n          break;\n      }\n    },\n    [openDropdown, goHome]\n  );\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const getOptionId = (menuId: string, index: number) => {\n  if (index < 0) {\n    return undefined;\n  }\n  return `${menuId}-option-${index}`;\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition } from '../../internal/components/option/interfaces';\n\nexport const connectOptionsByValue = (\n  options: ReadonlyArray<DropdownOption>,\n  selectedOptions: ReadonlyArray<OptionDefinition>\n): ReadonlyArray<DropdownOption> => {\n  return (selectedOptions || []).map(selectedOption => {\n    for (const dropdownOption of options) {\n      if (\n        dropdownOption.type !== 'parent' &&\n        (dropdownOption.option as OptionDefinition).value === selectedOption.value\n      ) {\n        return dropdownOption;\n      }\n    }\n    return { option: selectedOption };\n  });\n};\n\nexport const findOptionIndex = (options: ReadonlyArray<OptionDefinition>, option: OptionDefinition) => {\n  for (let index = 0; index < options.length; index++) {\n    const __option = options[index];\n    if (__option === option || __option.value === option.value) {\n      return index;\n    }\n  }\n  return -1;\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport { KeyCode } from '../../internal/keycode';\nimport {\n  filterOptions,\n  isInteractive,\n  isGroupInteractive,\n  isGroup,\n} from '../../internal/components/option/utils/filter-options';\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { useDebounceCallback } from '../../internal/hooks/use-debounce-callback';\n\nexport const isChar = (keyCode: number): boolean => {\n  return [0, KeyCode.enter, KeyCode.space, KeyCode.tab].indexOf(keyCode) === -1;\n};\n\nexport const isRepeatedChar = (str: string) => str.split('').every(c => c === str[0]);\n\ninterface UseNativeSearchProps {\n  isEnabled: boolean;\n  options: ReadonlyArray<DropdownOption>;\n  highlightOption: (option: DropdownOption) => void;\n  highlightedOption: OptionDefinition | undefined | null;\n  useInteractiveGroups?: boolean;\n}\n\nfunction findMatchingOption(\n  options: ReadonlyArray<DropdownOption>,\n  searchText: string,\n  currentHighlight: OptionDefinition | OptionGroup | undefined | null,\n  useInteractiveGroups?: boolean\n) {\n  const interactivityCheck = useInteractiveGroups ? isGroupInteractive : isInteractive;\n  const filter = (searchText: string) =>\n    filterOptions(options, searchText, true).filter(option => interactivityCheck(option));\n  const matchingOptions = filter(searchText);\n\n  if (matchingOptions.length === 1) {\n    return matchingOptions[0];\n  }\n\n  // Hit the same char over and over, we assume they want to cycle through\n  if (currentHighlight && searchText.length > 1 && isRepeatedChar(searchText)) {\n    const matchingOptions = filter(searchText[0]);\n\n    if (matchingOptions.length > 0) {\n      //handling OptionGroups when useInteractiveGroups is set\n      let active: number = isGroup(currentHighlight)\n        ? matchingOptions.map(({ option }) => option).indexOf(currentHighlight)\n        : matchingOptions\n            .map(({ option }) => (option as OptionDefinition).value)\n            .indexOf((currentHighlight as OptionDefinition).value);\n\n      // Pick the next thing (if something with this prefix wasn't selected\n      // we'll end up with the first option)\n      active += 1;\n      active = active % matchingOptions.length;\n      return matchingOptions[active];\n    }\n  }\n\n  // We have multiple things that start with this prefix.  Based on the\n  // behavior of native select, this is considered after the repeated case\n  if (matchingOptions.length > 0) {\n    return matchingOptions[0];\n  }\n  return null;\n}\n\nexport function useNativeSearch({\n  isEnabled,\n  options,\n  highlightOption,\n  highlightedOption,\n  useInteractiveGroups,\n}: UseNativeSearchProps) {\n  const value = useRef('');\n\n  const delayedResetValue = useDebounceCallback(() => (value.current = ''), 500);\n\n  return (event: React.KeyboardEvent) => {\n    if (!isEnabled) {\n      return;\n    }\n\n    const { charCode } = event;\n    if (!isChar(charCode)) {\n      return;\n    }\n    delayedResetValue();\n    const newValue = value.current + String.fromCharCode(charCode);\n    value.current = newValue;\n\n    const nextHighlight = findMatchingOption(options, newValue, highlightedOption, useInteractiveGroups);\n    if (nextHighlight) {\n      highlightOption(nextHighlight);\n    }\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { SelectProps } from '../interfaces';\nimport { OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { DropdownStatusProps } from '../../internal/components/dropdown-status';\n\ninterface UseLoadItemsProps {\n  onLoadItems: SelectProps['onLoadItems'];\n  options: ReadonlyArray<OptionDefinition | OptionGroup>;\n  statusType: DropdownStatusProps.StatusType;\n}\n\nexport const useLoadItems = ({ onLoadItems, options, statusType }: UseLoadItemsProps) => {\n  const prevFilteringText = useRef<string | undefined>(undefined);\n\n  const fireLoadItems = (filteringText: string) => {\n    if (prevFilteringText.current === filteringText) {\n      return;\n    }\n    prevFilteringText.current = filteringText;\n    fireNonCancelableEvent(onLoadItems, { filteringText, firstPage: true, samePage: false });\n  };\n\n  const handleLoadMore = () => {\n    const firstPage = options.length === 0;\n    statusType === 'pending' &&\n      fireNonCancelableEvent(onLoadItems, {\n        firstPage,\n        samePage: false,\n        filteringText: prevFilteringText.current || '',\n      });\n  };\n\n  const handleRecoveryClick = () =>\n    fireNonCancelableEvent(onLoadItems, {\n      firstPage: false,\n      samePage: true,\n      filteringText: prevFilteringText.current || '',\n    });\n\n  return {\n    fireLoadItems,\n    handleLoadMore,\n    handleRecoveryClick,\n  };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { SelectProps } from '../interfaces';\nimport { useEffect, useRef } from 'react';\nimport defaultOptionDescription from '../../internal/components/option/option-announcer';\n\ninterface OptionHolder {\n  option?: OptionDefinition | OptionGroup;\n}\n\n/**\n * The hook produces the live region string to be announced when an option is highlighted.\n * This is a workaround to account for the issues with assistive technologies.\n *\n * If the testing reveals no issues with the native announcements the live-region can be removed.\n */\nexport function useAnnouncement<Option extends OptionHolder>({\n  announceSelected,\n  highlightedOption,\n  getParent,\n  selectedAriaLabel,\n  renderHighlightedAriaLive,\n}: {\n  announceSelected: boolean;\n  highlightedOption?: Option;\n  getParent: (option: Option) => undefined | OptionGroup;\n  selectedAriaLabel?: string;\n  renderHighlightedAriaLive?: SelectProps.ContainingOptionAndGroupString;\n}) {\n  const prevAnnouncedGroup = useRef<OptionGroup | undefined>(undefined);\n\n  // Record previously announced group with a delay to account for possible re-renders of the hook.\n  useEffect(() => {\n    if (highlightedOption) {\n      const frameId = requestAnimationFrame(() => {\n        prevAnnouncedGroup.current = getParent(highlightedOption);\n      });\n      return () => cancelAnimationFrame(frameId);\n    }\n  });\n\n  if (!highlightedOption) {\n    return '';\n  }\n\n  const option = highlightedOption.option as OptionDefinition;\n  const parent = getParent(highlightedOption);\n  // Only announce parent group if it wasn't announced with previous option.\n  const group = parent && parent !== prevAnnouncedGroup.current ? parent : undefined;\n\n  // Use custom renderer if provided.\n  if (renderHighlightedAriaLive) {\n    return renderHighlightedAriaLive(option, group);\n  }\n\n  // Use default renderer with selected ARIA label if defined and relevant.\n  const selectedAnnouncement = announceSelected && selectedAriaLabel ? selectedAriaLabel : '';\n  const defaultDescription = defaultOptionDescription(option, group);\n  return [selectedAnnouncement, defaultDescription].filter(Boolean).join(' ');\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { OptionDefinition, OptionGroup } from './interfaces';\n\nfunction defaultOptionDescription(option: OptionDefinition, parentGroup: OptionGroup | undefined) {\n  return [\n    parentGroup && parentGroup.label,\n    option.__labelPrefix,\n    option.label || option.value,\n    option.description,\n    option.labelTag,\n  ]\n    .concat(option.tags)\n    .filter(el => !!el)\n    .join(' ');\n}\n\nexport default defaultOptionDescription;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport OptionsList from '../../internal/components/options-list';\nimport React, { forwardRef, useImperativeHandle } from 'react';\nimport { renderOptions } from '../utils/render-options';\nimport { MenuProps, GetOptionProps } from '../utils/use-select';\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport { scrollElementIntoView } from '../../internal/utils/scrollable-containers';\n\nimport styles from './styles.css.js';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option';\n\nexport interface SelectListProps {\n  menuProps: MenuProps;\n  getOptionProps: GetOptionProps;\n  filteredOptions: ReadonlyArray<DropdownOption>;\n  filteringValue: string;\n  highlightType: HighlightType;\n  checkboxes?: boolean;\n  hasDropdownStatus?: boolean;\n  listBottom?: React.ReactNode;\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n}\n\nexport namespace SelectListProps {\n  export type SelectListRef = (index: number) => void;\n}\n\nconst PlainList = (\n  {\n    menuProps,\n    getOptionProps,\n    filteredOptions,\n    filteringValue,\n    highlightType,\n    checkboxes,\n    hasDropdownStatus,\n    listBottom,\n    useInteractiveGroups,\n    screenReaderContent,\n  }: SelectListProps,\n  ref: React.Ref<SelectListProps.SelectListRef>\n) => {\n  const menuRef = menuProps.ref;\n  useImperativeHandle(\n    ref,\n    () => (index: number) => {\n      const item = menuRef.current?.querySelector<HTMLElement>(`[data-mouse-target=\"${index}\"]`);\n      if (highlightType === 'keyboard' && item) {\n        scrollElementIntoView(item);\n      }\n    },\n    [highlightType, menuRef]\n  );\n\n  return (\n    <OptionsList {...menuProps}>\n      {renderOptions({\n        options: filteredOptions,\n        getOptionProps,\n        filteringValue,\n        highlightType,\n        checkboxes,\n        hasDropdownStatus,\n        useInteractiveGroups,\n        screenReaderContent,\n      })}\n      {listBottom ? (\n        <li role=\"option\" className={styles['list-bottom']}>\n          {listBottom}\n        </li>\n      ) : null}\n    </OptionsList>\n  );\n};\n\nexport default forwardRef(PlainList);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { VirtualItem } from 'react-virtual';\nimport Item from '../parts/item';\nimport MutliselectItem from '../parts/multiselect-item';\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport { getItemProps } from './get-item-props';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option';\n\nexport interface RenderOptionProps {\n  options: ReadonlyArray<DropdownOption>;\n  getOptionProps: any;\n  filteringValue: string;\n  highlightType: HighlightType;\n  checkboxes?: boolean;\n  hasDropdownStatus?: boolean;\n  virtualItems?: VirtualItem[];\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n  ariaSetsize?: number;\n}\n\nexport const renderOptions = ({\n  options,\n  getOptionProps,\n  filteringValue,\n  highlightType,\n  checkboxes = false,\n  hasDropdownStatus,\n  virtualItems,\n  useInteractiveGroups,\n  screenReaderContent,\n  ariaSetsize,\n}: RenderOptionProps) => {\n  return options.map((option, index) => {\n    const virtualItem = virtualItems && virtualItems[index];\n    const globalIndex = virtualItem ? virtualItem.index : index;\n    const props = getItemProps({\n      option,\n      index: globalIndex,\n      getOptionProps,\n      filteringValue,\n      checkboxes,\n    });\n\n    const isLastItem = index === options.length - 1;\n    const padBottom = !hasDropdownStatus && isLastItem;\n    const ListItem = useInteractiveGroups ? MutliselectItem : Item;\n\n    return (\n      <ListItem\n        key={globalIndex}\n        {...props}\n        virtualPosition={virtualItem && virtualItem.start}\n        ref={virtualItem && virtualItem.measureRef}\n        padBottom={padBottom}\n        screenReaderContent={screenReaderContent}\n        ariaPosinset={globalIndex + 1}\n        ariaSetsize={ariaSetsize}\n        highlightType={highlightType}\n      />\n    );\n  });\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport Option from '../../internal/components/option';\nimport SelectableItem from '../../internal/components/selectable-item';\nimport { getBaseProps } from '../../internal/base-component';\nimport { DropdownOption, OptionDefinition } from '../../internal/components/option/interfaces';\nimport CheckboxIcon from '../../internal/components/checkbox-icon';\nimport InternalIcon from '../../icon/internal.js';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option.js';\n\nexport interface ItemProps {\n  option: DropdownOption;\n  highlighted?: boolean;\n  selected?: boolean;\n  filteringValue?: string;\n  hasCheckbox?: boolean;\n  virtualPosition?: number;\n  padBottom?: boolean;\n  isNextSelected?: boolean;\n  screenReaderContent?: string;\n  ariaPosinset?: number;\n  ariaSetsize?: number;\n  highlightType?: HighlightType;\n}\n\nconst Item = (\n  {\n    option,\n    highlighted,\n    selected,\n    filteringValue,\n    hasCheckbox,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    ...restProps\n  }: ItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n\n  const isParent = option.type === 'parent';\n  const isChild = option.type === 'child';\n  const wrappedOption: OptionDefinition = option.option;\n  const disabled = option.disabled || wrappedOption.disabled;\n\n  return (\n    <SelectableItem\n      ariaSelected={Boolean(selected)}\n      selected={selected}\n      isNextSelected={isNextSelected}\n      highlighted={highlighted}\n      disabled={option.disabled}\n      isParent={isParent}\n      isChild={isChild}\n      ref={ref}\n      virtualPosition={virtualPosition}\n      padBottom={padBottom}\n      screenReaderContent={screenReaderContent}\n      ariaPosinset={ariaPosinset}\n      ariaSetsize={ariaSetsize}\n      highlightType={highlightType}\n      {...baseProps}\n    >\n      <div className={clsx(styles.item, !isParent && wrappedOption.labelTag && styles['show-label-tag'])}>\n        {hasCheckbox && !isParent && (\n          <div className={styles.checkbox}>\n            <CheckboxIcon checked={selected || false} disabled={option.disabled} />\n          </div>\n        )}\n        {isParent ? (\n          <span>{wrappedOption.label || wrappedOption.value}</span>\n        ) : (\n          <Option\n            option={{ ...wrappedOption, disabled }}\n            highlightedOption={highlighted}\n            selectedOption={selected}\n            highlightText={filteringValue}\n          />\n        )}\n        {!hasCheckbox && !isParent && selected && (\n          <div className={styles['selected-icon']}>\n            <InternalIcon name=\"check\" />\n          </div>\n        )}\n      </div>\n    </SelectableItem>\n  );\n};\n\nexport default React.memo(React.forwardRef(Item));\n", "\n    import './styles.scoped.css';\n    export default {\n  \"placeholder\": \"awsui_placeholder_dwuol_1fefq_93\",\n  \"item\": \"awsui_item_dwuol_1fefq_98\",\n  \"checkbox\": \"awsui_checkbox_dwuol_1fefq_102\",\n  \"filter\": \"awsui_filter_dwuol_1fefq_111\",\n  \"trigger\": \"awsui_trigger_dwuol_1fefq_116\",\n  \"layout-strut\": \"awsui_layout-strut_dwuol_1fefq_122\",\n  \"list-bottom\": \"awsui_list-bottom_dwuol_1fefq_128\",\n  \"selected-icon\": \"awsui_selected-icon_dwuol_1fefq_132\",\n  \"show-label-tag\": \"awsui_show-label-tag_dwuol_1fefq_136\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport { OptionProps } from './interfaces';\nimport { Label, LabelTag, Description, Tags, FilteringTags, OptionIcon } from './option-parts';\nimport { getBaseProps } from '../../base-component';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { isDevelopment } from '../../is-development';\n\nexport { OptionProps };\n\nfunction validateStringValue(value: string | undefined, propertyName: string) {\n  if (typeof value !== 'undefined' && typeof value !== 'string') {\n    warnOnce(\n      'DropdownOption',\n      `This component only supports string values, but \"option.${propertyName}\" has ${typeof value} type. The component may work incorrectly.`\n    );\n  }\n}\n\nconst Option = ({\n  option,\n  highlightText,\n  triggerVariant = false,\n  isGroupOption = false,\n  isGenericGroup = true,\n  highlightedOption = false,\n  selectedOption = false,\n  ...restProps\n}: OptionProps) => {\n  if (!option) {\n    return null;\n  }\n  const { disabled } = option;\n  const baseProps = getBaseProps(restProps);\n\n  if (isDevelopment) {\n    validateStringValue(option.label, 'label');\n    validateStringValue(option.description, 'description');\n    validateStringValue(option.labelTag, 'labelTag');\n    option.tags?.forEach((tag, index) => {\n      validateStringValue(tag, `tags[${index}]`);\n    });\n    option.filteringTags?.forEach((tag, index) => {\n      validateStringValue(tag, `filteringTags[${index}]`);\n    });\n  }\n\n  const className = clsx(\n    styles.option,\n    disabled && styles.disabled,\n    isGroupOption && styles.parent,\n    highlightedOption && styles.highlighted\n  );\n\n  const icon = option.__customIcon || (\n    <OptionIcon\n      name={option.iconName}\n      url={option.iconUrl}\n      svg={option.iconSvg}\n      alt={option.iconAlt}\n      size={option.description || option.tags ? 'big' : 'normal'}\n    />\n  );\n\n  // The option is conditionally assigned 'title' and 'aria-disabled' attributes to ensure it is viewed as a (generic) group  by assistive technology only when necessary.\n  // Omitting the props might be necessary if they are provided on the parent element to avoid nested groups.\n  // See https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/generic_role\n  const genericGroupProps = isGenericGroup\n    ? {\n        title: option.label ?? option.value,\n        'aria-disabled': disabled,\n      }\n    : undefined;\n\n  return (\n    <span data-value={option.value} className={className} lang={option.lang} {...genericGroupProps} {...baseProps}>\n      {icon}\n      <span className={clsx(styles.content)}>\n        <span className={clsx(styles['label-content'])}>\n          <Label\n            label={option.label ?? option.value}\n            prefix={option.__labelPrefix}\n            highlightText={highlightText}\n            triggerVariant={triggerVariant}\n          />\n          <LabelTag labelTag={option.labelTag} highlightText={highlightText} triggerVariant={triggerVariant} />\n        </span>\n        <Description\n          description={option.description}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n        <Tags\n          tags={option.tags}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n        <FilteringTags\n          filteringTags={option.filteringTags}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n      </span>\n    </span>\n  );\n};\n\nexport default Option;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"option\": \"awsui_option_1p2cx_6shcc_97\",\n  \"disabled\": \"awsui_disabled_1p2cx_6shcc_115\",\n  \"parent\": \"awsui_parent_1p2cx_6shcc_118\",\n  \"highlighted\": \"awsui_highlighted_1p2cx_6shcc_121\",\n  \"content\": \"awsui_content_1p2cx_6shcc_125\",\n  \"label-content\": \"awsui_label-content_1p2cx_6shcc_132\",\n  \"label\": \"awsui_label_1p2cx_6shcc_132\",\n  \"tag\": \"awsui_tag_1p2cx_6shcc_139\",\n  \"label-tag\": \"awsui_label-tag_1p2cx_6shcc_140\",\n  \"label-prefix\": \"awsui_label-prefix_1p2cx_6shcc_151\",\n  \"tags\": \"awsui_tags_1p2cx_6shcc_164\",\n  \"description\": \"awsui_description_1p2cx_6shcc_165\",\n  \"selected\": \"awsui_selected_1p2cx_6shcc_176\",\n  \"icon\": \"awsui_icon_1p2cx_6shcc_190\",\n  \"icon-size-big\": \"awsui_icon-size-big_1p2cx_6shcc_197\",\n  \"filtering-match-highlight\": \"awsui_filtering-match-highlight_1p2cx_6shcc_201\",\n  \"trigger-variant\": \"awsui_trigger-variant_1p2cx_6shcc_216\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\nimport React from 'react';\nimport { IconProps } from '../../../icon/interfaces';\nimport InternalIcon from '../../../icon/internal';\nimport HighlightMatch from './highlight-match';\n\ninterface LabelProps {\n  label?: string;\n  prefix?: string;\n  highlightText?: string;\n  triggerVariant: boolean;\n}\nexport const Label = ({ label, prefix, highlightText, triggerVariant }: LabelProps) => (\n  <span className={clsx(styles.label, triggerVariant && styles['trigger-variant'])}>\n    {prefix && (\n      <span className={clsx(styles['label-prefix'], triggerVariant && styles['trigger-variant'])}>{prefix} </span>\n    )}\n    <HighlightMatch str={label} highlightText={highlightText} />\n  </span>\n);\n\ninterface LabelTagProps {\n  labelTag?: string;\n  highlightText?: string;\n  triggerVariant: boolean;\n}\nexport const LabelTag = ({ labelTag, highlightText, triggerVariant }: LabelTagProps) =>\n  labelTag ? (\n    <span className={clsx(styles['label-tag'], triggerVariant && styles['trigger-variant'])}>\n      <HighlightMatch str={labelTag} highlightText={highlightText} />\n    </span>\n  ) : null;\n\ninterface DescriptionProps {\n  description?: string;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const Description = ({\n  description,\n  highlightedOption,\n  highlightText,\n  selectedOption,\n  triggerVariant,\n}: DescriptionProps) =>\n  description ? (\n    <span\n      className={clsx(styles.description, {\n        [styles['trigger-variant']]: triggerVariant,\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      <HighlightMatch str={description} highlightText={highlightText} />\n    </span>\n  ) : null;\n\ninterface TagsProps {\n  tags?: ReadonlyArray<string>;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const Tags = ({ tags, highlightedOption, highlightText, selectedOption, triggerVariant }: TagsProps) =>\n  tags ? (\n    <span\n      className={clsx(styles.tags, {\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      {tags.map((tag, idx) => (\n        <span key={idx} className={clsx(styles.tag, triggerVariant && styles['trigger-variant'])}>\n          <HighlightMatch str={tag} highlightText={highlightText} />\n        </span>\n      ))}\n    </span>\n  ) : null;\n\ninterface FilteringTagProps {\n  filteringTags?: ReadonlyArray<string>;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const FilteringTags = ({\n  filteringTags,\n  highlightedOption,\n  highlightText,\n  selectedOption,\n  triggerVariant,\n}: FilteringTagProps) => {\n  if (!highlightText || !filteringTags) {\n    return null;\n  }\n\n  const searchElement = highlightText.toLowerCase();\n\n  return (\n    <span\n      className={clsx(styles.tags, {\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      {filteringTags.map((filteringTag, key) => {\n        const match = filteringTag.toLowerCase().indexOf(searchElement) !== -1;\n        if (match) {\n          return (\n            <span\n              className={clsx(styles.tag, triggerVariant && styles['trigger-variant'])}\n              key={key}\n              aria-disabled={true}\n            >\n              <HighlightMatch str={filteringTag} highlightText={highlightText} />\n            </span>\n          );\n        }\n        return null;\n      })}\n    </span>\n  );\n};\n\nexport const OptionIcon = (props: IconProps) => {\n  if (!props.name && !props.url && !props.svg) {\n    return null;\n  }\n\n  return (\n    <span className={clsx(styles.icon, props.size === 'big' && [styles[`icon-size-big`]])}>\n      <InternalIcon {...props} />\n    </span>\n  );\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\n\nconst splitOnFiltering = (str: string, highlightText: string) => {\n  // Filtering needs to be case insensitive\n  const filteringPattern = highlightText.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n  const regexp = new RegExp(filteringPattern, 'gi');\n  const noMatches = str.split(regexp);\n  const matches = str.match(regexp);\n\n  return { noMatches, matches };\n};\n\nexport interface HighlightMatchProps {\n  str?: string;\n  highlightText?: string;\n}\n\nconst Highlight = ({ str }: HighlightMatchProps) =>\n  str ? <span className={clsx(styles['filtering-match-highlight'])}>{str}</span> : null;\n\nexport default function HighlightMatch({ str, highlightText }: HighlightMatchProps) {\n  if (!str || !highlightText) {\n    return <span>{str}</span>;\n  }\n\n  if (str === highlightText) {\n    return <Highlight str={str} />;\n  }\n\n  const { noMatches, matches } = splitOnFiltering(str, highlightText);\n\n  const highlighted: (string | JSX.Element)[] = [];\n\n  noMatches.forEach((noMatch, idx) => {\n    highlighted.push(<span key={`noMatch-${idx}`}>{noMatch}</span>);\n\n    if (matches && idx < matches.length) {\n      highlighted.push(<Highlight key={`match-${idx}`} str={matches[idx]} />);\n    }\n  });\n\n  return <span>{highlighted}</span>;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useLayoutEffect } from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { HighlightType } from '../options-list/utils/use-highlight-option.js';\n\nexport type SelectableItemProps = BaseComponentProps & {\n  children: React.ReactNode;\n  selected?: boolean;\n  highlighted?: boolean;\n  disabled?: boolean;\n  hasBackground?: boolean;\n  isParent?: boolean;\n  isChild?: boolean;\n  virtualPosition?: number;\n  padBottom?: boolean;\n  isNextSelected?: boolean;\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n  ariaPosinset?: number;\n  ariaSetsize?: number;\n  highlightType?: HighlightType;\n} & ({ ariaSelected?: boolean; ariaChecked?: never } | { ariaSelected?: never; ariaChecked?: boolean | 'mixed' });\n\nconst SelectableItem = (\n  {\n    children: content,\n    ariaSelected,\n    ariaChecked,\n    selected,\n    highlighted,\n    disabled,\n    hasBackground,\n    isParent,\n    isChild,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    useInteractiveGroups,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    ...restProps\n  }: SelectableItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const { className, ...rest } = getBaseProps(restProps);\n  const classNames = clsx(className, styles['selectable-item'], {\n    [styles.selected]: selected,\n    [styles.highlighted]: highlighted,\n    [styles['has-background']]: hasBackground,\n    [styles.parent]: isParent,\n    [styles.child]: isChild,\n    [styles['is-keyboard']]: highlightType === 'keyboard',\n    [styles.disabled]: disabled,\n    [styles.virtual]: virtualPosition !== undefined,\n    [styles['pad-bottom']]: padBottom,\n    [styles['next-item-selected']]: isNextSelected,\n    [styles.interactiveGroups]: useInteractiveGroups,\n  });\n\n  const contentRef = useRef<HTMLDivElement>(null);\n  const screenReaderContentRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    // the state of aria-hidden and announcement is not set back because NVDA+Firefox would announce\n    // the item which lost highlight\n    // set aria-hidden true when there is announcement content, so that screen reader still announce\n    // meaningful content when navigate with screen reader cursor\n    // imperatively update to avoid announcement made multiple times when content updates\n    if (highlighted && screenReaderContent) {\n      if (contentRef.current) {\n        contentRef.current.setAttribute('aria-hidden', 'true');\n      }\n      if (screenReaderContentRef.current) {\n        screenReaderContentRef.current.textContent = screenReaderContent;\n      }\n    }\n  }, [highlighted, screenReaderContent, contentRef, screenReaderContentRef]);\n\n  const style =\n    virtualPosition !== undefined\n      ? {\n          transform: `translateY(${virtualPosition}px)`,\n        }\n      : undefined;\n\n  const a11yProperties: Record<string, string | number | boolean | undefined> = {\n    'aria-disabled': disabled,\n  };\n\n  if (isParent && !useInteractiveGroups) {\n    a11yProperties['aria-hidden'] = true;\n  }\n\n  if (ariaSelected !== undefined) {\n    a11yProperties['aria-selected'] = ariaSelected;\n  }\n\n  // Safari+VO needs aria-checked for multi-selection. Otherwise it only announces selected option even though another option is highlighted.\n  if (ariaChecked !== undefined) {\n    a11yProperties['aria-checked'] = ariaChecked;\n  }\n\n  if (ariaPosinset && ariaSetsize) {\n    a11yProperties['aria-posinset'] = ariaPosinset;\n    a11yProperties['aria-setsize'] = ariaSetsize;\n  }\n\n  return (\n    <li role=\"option\" className={classNames} style={style} {...a11yProperties} {...rest}>\n      <div className={styles['option-content']} ref={contentRef}>\n        {content}\n      </div>\n      <div className={styles['measure-strut']} ref={ref} />\n      <div className={styles['screenreader-content']} ref={screenReaderContentRef}></div>\n    </li>\n  );\n};\n\nexport default React.forwardRef(SelectableItem);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"selectable-item\": \"awsui_selectable-item_15o6u_1chqv_93\",\n  \"pad-bottom\": \"awsui_pad-bottom_15o6u_1chqv_115\",\n  \"has-background\": \"awsui_has-background_15o6u_1chqv_124\",\n  \"highlighted\": \"awsui_highlighted_15o6u_1chqv_127\",\n  \"selected\": \"awsui_selected_15o6u_1chqv_127\",\n  \"disabled\": \"awsui_disabled_15o6u_1chqv_141\",\n  \"next-item-selected\": \"awsui_next-item-selected_15o6u_1chqv_149\",\n  \"is-keyboard\": \"awsui_is-keyboard_15o6u_1chqv_157\",\n  \"parent\": \"awsui_parent_15o6u_1chqv_161\",\n  \"interactiveGroups\": \"awsui_interactiveGroups_15o6u_1chqv_165\",\n  \"child\": \"awsui_child_15o6u_1chqv_180\",\n  \"virtual\": \"awsui_virtual_15o6u_1chqv_195\",\n  \"measure-strut\": \"awsui_measure-strut_15o6u_1chqv_206\",\n  \"measure-strut-first\": \"awsui_measure-strut-first_15o6u_1chqv_215\",\n  \"screenreader-content\": \"awsui_screenreader-content_15o6u_1chqv_219\",\n  \"option-content\": \"awsui_option-content_15o6u_1chqv_225\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport Option from '../../internal/components/option';\nimport SelectableItem from '../../internal/components/selectable-item';\nimport { getBaseProps } from '../../internal/base-component';\nimport { DropdownOption, OptionDefinition } from '../../internal/components/option/interfaces';\nimport CheckboxIcon from '../../internal/components/checkbox-icon';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option.js';\nexport interface ItemProps {\n  option: DropdownOption;\n  highlighted?: boolean;\n  selected?: boolean;\n  indeterminate?: boolean;\n  filteringValue?: string;\n  hasCheckbox?: boolean;\n  virtualPosition?: number;\n  padBottom?: boolean;\n  isNextSelected?: boolean;\n  screenReaderContent?: string;\n  ariaPosinset?: number;\n  ariaSetsize?: number;\n  highlightType?: HighlightType;\n}\n\nconst MultiSelectItem = (\n  {\n    option,\n    highlighted,\n    selected,\n    filteringValue,\n    hasCheckbox,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    indeterminate,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    ...restProps\n  }: ItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n\n  const isParent = option.type === 'parent';\n  const isChild = option.type === 'child';\n  const wrappedOption: OptionDefinition = option.option;\n  const disabled = option.disabled || wrappedOption.disabled;\n  const className = clsx(styles.item, {\n    [styles.disabled]: disabled,\n  });\n\n  return (\n    <SelectableItem\n      ariaChecked={isParent && indeterminate ? 'mixed' : Boolean(selected)}\n      selected={selected}\n      isNextSelected={isNextSelected}\n      highlighted={highlighted}\n      disabled={disabled}\n      isParent={isParent}\n      isChild={isChild}\n      highlightType={highlightType}\n      ref={ref}\n      virtualPosition={virtualPosition}\n      padBottom={padBottom}\n      useInteractiveGroups={true}\n      screenReaderContent={screenReaderContent}\n      ariaPosinset={ariaPosinset}\n      ariaSetsize={ariaSetsize}\n      {...baseProps}\n    >\n      <div className={className}>\n        {hasCheckbox && (\n          <div className={styles.checkbox}>\n            <CheckboxIcon checked={selected} indeterminate={isParent && indeterminate} disabled={option.disabled} />\n          </div>\n        )}\n        <Option\n          option={{ ...wrappedOption, disabled }}\n          highlightedOption={highlighted}\n          selectedOption={selected}\n          highlightText={filteringValue}\n          isGroupOption={isParent}\n        />\n      </div>\n    </SelectableItem>\n  );\n};\n\nexport default React.memo(React.forwardRef(MultiSelectItem));\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport { getTestOptionIndexes } from '../../internal/components/options-list/utils/test-indexes';\n\ninterface ItemProps {\n  option: DropdownOption;\n  index: number;\n  getOptionProps: any;\n  filteringValue: string;\n  checkboxes: boolean;\n}\n\nexport const getItemProps = ({ option, index, getOptionProps, filteringValue, checkboxes = false }: ItemProps) => {\n  const optionProps = getOptionProps(option, index);\n  optionProps.filteringValue = filteringValue;\n  const { inGroupIndex, groupIndex, throughIndex } = getTestOptionIndexes(option) || {};\n  return {\n    ...optionProps,\n    hasCheckbox: checkboxes,\n    ['data-group-index']: groupIndex,\n    ['data-child-index']: inGroupIndex,\n    ['data-test-index']: throughIndex,\n  };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useMergeRefs } from '../../internal/hooks/use-merge-refs';\nimport React, { forwardRef, useCallback, useImperativeHandle, useRef } from 'react';\nimport OptionsList from '../../internal/components/options-list';\nimport { renderOptions } from '../utils/render-options';\nimport { SelectListProps } from './plain-list';\nimport { useContainerQuery } from '../../internal/hooks/container-queries';\n\nimport styles from './styles.css.js';\nimport { useVirtual } from '../../internal/hooks/use-virtual';\n\nconst VirtualList = (props: SelectListProps, ref: React.Ref<SelectListProps.SelectListRef>) => {\n  return props.menuProps.open ? <VirtualListOpen {...props} ref={ref} /> : <VirtualListClosed {...props} ref={ref} />;\n};\n\nconst VirtualListOpen = forwardRef(\n  (\n    {\n      menuProps,\n      getOptionProps,\n      filteredOptions,\n      filteringValue,\n      highlightType,\n      checkboxes,\n      hasDropdownStatus,\n      listBottom,\n      useInteractiveGroups,\n      screenReaderContent,\n    }: SelectListProps,\n    ref: React.Ref<SelectListProps.SelectListRef>\n  ) => {\n    // update component, when it gets wider or narrower to reposition items\n    const [width, menuMeasureRef] = useContainerQuery(rect => rect.width, []);\n    const menuRefObject = useRef(null);\n    const menuRef = useMergeRefs(menuMeasureRef, menuRefObject, menuProps.ref);\n\n    const { virtualItems, totalSize, scrollToIndex } = useVirtual({\n      items: filteredOptions,\n      parentRef: menuRefObject,\n      // estimateSize is a dependency of measurements memo. We update it to force full recalculation\n      // when the height of any option could have changed:\n      // 1: because the component got resized (width property got updated)\n      // 2: because the option changed its content (filteringValue property controls the highlight and the visibility of hidden tags)\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      estimateSize: useCallback(() => 31, [width, filteringValue]),\n    });\n\n    useImperativeHandle(\n      ref,\n      () => (index: number) => {\n        if (highlightType === 'keyboard') {\n          scrollToIndex(index);\n        }\n      },\n      [highlightType, scrollToIndex]\n    );\n    const finalOptions = renderOptions({\n      options: virtualItems.map(({ index }) => filteredOptions[index]),\n      getOptionProps,\n      filteringValue,\n      highlightType,\n      checkboxes,\n      hasDropdownStatus,\n      virtualItems,\n      useInteractiveGroups,\n      screenReaderContent,\n      ariaSetsize: filteredOptions.length,\n    });\n\n    return (\n      <OptionsList {...menuProps} ref={menuRef}>\n        <div aria-hidden=\"true\" key=\"total-size\" className={styles['layout-strut']} style={{ height: totalSize }} />\n        {finalOptions}\n        {listBottom ? (\n          <li role=\"option\" className={styles['list-bottom']}>\n            {listBottom}\n          </li>\n        ) : null}\n      </OptionsList>\n    );\n  }\n);\n\nconst VirtualListClosed = forwardRef(\n  ({ menuProps, listBottom }: SelectListProps, ref: React.Ref<SelectListProps.SelectListRef>) => {\n    useImperativeHandle(ref, () => () => {}, []);\n    return (\n      <OptionsList {...menuProps} ref={menuProps.ref}>\n        {listBottom ? (\n          <li role=\"option\" className={styles['list-bottom']}>\n            {listBottom}\n          </li>\n        ) : null}\n      </OptionsList>\n    );\n  }\n);\n\nexport default forwardRef(VirtualList);\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { useVirtual as useVirtualDefault, VirtualItem } from 'react-virtual';\n\nconst MAX_ITEM_MOUNTS = 100;\n\ninterface UseVirtualProps<Item> {\n  items: readonly Item[];\n  parentRef: React.RefObject<HTMLElement>;\n  estimateSize: () => number;\n}\n\ninterface RowVirtualizer {\n  virtualItems: VirtualItem[];\n  totalSize: number;\n  scrollToIndex: (index: number) => void;\n}\n\n/**\n * The useVirtual from react-virtual@2 might produce an infinite update loop caused by setting\n * measured item sizes in the render cycle (as part of the measureRef assignment):\n *      The sum of all measured item sizes is returned as totalSize which is then set on the list container.\n *      Enforcing new container height might result in an items size change e.g. when the content wraps.\n *\n * The infinite update cycle causes React \"Maximum update depth exceeded\" error and can be additionally confirmed\n * by logging the totalSize which should then bounce between two values.\n *\n * The number of item refs assignments is limited to MAX_ITEM_MOUNTS unless items or indices change.\n * That is based on the assumption the item height stays constant after its first render.\n */\nexport function useVirtual<Item extends object>({\n  items,\n  parentRef,\n  estimateSize,\n}: UseVirtualProps<Item>): RowVirtualizer {\n  const rowVirtualizer = useVirtualDefault({ size: items.length, parentRef, estimateSize, overscan: 5 });\n\n  // Cache virtual item mounts to limit the amount of mounts per item.\n  const measuresCache = useRef(new WeakMap<Item, number>());\n\n  // Clear mounts cache every time indices, items, or size estimate change.\n  const indicesKey = rowVirtualizer.virtualItems.map(item => `${item.index}`).join(':');\n  useEffect(() => {\n    measuresCache.current = new WeakMap();\n  }, [indicesKey, items, estimateSize]);\n\n  const virtualItems = useMemo(\n    () =>\n      rowVirtualizer.virtualItems.map(virtualItem => ({\n        ...virtualItem,\n        measureRef: (node: null | HTMLElement) => {\n          const mountedCount = measuresCache.current.get(items[virtualItem.index]) ?? 0;\n          if (mountedCount < MAX_ITEM_MOUNTS) {\n            virtualItem.measureRef(node);\n            measuresCache.current.set(items[virtualItem.index], mountedCount + 1);\n          }\n        },\n      })),\n    [items, rowVirtualizer.virtualItems]\n  );\n\n  return {\n    virtualItems,\n    totalSize: rowVirtualizer.totalSize,\n    scrollToIndex: rowVirtualizer.scrollToIndex,\n  };\n}\n", "var props = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes =\n/*#__PURE__*/\nnew Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nexport default observeRect;\n//# sourceMappingURL=observe-rect.esm.js.map\n", "import React from 'react'\n\nexport default typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : React.useEffect\n", "import React from 'react'\nimport observeRect from '@reach/observe-rect'\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nexport default function useRect(\n  nodeRef,\n  initialRect = { width: 0, height: 0 }\n) {\n  const [element, setElement] = React.useState(nodeRef.current)\n  const [rect, dispatch] = React.useReducer(rectReducer, initialRect)\n  const initialRectSet = React.useRef(false)\n\n  useIsomorphicLayoutEffect(() => {\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current)\n    }\n  })\n\n  useIsomorphicLayoutEffect(() => {\n    if (element && !initialRectSet.current) {\n      initialRectSet.current = true\n      const rect = element.getBoundingClientRect()\n      dispatch({ rect })\n    }\n  }, [element])\n\n  React.useEffect(() => {\n    if (!element) {\n      return\n    }\n\n    const observer = observeRect(element, rect => {\n      dispatch({ rect })\n    })\n\n    observer.observe()\n\n    return () => {\n      observer.unobserve()\n    }\n  }, [element])\n\n  return rect\n}\n\nfunction rectReducer(state, action) {\n  const rect = action.rect\n  if (state.height !== rect.height || state.width !== rect.width) {\n    return rect\n  }\n  return state\n}\n", "import React from 'react'\nimport useRect from './useRect'\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nconst defaultEstimateSize = () => 50\n\nconst defaultKeyExtractor = index => index\n\nconst defaultMeasureSize = (el, horizontal) => {\n  const key = horizontal ? 'offsetWidth' : 'offsetHeight'\n\n  return el[key]\n}\n\nexport const defaultRangeExtractor = range => {\n  const start = Math.max(range.start - range.overscan, 0)\n  const end = Math.min(range.end + range.overscan, range.size - 1)\n\n  const arr = []\n\n  for (let i = start; i <= end; i++) {\n    arr.push(i)\n  }\n\n  return arr\n}\n\nexport function useVirtual({\n  size = 0,\n  estimateSize = defaultEstimateSize,\n  overscan = 1,\n  paddingStart = 0,\n  paddingEnd = 0,\n  parentRef,\n  horizontal,\n  scrollToFn,\n  useObserver,\n  initialRect,\n  onScrollElement,\n  scrollOffsetFn,\n  keyExtractor = defaultKeyExtractor,\n  measureSize = defaultMeasureSize,\n  rangeExtractor = defaultRangeExtractor,\n}) {\n  const sizeKey = horizontal ? 'width' : 'height'\n  const scrollKey = horizontal ? 'scrollLeft' : 'scrollTop'\n\n  const latestRef = React.useRef({\n    scrollOffset: 0,\n    measurements: [],\n  })\n\n  const [scrollOffset, setScrollOffset] = React.useState(0)\n  latestRef.current.scrollOffset = scrollOffset\n\n  const useMeasureParent = useObserver || useRect\n\n  const { [sizeKey]: outerSize } = useMeasureParent(parentRef, initialRect)\n\n  latestRef.current.outerSize = outerSize\n\n  const defaultScrollToFn = React.useCallback(\n    offset => {\n      if (parentRef.current) {\n        parentRef.current[scrollKey] = offset\n      }\n    },\n    [parentRef, scrollKey]\n  )\n\n  const resolvedScrollToFn = scrollToFn || defaultScrollToFn\n\n  scrollToFn = React.useCallback(\n    offset => {\n      resolvedScrollToFn(offset, defaultScrollToFn)\n    },\n    [defaultScrollToFn, resolvedScrollToFn]\n  )\n\n  const [measuredCache, setMeasuredCache] = React.useState({})\n\n  const measure = React.useCallback(() => setMeasuredCache({}), [])\n\n  const pendingMeasuredCacheIndexesRef = React.useRef([])\n\n  const measurements = React.useMemo(() => {\n    const min =\n      pendingMeasuredCacheIndexesRef.current.length > 0\n        ? Math.min(...pendingMeasuredCacheIndexesRef.current)\n        : 0\n    pendingMeasuredCacheIndexesRef.current = []\n\n    const measurements = latestRef.current.measurements.slice(0, min)\n\n    for (let i = min; i < size; i++) {\n      const key = keyExtractor(i)\n      const measuredSize = measuredCache[key]\n      const start = measurements[i - 1] ? measurements[i - 1].end : paddingStart\n      const size =\n        typeof measuredSize === 'number' ? measuredSize : estimateSize(i)\n      const end = start + size\n      measurements[i] = { index: i, start, size, end, key }\n    }\n    return measurements\n  }, [estimateSize, measuredCache, paddingStart, size, keyExtractor])\n\n  const totalSize = (measurements[size - 1]?.end || paddingStart) + paddingEnd\n\n  latestRef.current.measurements = measurements\n  latestRef.current.totalSize = totalSize\n\n  const element = onScrollElement ? onScrollElement.current : parentRef.current\n\n  const scrollOffsetFnRef = React.useRef(scrollOffsetFn)\n  scrollOffsetFnRef.current = scrollOffsetFn\n\n  useIsomorphicLayoutEffect(() => {\n    if (!element) {\n      setScrollOffset(0)\n\n      return\n    }\n\n    const onScroll = event => {\n      const offset = scrollOffsetFnRef.current\n        ? scrollOffsetFnRef.current(event)\n        : element[scrollKey]\n\n      setScrollOffset(offset)\n    }\n\n    onScroll()\n\n    element.addEventListener('scroll', onScroll, {\n      capture: false,\n      passive: true,\n    })\n\n    return () => {\n      element.removeEventListener('scroll', onScroll)\n    }\n  }, [element, scrollKey])\n\n  const { start, end } = calculateRange(latestRef.current)\n\n  const indexes = React.useMemo(\n    () =>\n      rangeExtractor({\n        start,\n        end,\n        overscan,\n        size: measurements.length,\n      }),\n    [start, end, overscan, measurements.length, rangeExtractor]\n  )\n\n  const measureSizeRef = React.useRef(measureSize)\n  measureSizeRef.current = measureSize\n\n  const virtualItems = React.useMemo(() => {\n    const virtualItems = []\n\n    for (let k = 0, len = indexes.length; k < len; k++) {\n      const i = indexes[k]\n      const measurement = measurements[i]\n\n      const item = {\n        ...measurement,\n        measureRef: el => {\n          if (el) {\n            const measuredSize = measureSizeRef.current(el, horizontal)\n\n            if (measuredSize !== item.size) {\n              const { scrollOffset } = latestRef.current\n\n              if (item.start < scrollOffset) {\n                defaultScrollToFn(scrollOffset + (measuredSize - item.size))\n              }\n\n              pendingMeasuredCacheIndexesRef.current.push(i)\n\n              setMeasuredCache(old => ({\n                ...old,\n                [item.key]: measuredSize,\n              }))\n            }\n          }\n        },\n      }\n\n      virtualItems.push(item)\n    }\n\n    return virtualItems\n  }, [indexes, defaultScrollToFn, horizontal, measurements])\n\n  const mountedRef = React.useRef(false)\n\n  useIsomorphicLayoutEffect(() => {\n    if (mountedRef.current) {\n      setMeasuredCache({})\n    }\n    mountedRef.current = true\n  }, [estimateSize])\n\n  const scrollToOffset = React.useCallback(\n    (toOffset, { align = 'start' } = {}) => {\n      const { scrollOffset, outerSize } = latestRef.current\n\n      if (align === 'auto') {\n        if (toOffset <= scrollOffset) {\n          align = 'start'\n        } else if (toOffset >= scrollOffset + outerSize) {\n          align = 'end'\n        } else {\n          align = 'start'\n        }\n      }\n\n      if (align === 'start') {\n        scrollToFn(toOffset)\n      } else if (align === 'end') {\n        scrollToFn(toOffset - outerSize)\n      } else if (align === 'center') {\n        scrollToFn(toOffset - outerSize / 2)\n      }\n    },\n    [scrollToFn]\n  )\n\n  const tryScrollToIndex = React.useCallback(\n    (index, { align = 'auto', ...rest } = {}) => {\n      const { measurements, scrollOffset, outerSize } = latestRef.current\n\n      const measurement = measurements[Math.max(0, Math.min(index, size - 1))]\n\n      if (!measurement) {\n        return\n      }\n\n      if (align === 'auto') {\n        if (measurement.end >= scrollOffset + outerSize) {\n          align = 'end'\n        } else if (measurement.start <= scrollOffset) {\n          align = 'start'\n        } else {\n          return\n        }\n      }\n\n      const toOffset =\n        align === 'center'\n          ? measurement.start + measurement.size / 2\n          : align === 'end'\n          ? measurement.end\n          : measurement.start\n\n      scrollToOffset(toOffset, { align, ...rest })\n    },\n    [scrollToOffset, size]\n  )\n\n  const scrollToIndex = React.useCallback(\n    (...args) => {\n      // We do a double request here because of\n      // dynamic sizes which can cause offset shift\n      // and end up in the wrong spot. Unfortunately,\n      // we can't know about those dynamic sizes until\n      // we try and render them. So double down!\n      tryScrollToIndex(...args)\n      requestAnimationFrame(() => {\n        tryScrollToIndex(...args)\n      })\n    },\n    [tryScrollToIndex]\n  )\n\n  return {\n    virtualItems,\n    totalSize,\n    scrollToOffset,\n    scrollToIndex,\n    measure,\n  }\n}\n\nconst findNearestBinarySearch = (low, high, getCurrentValue, value) => {\n  while (low <= high) {\n    let middle = ((low + high) / 2) | 0\n    let currentValue = getCurrentValue(middle)\n\n    if (currentValue < value) {\n      low = middle + 1\n    } else if (currentValue > value) {\n      high = middle - 1\n    } else {\n      return middle\n    }\n  }\n\n  if (low > 0) {\n    return low - 1\n  } else {\n    return 0\n  }\n}\n\nfunction calculateRange({ measurements, outerSize, scrollOffset }) {\n  const size = measurements.length - 1\n  const getOffset = index => measurements[index].start\n\n  let start = findNearestBinarySearch(0, size, getOffset, scrollOffset)\n  let end = start\n\n  while (end < size && measurements[end].end < scrollOffset + outerSize) {\n    end++\n  }\n\n  return { start, end }\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { isDevelopment } from '../../internal/is-development';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nexport function checkOptionValueField<ValueType extends ReadonlyArray<any>>(\n  componentName: string,\n  propertyName: string,\n  propertyValue: ValueType | undefined\n) {\n  if (isDevelopment) {\n    if (!propertyValue) {\n      return;\n    }\n\n    const valuePropertyMissing = !propertyValue.every(element => {\n      return 'options' in element || 'value' in element;\n    });\n\n    if (valuePropertyMissing) {\n      warnOnce(\n        componentName,\n        `You provided an \\`${propertyName}\\` prop where at least one non-group array element is missing the \\`value\\` field. This field is required for all options without sub-items.`\n      );\n    }\n  }\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport InternalInput, { InternalInputProps } from '../../input/internal';\nimport { SelectProps } from '../interfaces';\nimport styles from './styles.css.js';\n\nexport interface FilterProps extends InternalInputProps {\n  ref?: React.Ref<HTMLInputElement>;\n  filteringType: SelectProps.FilteringType;\n}\n\nconst Filter = React.forwardRef(({ filteringType, ...filterProps }: FilterProps, ref: React.Ref<HTMLInputElement>) => {\n  if (filteringType === 'none') {\n    return null;\n  }\n\n  return (\n    <InternalInput\n      ref={ref}\n      type=\"visualSearch\"\n      className={styles.filter}\n      autoComplete={false}\n      disableBrowserAutocorrect={true}\n      invalid={false}\n      __noBorderRadius={true}\n      {...filterProps}\n      __nativeAttributes={{\n        'aria-expanded': true,\n        'aria-haspopup': true,\n        role: 'combobox',\n        autoCorrect: 'off',\n        autoCapitalize: 'off',\n        ...filterProps.__nativeAttributes,\n      }}\n    />\n  );\n});\n\nexport default Filter;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { useMergeRefs } from '../../internal/hooks/use-merge-refs';\nimport clsx from 'clsx';\nimport ButtonTrigger from '../../internal/components/button-trigger';\nimport { SelectProps } from '../interfaces';\nimport styles from './styles.css.js';\nimport { OptionDefinition } from '../../internal/components/option/interfaces';\nimport { FormFieldValidationControlProps } from '../../internal/context/form-field-context';\nimport Option from '../../internal/components/option';\nimport { useUniqueId } from '../../internal/hooks/use-unique-id';\nimport { SelectTriggerProps } from '../utils/use-select';\nimport { joinStrings } from '../../internal/utils/strings';\n\nexport interface TriggerProps extends FormFieldValidationControlProps {\n  placeholder: string | undefined;\n  disabled: boolean | undefined;\n  triggerProps: SelectTriggerProps;\n  selectedOption: OptionDefinition | null;\n  isOpen?: boolean;\n  triggerVariant?: SelectProps.TriggerVariant;\n  inFilteringToken?: boolean;\n}\n\nconst Trigger = React.forwardRef(\n  (\n    {\n      ariaLabelledby,\n      ariaDescribedby,\n      controlId,\n      invalid,\n      triggerProps,\n      selectedOption,\n      triggerVariant,\n      inFilteringToken,\n      isOpen,\n      placeholder,\n      disabled,\n    }: TriggerProps,\n    ref: React.Ref<HTMLButtonElement>\n  ) => {\n    const generatedId = useUniqueId();\n    const id = controlId ?? generatedId;\n    const triggerContentId = useUniqueId('trigger-content-');\n\n    let triggerContent = null;\n    if (!selectedOption) {\n      triggerContent = (\n        <span aria-disabled=\"true\" className={clsx(styles.placeholder, styles.trigger)} id={triggerContentId}>\n          {placeholder}\n        </span>\n      );\n    } else if (triggerVariant === 'option') {\n      triggerContent = <Option id={triggerContentId} option={{ ...selectedOption, disabled }} triggerVariant={true} />;\n    } else {\n      triggerContent = (\n        <span id={triggerContentId} className={styles.trigger}>\n          {selectedOption.label || selectedOption.value}\n        </span>\n      );\n    }\n\n    const mergedRef = useMergeRefs(triggerProps.ref, ref);\n\n    return (\n      <ButtonTrigger\n        {...triggerProps}\n        id={id}\n        ref={mergedRef}\n        pressed={isOpen}\n        disabled={disabled}\n        invalid={invalid}\n        inFilteringToken={inFilteringToken}\n        ariaDescribedby={ariaDescribedby}\n        ariaLabelledby={joinStrings(ariaLabelledby, triggerContentId)}\n      >\n        {triggerContent}\n      </ButtonTrigger>\n    );\n  }\n);\n\nexport default Trigger;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { ButtonHTMLAttributes } from 'react';\nimport clsx from 'clsx';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport InternalIcon from '../../../icon/internal';\nimport styles from './styles.css.js';\nimport { fireKeyboardEvent, fireCancelableEvent, CancelableEventHandler, BaseKeyDetail } from '../../events';\n\nexport interface ButtonTriggerProps extends BaseComponentProps {\n  children?: React.ReactNode;\n  pressed?: boolean;\n  hideCaret?: boolean;\n  disabled?: boolean;\n  readOnly?: boolean;\n  invalid?: boolean;\n  inFilteringToken?: boolean;\n  ariaHasPopup?: 'true' | 'listbox';\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  ariaDescribedby?: string;\n  onKeyDown?: CancelableEventHandler<BaseKeyDetail>;\n  onKeyUp?: CancelableEventHandler<BaseKeyDetail>;\n  onMouseDown?: CancelableEventHandler;\n  onClick?: CancelableEventHandler;\n  onFocus?: CancelableEventHandler;\n  onBlur?: CancelableEventHandler<{ relatedTarget: Node | null }>;\n  autoFocus?: boolean;\n}\n\nconst ButtonTrigger = (\n  {\n    children,\n    pressed = false,\n    hideCaret = false,\n    disabled = false,\n    readOnly = false,\n    invalid = false,\n    inFilteringToken,\n    ariaHasPopup,\n    ariaLabel,\n    ariaLabelledby,\n    ariaDescribedby,\n    onKeyDown,\n    onKeyUp,\n    onMouseDown,\n    onClick,\n    onFocus,\n    onBlur,\n    autoFocus,\n    ...restProps\n  }: ButtonTriggerProps,\n  ref: React.Ref<HTMLButtonElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n  const attributes: ButtonHTMLAttributes<HTMLButtonElement> = {\n    ...baseProps,\n    type: 'button',\n    className: clsx(\n      styles['button-trigger'],\n      baseProps.className,\n      pressed && styles.pressed,\n      disabled && styles.disabled,\n      invalid && styles.invalid,\n      !hideCaret && styles['has-caret'],\n      readOnly && styles['read-only'],\n      inFilteringToken && styles['in-filtering-token']\n    ),\n    disabled: disabled || readOnly,\n    'aria-expanded': pressed,\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledby,\n    'aria-describedby': ariaDescribedby,\n    'aria-haspopup': ariaHasPopup ?? 'listbox',\n    onKeyDown: onKeyDown && (event => fireKeyboardEvent(onKeyDown, event)),\n    onKeyUp: onKeyUp && (event => fireKeyboardEvent(onKeyUp, event)),\n    onMouseDown: onMouseDown && (event => fireCancelableEvent(onMouseDown, {}, event)),\n    onClick: onClick && (event => fireCancelableEvent(onClick, {}, event)),\n    onFocus: onFocus && (event => fireCancelableEvent(onFocus, {}, event)),\n    onBlur: onBlur && (event => fireCancelableEvent(onBlur, { relatedTarget: event.relatedTarget }, event)),\n    autoFocus,\n  };\n\n  if (invalid) {\n    attributes['aria-invalid'] = invalid;\n  }\n\n  return (\n    <button ref={ref} {...attributes}>\n      {children}\n      {!hideCaret && (\n        <span className={styles.arrow}>\n          <InternalIcon name=\"caret-down-filled\" variant={disabled ? 'disabled' : 'normal'} />\n        </span>\n      )}\n    </button>\n  );\n};\n\nexport namespace ButtonTriggerProps {\n  export interface Ref {\n    focus(): void;\n  }\n}\n\nexport default React.forwardRef(ButtonTrigger);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"button-trigger\": \"awsui_button-trigger_18eso_jeche_97\",\n  \"arrow\": \"awsui_arrow_18eso_jeche_97\",\n  \"has-caret\": \"awsui_has-caret_18eso_jeche_137\",\n  \"placeholder\": \"awsui_placeholder_18eso_jeche_140\",\n  \"pressed\": \"awsui_pressed_18eso_jeche_153\",\n  \"disabled\": \"awsui_disabled_18eso_jeche_156\",\n  \"in-filtering-token\": \"awsui_in-filtering-token_18eso_jeche_165\",\n  \"read-only\": \"awsui_read-only_18eso_jeche_171\",\n  \"invalid\": \"awsui_invalid_18eso_jeche_188\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\n\nimport Option from '../internal/components/option';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\n\nimport { TokenGroupProps } from './interfaces';\nimport { SomeRequired } from '../internal/types';\nimport { getBaseProps } from '../internal/base-component';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport TokenList from '../internal/components/token-list';\nimport { Token } from './token';\n\ntype InternalTokenGroupProps = SomeRequired<TokenGroupProps, 'items' | 'alignment'> & InternalBaseComponentProps;\n\nexport default function InternalTokenGroup({\n  alignment,\n  items,\n  onDismiss,\n  limit,\n  i18nStrings,\n  __internalRootRef,\n  ...props\n}: InternalTokenGroupProps) {\n  checkControlled('TokenGroup', 'items', items, 'onDismiss', onDismiss);\n\n  const [removedItemIndex, setRemovedItemIndex] = useState<null | number>(null);\n\n  const baseProps = getBaseProps(props);\n  const hasItems = items.length > 0;\n  return (\n    <div\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root, hasItems && styles['has-items'])}\n      ref={__internalRootRef}\n    >\n      <TokenList\n        alignment={alignment}\n        items={items}\n        limit={limit}\n        renderItem={(item, itemIndex) => (\n          <Token\n            ariaLabel={item.label}\n            dismissLabel={item.dismissLabel}\n            onDismiss={() => {\n              fireNonCancelableEvent(onDismiss, { itemIndex });\n              setRemovedItemIndex(itemIndex);\n            }}\n            disabled={item.disabled}\n          >\n            <Option option={item} isGenericGroup={false} />\n          </Token>\n        )}\n        i18nStrings={i18nStrings}\n        removedItemIndex={removedItemIndex}\n      />\n    </div>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_dm8gx_nm1t1_97\",\n  \"has-items\": \"awsui_has-items_dm8gx_nm1t1_109\",\n  \"dismiss-button\": \"awsui_dismiss-button_dm8gx_nm1t1_113\",\n  \"token\": \"awsui_token_dm8gx_nm1t1_147\",\n  \"token-box\": \"awsui_token-box_dm8gx_nm1t1_154\",\n  \"token-box-error\": \"awsui_token-box-error_dm8gx_nm1t1_166\",\n  \"token-box-disabled\": \"awsui_token-box-disabled_dm8gx_nm1t1_177\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useState } from 'react';\n\nimport TokenLimitToggle from './token-limit-toggle';\nimport styles from './styles.css.js';\nimport { TokenListProps } from './interfaces';\nimport { useUniqueId } from '../../hooks/use-unique-id';\nimport clsx from 'clsx';\nimport { useTokenFocusController } from './token-focus-controller';\n\nexport default function TokenList<Item>({\n  items,\n  alignment,\n  renderItem,\n  limit,\n  after,\n  i18nStrings,\n  removedItemIndex,\n}: TokenListProps<Item>) {\n  const tokenListRef = useTokenFocusController({ removedItemIndex });\n  const controlId = useUniqueId();\n\n  const [expanded, setExpanded] = useState(false);\n  const hasItems = items.length > 0;\n  const hasHiddenItems = hasItems && limit !== undefined && items.length > limit;\n  const visibleItems = hasHiddenItems && !expanded ? items.slice(0, limit) : items;\n  const hasVisibleItems = visibleItems.length > 0;\n\n  const toggle = hasHiddenItems ? (\n    <div className={styles[`toggle-container-${alignment}`]}>\n      <TokenLimitToggle\n        controlId={hasVisibleItems ? controlId : undefined}\n        allHidden={limit === 0}\n        expanded={expanded}\n        numberOfHiddenOptions={items.length - visibleItems.length}\n        i18nStrings={i18nStrings}\n        onClick={() => setExpanded(!expanded)}\n      />\n    </div>\n  ) : null;\n\n  if (alignment === 'inline') {\n    return (\n      <div ref={tokenListRef} className={clsx(styles.root, styles.horizontal)}>\n        {hasItems && (\n          <ul id={controlId} className={styles.list}>\n            {visibleItems.map((item, itemIndex) => (\n              <li\n                key={itemIndex}\n                className={styles['list-item']}\n                aria-setsize={items.length}\n                aria-posinset={itemIndex + 1}\n              >\n                {renderItem(item, itemIndex)}\n              </li>\n            ))}\n          </ul>\n        )}\n        {toggle}\n        {after && <div className={styles.separator} />}\n        {after}\n      </div>\n    );\n  }\n\n  return (\n    <div ref={tokenListRef} className={clsx(styles.root, styles.vertical)}>\n      {hasVisibleItems && (\n        <ul id={controlId} className={clsx(styles.list, styles[alignment])}>\n          {visibleItems.map((item, itemIndex) => (\n            <li\n              key={itemIndex}\n              className={styles['list-item']}\n              aria-setsize={items.length}\n              aria-posinset={itemIndex + 1}\n            >\n              {renderItem(item, itemIndex)}\n            </li>\n          ))}\n        </ul>\n      )}\n      {toggle}\n      {after}\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useCallback } from 'react';\nimport InternalIcon from '../../../icon/internal';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../events';\nimport { I18nStrings } from './interfaces';\n\nimport styles from './styles.css.js';\nimport { useInternalI18n } from '../../i18n/context';\ninterface TokenLimitToggleProps {\n  controlId?: string;\n  allHidden: boolean;\n  expanded: boolean;\n  numberOfHiddenOptions: number;\n  onClick?: NonCancelableEventHandler<null>;\n  i18nStrings?: I18nStrings;\n}\n\nexport default function TokenLimitToggle({\n  controlId,\n  allHidden,\n  expanded,\n  numberOfHiddenOptions,\n  onClick,\n  i18nStrings = {},\n}: TokenLimitToggleProps) {\n  const i18n = useInternalI18n('token-group');\n\n  const numberOfHiddenOptionLabel = allHidden ? numberOfHiddenOptions : `+${numberOfHiddenOptions}`;\n  const description = expanded\n    ? i18n('i18nStrings.limitShowFewer', i18nStrings.limitShowFewer)\n    : `${i18n('i18nStrings.limitShowMore', i18nStrings.limitShowMore) || ''} (${numberOfHiddenOptionLabel})`;\n\n  const handleClick = useCallback(() => {\n    fireNonCancelableEvent(onClick, null);\n  }, [onClick]);\n\n  return (\n    <button\n      type=\"button\"\n      className={styles.toggle}\n      onClick={handleClick}\n      aria-controls={controlId}\n      aria-expanded={expanded}\n    >\n      <InternalIcon name={expanded ? 'treeview-collapse' : 'treeview-expand'} />\n      <span className={styles.description}>{description}</span>\n    </button>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_gfwv3_x9ohd_93\",\n  \"horizontal\": \"awsui_horizontal_gfwv3_x9ohd_98\",\n  \"vertical\": \"awsui_vertical_gfwv3_x9ohd_102\",\n  \"list\": \"awsui_list_gfwv3_x9ohd_106\",\n  \"list-item\": \"awsui_list-item_gfwv3_x9ohd_124\",\n  \"toggle-container-inline\": \"awsui_toggle-container-inline_gfwv3_x9ohd_129\",\n  \"toggle\": \"awsui_toggle_gfwv3_x9ohd_129\",\n  \"description\": \"awsui_description_gfwv3_x9ohd_197\",\n  \"separator\": \"awsui_separator_gfwv3_x9ohd_201\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useEffect, useRef } from 'react';\nimport { getFirstFocusable } from '../focus-lock/utils.js';\nimport styles from './styles.css.js';\n\nconst tokenSelector = `.${styles['list-item']}`;\nconst toggleButtonSelector = `.${styles.toggle}`;\n\nexport function useTokenFocusController({ removedItemIndex }: { removedItemIndex?: null | number }) {\n  const tokenListRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (removedItemIndex === undefined || removedItemIndex === null || tokenListRef.current === null) {\n      return;\n    }\n\n    const tokenElements = tokenListRef.current.querySelectorAll(tokenSelector);\n    const toggleButton = tokenListRef.current.querySelector(toggleButtonSelector);\n\n    const activeItemIndices: number[] = [];\n    for (let i = 0; i < tokenElements.length; i++) {\n      if (!tokenElements[i].querySelector('[aria-disabled=\"true\"]')) {\n        activeItemIndices.push(i);\n      }\n    }\n\n    let closestPrevIndex = Number.NEGATIVE_INFINITY;\n    let closestNextIndex = Number.POSITIVE_INFINITY;\n\n    for (const activeIndex of activeItemIndices) {\n      if (activeIndex < removedItemIndex) {\n        closestPrevIndex =\n          removedItemIndex - activeIndex < removedItemIndex - closestPrevIndex ? activeIndex : closestPrevIndex;\n      } else {\n        closestNextIndex =\n          activeIndex - removedItemIndex < closestNextIndex - removedItemIndex ? activeIndex : closestNextIndex;\n      }\n    }\n\n    const nextElement = tokenElements[closestNextIndex];\n    const prevElement = tokenElements[closestPrevIndex];\n\n    if (nextElement instanceof HTMLElement) {\n      getFirstFocusable(nextElement)?.focus();\n    } else if (prevElement instanceof HTMLElement) {\n      getFirstFocusable(prevElement)?.focus();\n    } else if (toggleButton instanceof HTMLElement) {\n      toggleButton.focus();\n    }\n  }, [removedItemIndex]);\n\n  return tokenListRef;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport DismissButton from './dismiss-button';\nimport styles from './styles.css.js';\nimport { FormFieldError } from '../form-field/internal';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { getBaseProps } from '../internal/base-component';\n\ninterface TokenProps {\n  children: React.ReactNode;\n  ariaLabel?: string;\n  dismissLabel?: string;\n  onDismiss?: () => void;\n  disabled?: boolean;\n  errorText?: React.ReactNode;\n  errorIconAriaLabel?: string;\n  className?: string;\n}\n\nexport function Token({\n  ariaLabel,\n  disabled,\n  dismissLabel,\n  onDismiss,\n  children,\n  errorText,\n  errorIconAriaLabel,\n  ...restProps\n}: TokenProps) {\n  const errorId = useUniqueId('error');\n  const baseProps = getBaseProps(restProps);\n  return (\n    <div\n      {...baseProps}\n      className={clsx(styles.token, baseProps.className)}\n      role=\"group\"\n      aria-label={ariaLabel}\n      aria-describedby={errorText ? errorId : undefined}\n      aria-disabled={disabled}\n    >\n      <div\n        className={clsx(\n          styles['token-box'],\n          disabled && styles['token-box-disabled'],\n          errorText && styles['token-box-error']\n        )}\n      >\n        {children}\n        {onDismiss && <DismissButton disabled={disabled} dismissLabel={dismissLabel} onDismiss={onDismiss} />}\n      </div>\n      {errorText && (\n        <FormFieldError id={errorId} errorIconAriaLabel={errorIconAriaLabel}>\n          {errorText}\n        </FormFieldError>\n      )}\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, Ref } from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport InternalIcon from '../icon/internal';\n\ninterface DismissButtonProps {\n  disabled?: boolean;\n  onDismiss?: () => void;\n  dismissLabel?: string;\n}\n\nexport default forwardRef(DismissButton);\n\nfunction DismissButton({ disabled, dismissLabel, onDismiss }: DismissButtonProps, ref: Ref<HTMLButtonElement>) {\n  return (\n    <button\n      ref={ref}\n      type=\"button\"\n      className={clsx(styles['dismiss-button'])}\n      disabled={disabled}\n      onClick={onDismiss}\n      aria-label={dismissLabel}\n    >\n      <InternalIcon name=\"close\" />\n    </button>\n  );\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_f8g6q_wi4df_93\"\n};\n  "],
  "mappings": "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",
  "names": ["import_react", "import_react", "styles_css_default", "React", "styles_css_default", "internal_default", "React", "options", "option", "import_react", "import_react", "highlightType", "import_react", "import_react", "searchText", "matchingOptions", "import_react", "import_react", "import_react", "import_react", "import_react", "styles_css_default", "import_react", "styles_css_default", "import_react", "import_react", "React", "styles_css_default", "React", "styles_css_default", "props", "styles_css_default", "React", "import_react", "styles_css_default", "styles_css_default", "React", "React", "styles_css_default", "import_react", "styles_css_default", "React", "props", "React", "React", "styles_css_default", "import_react", "import_react", "props", "rectChanged", "b", "observedNodes", "run", "changedStates", "newRect", "node", "state", "rafId", "window", "observeRect", "cb", "observe", "wasEmpty", "rect", "hasRectChanged", "callbacks", "unobserve", "index", "cancelAnimationFrame", "React", "useLayoutEffect", "useEffect", "useRect", "nodeRef", "initialRect", "width", "height", "useState", "current", "element", "setElement", "useReducer", "rectReducer", "dispatch", "initialRectSet", "useRef", "useIsomorphicLayoutEffect", "getBoundingClientRect", "observer", "action", "defaultEstimateSize", "defaultKeyExtractor", "defaultMeasureSize", "el", "horizontal", "key", "defaultRangeExtractor", "range", "start", "Math", "max", "overscan", "end", "min", "size", "arr", "i", "push", "useVirtual", "estimateSize", "paddingStart", "paddingEnd", "parentRef", "scrollToFn", "useObserver", "onScrollElement", "scrollOffsetFn", "keyExtractor", "measureSize", "rangeExtractor", "sizeKey", "scrollKey", "latestRef", "scrollOffset", "measurements", "setScrollOffset", "useMeasureParent", "outerSize", "defaultScrollToFn", "useCallback", "offset", "resolvedScrollToFn", "measuredCache", "setMeasuredCache", "measure", "pendingMeasuredCacheIndexesRef", "useMemo", "length", "slice", "measuredSize", "totalSize", "scrollOffsetFnRef", "onScroll", "event", "addEventListener", "capture", "passive", "removeEventListener", "calculateRange", "indexes", "measureSizeRef", "virtualItems", "_loop", "k", "len", "measurement", "item", "measureRef", "old", "mountedRef", "scrollToOffset", "toOffset", "align", "tryScrollToIndex", "rest", "scrollToIndex", "args", "requestAnimationFrame", "findNearestBinarySearch", "low", "high", "getCurrentValue", "value", "middle", "currentValue", "getOffset", "useVirtual", "props", "React", "useVirtual", "styles_css_default", "import_react", "React", "internal_default", "styles_css_default", "import_react", "import_react", "styles_css_default", "styles_css_default", "React", "React", "styles_css_default", "import_react", "styles_css_default", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "import_react", "styles_css_default", "React", "styles_css_default", "import_react", "import_react", "React", "styles_css_default", "React", "styles_css_default", "props", "React", "styles_css_default", "styles_css_default", "React", "options", "selectedOptions", "option", "_a", "styles_css_default", "internal_default"]
}
