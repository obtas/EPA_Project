// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
import { containsOrEqual, findUpUntil } from './dom';
/**
 * Checks whether the given node (target) belongs to the container.
 * The function is similar to containsOrEqual but also accounts for dropdowns with expandToViewport=true.
 *
 * @param container Container node
 * @param target Node that is checked to be a descendant of the container
 */
export function nodeBelongs(container, target) {
    var _a;
    const portal = findUpUntil(target, node => node instanceof HTMLElement && !!node.dataset.awsuiReferrerId);
    const referrer = portal instanceof HTMLElement ? document.getElementById((_a = portal.dataset.awsuiReferrerId) !== null && _a !== void 0 ? _a : '') : null;
    return referrer ? containsOrEqual(container, referrer) : containsOrEqual(container, target);
}
//# sourceMappingURL=node-belongs.js.map