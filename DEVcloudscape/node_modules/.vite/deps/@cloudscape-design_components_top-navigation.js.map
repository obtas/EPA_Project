{
  "version": 3,
  "sources": ["../../src/top-navigation/index.tsx", "../../src/top-navigation/internal.tsx", "../../src/top-navigation/use-top-navigation.ts", "../../@cloudscape-design/components/top-navigation/styles.css.js", "../../src/top-navigation/parts/utility.tsx", "../../src/link/internal.tsx", "../../@cloudscape-design/components/link/styles.css.js", "../../src/internal/components/menu-dropdown/index.tsx", "../../@cloudscape-design/components/internal/components/menu-dropdown/styles.css.js", "../../src/top-navigation/parts/overflow-menu/index.tsx", "../../src/top-navigation/parts/overflow-menu/router.tsx", "../../src/top-navigation/parts/overflow-menu/views/utilities.tsx", "../../react-focus-lock/dist/es2015/Combination.js", "../../react-focus-lock/dist/es2015/Lock.js", "../../focus-lock/dist/es2015/constants.js", "../../use-callback-ref/dist/es2015/assignRef.js", "../../use-callback-ref/dist/es2015/useRef.js", "../../use-callback-ref/dist/es2015/useMergeRef.js", "../../react-focus-lock/dist/es2015/FocusGuard.js", "../../use-sidecar/dist/es2015/hoc.js", "../../use-sidecar/dist/es2015/hook.js", "../../use-sidecar/dist/es2015/medium.js", "../../use-sidecar/dist/es2015/renderProp.js", "../../use-sidecar/dist/es2015/exports.js", "../../react-focus-lock/dist/es2015/medium.js", "../../react-focus-lock/dist/es2015/Trap.js", "../../@babel/runtime/helpers/esm/defineProperty.js", "../../react-clientside-effect/lib/index.es.js", "../../focus-lock/dist/es2015/utils/array.js", "../../focus-lock/dist/es2015/utils/all-affected.js", "../../focus-lock/dist/es2015/utils/getActiveElement.js", "../../focus-lock/dist/es2015/focusInside.js", "../../focus-lock/dist/es2015/focusIsHidden.js", "../../focus-lock/dist/es2015/utils/is.js", "../../focus-lock/dist/es2015/utils/correctFocus.js", "../../focus-lock/dist/es2015/utils/firstFocus.js", "../../focus-lock/dist/es2015/solver.js", "../../focus-lock/dist/es2015/utils/tabOrder.js", "../../focus-lock/dist/es2015/utils/tabbables.js", "../../focus-lock/dist/es2015/utils/tabUtils.js", "../../focus-lock/dist/es2015/utils/DOMutils.js", "../../focus-lock/dist/es2015/utils/parenting.js", "../../focus-lock/dist/es2015/focusMerge.js", "../../focus-lock/dist/es2015/focusables.js", "../../focus-lock/dist/es2015/setFocus.js", "../../focus-lock/dist/es2015/index.js", "../../react-focus-lock/dist/es2015/util.js", "../../react-focus-lock/dist/es2015/AutoFocusInside.js", "../../react-focus-lock/dist/es2015/MoveFocusInside.js", "../../react-focus-lock/dist/es2015/FreeFocusInside.js", "../../react-focus-lock/dist/es2015/index.js", "../../src/top-navigation/parts/overflow-menu/header.tsx", "../../src/top-navigation/parts/overflow-menu/menu-item.tsx", "../../src/top-navigation/parts/overflow-menu/views/submenu.tsx"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { TopNavigationProps } from './interfaces';\nimport InternalTopNavigation from './internal';\n\nexport { TopNavigationProps };\n\nexport default function TopNavigation({ utilities = [], ...restProps }: TopNavigationProps) {\n  const baseComponentProps = useBaseComponent('TopNavigation');\n  return <InternalTopNavigation {...baseComponentProps} utilities={utilities} {...restProps} />;\n}\n\napplyDisplayName(TopNavigation, 'TopNavigation');\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireCancelableEvent, isPlainLeftClick } from '../internal/events';\nimport VisualContext from '../internal/components/visual-context';\nimport Portal from '../internal/components/portal';\nimport useFocusVisible from '../internal/hooks/focus-visible';\nimport { useEffectOnUpdate } from '../internal/hooks/use-effect-on-update';\n\nimport { TopNavigationProps } from './interfaces';\nimport { useTopNavigation } from './use-top-navigation.js';\nimport Utility from './parts/utility';\nimport OverflowMenu from './parts/overflow-menu';\nimport { ButtonTrigger } from '../internal/components/menu-dropdown';\n\nimport styles from './styles.css.js';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { SomeRequired } from '../internal/types';\n\nexport type InternalTopNavigationProps = SomeRequired<TopNavigationProps, 'utilities'> & InternalBaseComponentProps;\n\nexport default function InternalTopNavigation({\n  __internalRootRef,\n  identity,\n  i18nStrings,\n  utilities,\n  search,\n  ...restProps\n}: InternalTopNavigationProps) {\n  checkSafeUrl('TopNavigation', identity.href);\n  const baseProps = getBaseProps(restProps);\n  const { mainRef, virtualRef, breakpoint, responsiveState, isSearchExpanded, onSearchUtilityClick } = useTopNavigation(\n    { identity, search, utilities }\n  );\n  const [overflowMenuOpen, setOverflowMenuOpen] = useState(false);\n  const overflowMenuTriggerRef = useRef<HTMLButtonElement>(null);\n  const isNarrowViewport = breakpoint === 'default';\n  const isMediumViewport = breakpoint === 'xxs';\n  const isLargeViewport = breakpoint === 's';\n\n  const onIdentityClick = (event: React.MouseEvent) => {\n    if (isPlainLeftClick(event)) {\n      fireCancelableEvent(identity.onFollow, {}, event);\n    }\n  };\n\n  const toggleOverflowMenu = () => {\n    setOverflowMenuOpen(overflowMenuOpen => !overflowMenuOpen);\n  };\n\n  const focusVisible = useFocusVisible();\n  const menuTriggerVisible = !isSearchExpanded && responsiveState.hideUtilities;\n\n  useEffect(() => {\n    setOverflowMenuOpen(false);\n  }, [menuTriggerVisible]);\n\n  useEffectOnUpdate(() => {\n    if (!overflowMenuOpen) {\n      overflowMenuTriggerRef.current?.focus();\n    }\n  }, [overflowMenuOpen]);\n\n  // Render the top nav twice; once as the top nav that users can see, and another\n  // \"virtual\" top nav used just for calculations. The virtual top nav doesn't react to\n  // layout changes and renders two sets of utilities: one with labels and one without.\n  const content = (isVirtual: boolean) => {\n    const Wrapper = isVirtual ? 'div' : 'header';\n    const showIdentity = isVirtual || !isSearchExpanded;\n    const showTitle = isVirtual || !responsiveState.hideTitle;\n    const showSearchSlot = search && (isVirtual || !responsiveState.hideSearch || isSearchExpanded);\n    const showSearchUtility = isVirtual || (search && responsiveState.hideSearch);\n    const showUtilities = isVirtual || !isSearchExpanded;\n    const showMenuTrigger = isVirtual || menuTriggerVisible;\n\n    return (\n      <Wrapper\n        ref={isVirtual ? virtualRef : mainRef}\n        aria-hidden={isVirtual ? true : undefined}\n        // Wrapper is an alias for \"div\" or \"header\".\n        // eslint-disable-next-line react/forbid-component-props\n        className={clsx(styles['top-navigation'], {\n          [styles.virtual]: isVirtual,\n          [styles.hidden]: isVirtual,\n          [styles.narrow]: isNarrowViewport,\n          [styles.medium]: isMediumViewport,\n        })}\n      >\n        <div className={styles['padding-box']}>\n          {showIdentity && (\n            <div className={clsx(styles.identity, !identity.logo && styles['no-logo'])}>\n              <a {...focusVisible} className={styles['identity-link']} href={identity.href} onClick={onIdentityClick}>\n                {identity.logo && (\n                  <img\n                    role=\"img\"\n                    src={identity.logo?.src}\n                    alt={identity.logo?.alt}\n                    className={clsx(styles.logo, {\n                      [styles.narrow]: isNarrowViewport,\n                    })}\n                  />\n                )}\n                {showTitle && <span className={styles.title}>{identity.title}</span>}\n              </a>\n            </div>\n          )}\n\n          <div className={styles.inputs}>\n            {showSearchSlot && (\n              <div className={clsx(styles.search, !isVirtual && isSearchExpanded && styles['search-expanded'])}>\n                {search}\n              </div>\n            )}\n          </div>\n\n          <div className={styles.utilities}>\n            {showSearchUtility && (\n              <div\n                className={clsx(\n                  styles['utility-wrapper'],\n                  styles['utility-type-button'],\n                  styles['utility-type-button-link'],\n                  {\n                    [styles.narrow]: isNarrowViewport,\n                    [styles.medium]: isMediumViewport,\n                  }\n                )}\n                data-utility-special=\"search\"\n              >\n                <Utility\n                  hideText={true}\n                  definition={{\n                    type: 'button',\n                    iconName: isSearchExpanded ? 'close' : 'search',\n                    ariaLabel: isSearchExpanded\n                      ? i18nStrings.searchDismissIconAriaLabel\n                      : i18nStrings.searchIconAriaLabel,\n                    onClick: onSearchUtilityClick,\n                  }}\n                />\n              </div>\n            )}\n\n            {showUtilities &&\n              utilities\n                .filter(\n                  (_utility, i) =>\n                    isVirtual || !responsiveState.hideUtilities || responsiveState.hideUtilities.indexOf(i) === -1\n                )\n                .map((utility, i) => {\n                  const hideText = !!responsiveState.hideUtilityText;\n                  const isLast = (isVirtual || !showMenuTrigger) && i === utilities.length - 1;\n                  const offsetRight = isLast && isLargeViewport ? 'xxl' : isLast ? 'l' : undefined;\n\n                  return (\n                    <div\n                      key={i}\n                      className={clsx(\n                        styles['utility-wrapper'],\n                        styles[`utility-type-${utility.type}`],\n                        utility.type === 'button' && styles[`utility-type-button-${utility.variant ?? 'link'}`],\n                        {\n                          [styles.narrow]: isNarrowViewport,\n                          [styles.medium]: isMediumViewport,\n                        }\n                      )}\n                      data-utility-index={i}\n                      data-utility-hide={`${hideText}`}\n                    >\n                      <Utility hideText={hideText} definition={utility} offsetRight={offsetRight} />\n                    </div>\n                  );\n                })}\n\n            {isVirtual &&\n              utilities.map((utility, i) => {\n                const hideText = !responsiveState.hideUtilityText;\n                const isLast = !showMenuTrigger && i === utilities.length - 1;\n                const offsetRight = isLast && isLargeViewport ? 'xxl' : isLast ? 'l' : undefined;\n\n                return (\n                  <div\n                    key={i}\n                    className={clsx(\n                      styles['utility-wrapper'],\n                      styles[`utility-type-${utility.type}`],\n                      utility.type === 'button' && styles[`utility-type-button-${utility.variant ?? 'link'}`],\n                      {\n                        [styles.narrow]: isNarrowViewport,\n                        [styles.medium]: isMediumViewport,\n                      }\n                    )}\n                    data-utility-index={i}\n                    data-utility-hide={`${hideText}`}\n                  >\n                    <Utility hideText={hideText} definition={utility} offsetRight={offsetRight} />\n                  </div>\n                );\n              })}\n\n            {showMenuTrigger && (\n              <div\n                className={clsx(styles['utility-wrapper'], styles['utility-type-menu-dropdown'], {\n                  [styles.narrow]: isNarrowViewport,\n                  [styles.medium]: isMediumViewport,\n                })}\n                data-utility-special=\"menu-trigger\"\n              >\n                <ButtonTrigger\n                  expanded={overflowMenuOpen}\n                  onClick={toggleOverflowMenu}\n                  offsetRight=\"l\"\n                  ref={!isVirtual ? overflowMenuTriggerRef : undefined}\n                >\n                  {i18nStrings.overflowMenuTriggerText}\n                </ButtonTrigger>\n              </div>\n            )}\n          </div>\n        </div>\n      </Wrapper>\n    );\n  };\n\n  return (\n    <div {...baseProps} ref={__internalRootRef}>\n      <VisualContext contextName=\"top-navigation\">\n        {content(false)}\n        <Portal>{content(true)}</Portal>\n        {menuTriggerVisible && overflowMenuOpen && (\n          <div className={styles['overflow-menu-drawer']}>\n            <OverflowMenu\n              headerText={i18nStrings.overflowMenuTitleText}\n              dismissIconAriaLabel={i18nStrings.overflowMenuDismissIconAriaLabel}\n              backIconAriaLabel={i18nStrings.overflowMenuBackIconAriaLabel}\n              items={utilities.filter(\n                (utility, i) =>\n                  (!responsiveState.hideUtilities || responsiveState.hideUtilities.indexOf(i) !== -1) &&\n                  !utility.disableUtilityCollapse\n              )}\n              onClose={toggleOverflowMenu}\n            />\n          </div>\n        )}\n      </VisualContext>\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\n\nimport { useContainerBreakpoints, useContainerQuery } from '../internal/hooks/container-queries';\nimport { TopNavigationProps } from './interfaces';\nimport styles from './styles.css.js';\n\nexport interface UseTopNavigationParams {\n  identity: TopNavigationProps['identity'];\n  search: TopNavigationProps['search'];\n  utilities: NonNullable<TopNavigationProps['utilities']>;\n}\n\nexport interface ResponsiveState {\n  hideUtilityText?: boolean;\n  hideSearch?: boolean;\n  hideUtilities?: number[];\n  hideTitle?: boolean;\n}\n\nexport interface TopNavigationSizeConfiguration {\n  hasSearch: boolean;\n  availableWidth: number;\n  utilitiesLeftPadding: number;\n  fullIdentityWidth: number;\n  titleWidth: number;\n  searchSlotWidth: number;\n  searchUtilityWidth: number;\n  utilityWithLabelWidths: number[];\n  utilityWithoutLabelWidths: number[];\n  menuTriggerUtilityWidth: number;\n}\n\nexport interface UseTopNavigation {\n  mainRef: React.Ref<HTMLDivElement>;\n  virtualRef: React.Ref<HTMLDivElement>;\n\n  responsiveState: ResponsiveState;\n  breakpoint: 'default' | 'xxs' | 's';\n  isSearchExpanded: boolean;\n  onSearchUtilityClick: () => void;\n}\n\n// A small buffer to make calculations more lenient against browser lag or padding adjustments.\nconst RESPONSIVENESS_BUFFER = 20;\n\nexport function useTopNavigation({ identity, search, utilities }: UseTopNavigationParams): UseTopNavigation {\n  // Refs and breakpoints\n  const mainRef = useRef<HTMLElement | null>(null);\n  const virtualRef = useRef<HTMLDivElement | null>(null);\n  const [breakpoint, breakpointRef] = useContainerBreakpoints(['xxs', 's']);\n\n  // Responsiveness state\n  // The component works by calculating the possible resize states that it can\n  // be in, and having a state variable to track which state we're currently in.\n  const hasSearch = !!search;\n  const hasTitleWithLogo = identity && !!identity.logo && !!identity.title;\n  const responsiveStates = useMemo<ReadonlyArray<ResponsiveState>>(() => {\n    return generateResponsiveStateKeys(utilities, hasSearch, hasTitleWithLogo);\n  }, [utilities, hasSearch, hasTitleWithLogo]);\n\n  // To hide/show elements dynamically, we need to know how much space they take up,\n  // even if they're not being rendered. The top navigation elements are hidden/resized\n  // based on the available size or if a search bar is open, and they need to be available\n  // for calculations so we know where to toggle them. So we render a second, more stable\n  // top-nav off screen to do these calculations against.\n  //\n  // We can't \"affix\" these values to pixels because they can depend on spacing tokens.\n  // It's easier to render all of these utilities separately rather than figuring out\n  // spacing token values, icon sizes, text widths, etc.\n  const [responsiveState, setResponsiveState] = useState<ResponsiveState | undefined>();\n  const recalculateFit = useCallback(() => {\n    if (!mainRef?.current || !virtualRef.current) {\n      setResponsiveState(responsiveStates[0]);\n      return;\n    }\n\n    // Get available width from the visible top navigation.\n    const availableWidth = getContentBoxWidth(mainRef.current.querySelector(`.${styles['padding-box']}`)!);\n    if (availableWidth === 0) {\n      // Likely in an SSR or Jest situation.\n      setResponsiveState(responsiveStates[0]);\n      return;\n    }\n\n    const sizeConfiguration = {\n      hasSearch,\n      availableWidth,\n\n      // Get widths from the hidden top navigation\n      fullIdentityWidth: virtualRef.current.querySelector(`.${styles.identity}`)!.getBoundingClientRect().width,\n      titleWidth: virtualRef.current.querySelector(`.${styles.title}`)?.getBoundingClientRect().width ?? 0,\n      searchSlotWidth: virtualRef.current.querySelector(`.${styles.search}`)?.getBoundingClientRect().width ?? 0,\n      searchUtilityWidth: virtualRef.current.querySelector('[data-utility-special=\"search\"]')!.getBoundingClientRect()\n        .width,\n      utilitiesLeftPadding: parseFloat(\n        getComputedStyle(virtualRef.current.querySelector(`.${styles.utilities}`)!).paddingLeft || '0px'\n      ),\n      utilityWithLabelWidths: Array.prototype.slice\n        .call(virtualRef.current.querySelectorAll(`[data-utility-hide=\"false\"]`))\n        .map((element: Element) => element.getBoundingClientRect().width),\n      utilityWithoutLabelWidths: Array.prototype.slice\n        .call(virtualRef.current.querySelectorAll(`[data-utility-hide=\"true\"]`))\n        .map((element: Element) => element.getBoundingClientRect().width),\n      menuTriggerUtilityWidth: virtualRef.current\n        .querySelector('[data-utility-special=\"menu-trigger\"]')!\n        .getBoundingClientRect().width,\n    };\n    setResponsiveState(determineBestResponsiveState(responsiveStates, sizeConfiguration));\n  }, [responsiveStates, hasSearch]);\n\n  const [, containerQueryRef] = useContainerQuery(() => {\n    recalculateFit();\n  }, [recalculateFit]);\n\n  // Due to being rendered in a portal, the virtual navigation isn't rendered\n  // at the same time as the main one.\n  const onVirtualMount = useCallback(\n    (element: HTMLDivElement | null) => {\n      virtualRef.current = element;\n      recalculateFit();\n    },\n    [recalculateFit]\n  );\n\n  // Search slot expansion on small screens\n  const [isSearchMinimized, setSearchMinimized] = useState(true);\n  const isSearchExpanded = !isSearchMinimized && hasSearch && responsiveState?.hideSearch;\n\n  // If the search was expanded, and then the screen resized so that the\n  // expansion is no longer necessary. So we implicitly minimize it.\n  useEffect(() => {\n    if (!responsiveState?.hideSearch) {\n      setSearchMinimized(true);\n    }\n  }, [responsiveState]);\n\n  // If the search is expanded after clicking on the search utility, move\n  // the focus to the input. Since this is a user-controlled slot, we're just\n  // assuming that it contains an input, though it's a pretty safe guess.\n  useEffect(() => {\n    if (isSearchExpanded) {\n      mainRef?.current?.querySelector<HTMLInputElement>(`.${styles.search} input`)?.focus();\n    }\n  }, [isSearchExpanded, mainRef]);\n\n  const mergedMainRef = useMergeRefs(mainRef, containerQueryRef, breakpointRef);\n\n  return {\n    mainRef: mergedMainRef,\n    virtualRef: onVirtualMount,\n    responsiveState: responsiveState ?? responsiveStates[0],\n    breakpoint: breakpoint ?? 'default',\n    isSearchExpanded: !!isSearchExpanded,\n    onSearchUtilityClick: () => setSearchMinimized(isSearchMinimized => !isSearchMinimized),\n  };\n}\n\n/**\n * Get the width of the content box (assuming the element's box-sizing is border-box).\n */\nfunction getContentBoxWidth(element: Element): number {\n  const style = getComputedStyle(element);\n  return (\n    parseFloat(style.width || '0px') - parseFloat(style.paddingLeft || '0px') - parseFloat(style.paddingRight || '0px')\n  );\n}\n\n/**\n * Generates the series of responsive steps that can be performed on the header in order.\n */\nexport function generateResponsiveStateKeys(\n  utilities: ReadonlyArray<TopNavigationProps.Utility>,\n  canHideSearch: boolean,\n  canHideTitle: boolean\n): ReadonlyArray<ResponsiveState> {\n  const states: ResponsiveState[] = [{}];\n  if (utilities.some(utility => utility.text)) {\n    states.push({ hideUtilityText: true });\n  }\n  if (canHideSearch) {\n    states.push({\n      hideUtilityText: true,\n      hideSearch: true,\n    });\n  }\n  const hiddenUtilties = [];\n  for (let i = 0; i < utilities.length; i++) {\n    if (!utilities[i].disableUtilityCollapse) {\n      hiddenUtilties.push(i);\n      states.push({\n        hideUtilityText: true,\n        hideSearch: canHideSearch || undefined,\n        hideUtilities: hiddenUtilties.length > 0 ? hiddenUtilties.slice() : undefined,\n      });\n    }\n  }\n  if (canHideTitle) {\n    states.push({\n      hideUtilityText: true,\n      hideSearch: canHideSearch || undefined,\n      hideUtilities: hiddenUtilties.length > 0 ? hiddenUtilties.slice() : undefined,\n      hideTitle: true,\n    });\n  }\n  return states;\n}\n\n/**\n * Determines the best responsive state configuration of the top navigation, based on the given list of possible responsive states\n * and the current sizes of all elements inside the navigation bar.\n */\nexport function determineBestResponsiveState(\n  possibleStates: ReadonlyArray<ResponsiveState>,\n  sizes: TopNavigationSizeConfiguration\n): ResponsiveState {\n  const {\n    hasSearch,\n    availableWidth,\n    utilitiesLeftPadding,\n    fullIdentityWidth,\n    titleWidth,\n    searchSlotWidth,\n    searchUtilityWidth,\n    utilityWithLabelWidths,\n    utilityWithoutLabelWidths,\n    menuTriggerUtilityWidth,\n  } = sizes;\n  // Iterate through each state and calculate its expected required width.\n  for (const state of possibleStates) {\n    const searchWidth = hasSearch ? (state.hideSearch ? searchUtilityWidth : searchSlotWidth) : 0;\n    const utilitiesWidth: number = (state.hideUtilityText ? utilityWithoutLabelWidths : utilityWithLabelWidths)\n      .filter((_width, i) => !state.hideUtilities || state.hideUtilities.indexOf(i) === -1)\n      .reduce((sum, width) => sum + width, 0);\n    const menuTriggerWidth = state.hideUtilities ? menuTriggerUtilityWidth : 0;\n    const identityWidth = state.hideTitle ? fullIdentityWidth - titleWidth : fullIdentityWidth;\n    const expectedInnerWidth = identityWidth + searchWidth + utilitiesLeftPadding + utilitiesWidth + menuTriggerWidth;\n    if (expectedInnerWidth <= availableWidth - RESPONSIVENESS_BUFFER) {\n      return state;\n    }\n  }\n\n  // If nothing matches, pick the smallest possible state.\n  return possibleStates[possibleStates.length - 1];\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"icon\": \"awsui_icon_k5dlb_14a5k_93\",\n  \"top-navigation\": \"awsui_top-navigation_k5dlb_14a5k_111\",\n  \"padding-box\": \"awsui_padding-box_k5dlb_14a5k_122\",\n  \"medium\": \"awsui_medium_k5dlb_14a5k_132\",\n  \"narrow\": \"awsui_narrow_k5dlb_14a5k_132\",\n  \"virtual\": \"awsui_virtual_k5dlb_14a5k_143\",\n  \"hidden\": \"awsui_hidden_k5dlb_14a5k_147\",\n  \"\\t\": \"awsui_\\t_k5dlb_14a5k_1\",\n  \"identity\": \"awsui_identity_k5dlb_14a5k_159\",\n  \"identity-link\": \"awsui_identity-link_k5dlb_14a5k_162\",\n  \"no-logo\": \"awsui_no-logo_k5dlb_14a5k_179\",\n  \"logo\": \"awsui_logo_k5dlb_14a5k_183\",\n  \"title\": \"awsui_title_k5dlb_14a5k_195\",\n  \"inputs\": \"awsui_inputs_k5dlb_14a5k_208\",\n  \"search\": \"awsui_search_k5dlb_14a5k_215\",\n  \"search-expanded\": \"awsui_search-expanded_k5dlb_14a5k_219\",\n  \"utilities\": \"awsui_utilities_k5dlb_14a5k_223\",\n  \"utility-wrapper\": \"awsui_utility-wrapper_k5dlb_14a5k_234\",\n  \"utility-type-button-link\": \"awsui_utility-type-button-link_k5dlb_14a5k_255\",\n  \"utility-type-menu-dropdown\": \"awsui_utility-type-menu-dropdown_k5dlb_14a5k_259\",\n  \"utility-type-button-primary-button\": \"awsui_utility-type-button-primary-button_k5dlb_14a5k_267\",\n  \"utility-link-icon\": \"awsui_utility-link-icon_k5dlb_14a5k_275\",\n  \"utility-button-external-icon\": \"awsui_utility-button-external-icon_k5dlb_14a5k_279\",\n  \"offset-right-none\": \"awsui_offset-right-none_k5dlb_14a5k_283\",\n  \"offset-right-l\": \"awsui_offset-right-l_k5dlb_14a5k_287\",\n  \"offset-right-xxl\": \"awsui_offset-right-xxl_k5dlb_14a5k_291\",\n  \"overflow-menu-drawer\": \"awsui_overflow-menu-drawer_k5dlb_14a5k_296\",\n  \"overflow-menu\": \"awsui_overflow-menu_k5dlb_14a5k_296\",\n  \"overflow-menu-header\": \"awsui_overflow-menu-header_k5dlb_14a5k_316\",\n  \"overflow-menu-header-text\": \"awsui_overflow-menu-header-text_k5dlb_14a5k_323\",\n  \"overflow-menu-header-text--secondary\": \"awsui_overflow-menu-header-text--secondary_k5dlb_14a5k_332\",\n  \"overflow-menu-header-text--title\": \"awsui_overflow-menu-header-text--title_k5dlb_14a5k_338\",\n  \"overflow-menu-back-button\": \"awsui_overflow-menu-back-button_k5dlb_14a5k_342\",\n  \"overflow-menu-dismiss-button\": \"awsui_overflow-menu-dismiss-button_k5dlb_14a5k_346\",\n  \"overflow-menu-control\": \"awsui_overflow-menu-control_k5dlb_14a5k_350\",\n  \"overflow-menu-list-item-utility\": \"awsui_overflow-menu-list-item-utility_k5dlb_14a5k_365\",\n  \"overflow-menu-control-link\": \"awsui_overflow-menu-control-link_k5dlb_14a5k_372\",\n  \"overflow-menu-control-expandable-menu-trigger\": \"awsui_overflow-menu-control-expandable-menu-trigger_k5dlb_14a5k_375\",\n  \"overflow-menu-list\": \"awsui_overflow-menu-list_k5dlb_14a5k_365\",\n  \"overflow-menu-list-submenu\": \"awsui_overflow-menu-list-submenu_k5dlb_14a5k_406\",\n  \"overflow-menu-list-item\": \"awsui_overflow-menu-list-item_k5dlb_14a5k_365\",\n  \"overflow-menu-list-item-icon\": \"awsui_overflow-menu-list-item-icon_k5dlb_14a5k_414\",\n  \"overflow-menu-list-item-text\": \"awsui_overflow-menu-list-item-text_k5dlb_14a5k_417\",\n  \"overflow-menu-list-item-submenu\": \"awsui_overflow-menu-list-item-submenu_k5dlb_14a5k_424\",\n  \"overflow-menu-list-item-dropdown-menu\": \"awsui_overflow-menu-list-item-dropdown-menu_k5dlb_14a5k_429\",\n  \"overflow-menu-list-item-expandable\": \"awsui_overflow-menu-list-item-expandable_k5dlb_14a5k_432\",\n  \"expanded\": \"awsui_expanded_k5dlb_14a5k_440\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { InternalButton } from '../../button/internal';\nimport InternalLink from '../../link/internal';\nimport InternalIcon from '../../icon/internal';\nimport MenuDropdown, { MenuDropdownProps } from '../../internal/components/menu-dropdown';\n\nimport { TopNavigationProps } from '../interfaces';\n\nimport styles from '../styles.css.js';\nimport { checkSafeUrl } from '../../internal/utils/check-safe-url';\n\nexport interface UtilityProps {\n  hideText: boolean;\n  definition: TopNavigationProps.Utility;\n  offsetRight?: MenuDropdownProps['offsetRight'];\n}\n\nexport default function Utility({ hideText, definition, offsetRight }: UtilityProps) {\n  const hasIcon = !!definition.iconName || !!definition.iconUrl || !!definition.iconAlt || !!definition.iconSvg;\n  const shouldHideText = hideText && !definition.disableTextCollapse && hasIcon;\n  const ariaLabel = definition.ariaLabel ?? definition.text;\n\n  if (definition.type === 'button') {\n    checkSafeUrl('TopNavigation', definition.href);\n    if (definition.variant === 'primary-button') {\n      return (\n        <span className={styles[`offset-right-${offsetRight}`]}>\n          <InternalButton\n            variant=\"primary\"\n            href={definition.href}\n            target={definition.external ? '_blank' : undefined}\n            onClick={definition.onClick}\n            ariaLabel={ariaLabel}\n            iconName={definition.iconName}\n            iconUrl={definition.iconUrl}\n            iconAlt={definition.iconAlt}\n            iconSvg={definition.iconSvg}\n          >\n            {shouldHideText ? null : (\n              <>\n                {definition.text}\n                {definition.external && (\n                  <>\n                    {' '}\n                    <span\n                      className={clsx(styles['utility-button-external-icon'], styles[`offset-right-${offsetRight}`])}\n                      aria-label={definition.externalIconAriaLabel}\n                      role={definition.externalIconAriaLabel ? 'img' : undefined}\n                    >\n                      <InternalIcon name=\"external\" />\n                    </span>\n                  </>\n                )}\n              </>\n            )}\n          </InternalButton>\n        </span>\n      );\n    } else {\n      // Link\n      return (\n        <span className={styles[`offset-right-${offsetRight}`]}>\n          <InternalLink\n            variant=\"top-navigation\"\n            href={definition.href}\n            target={definition.external ? '_blank' : undefined}\n            onFollow={definition.onClick}\n            ariaLabel={ariaLabel}\n          >\n            {hasIcon && (\n              <InternalIcon\n                name={definition.iconName}\n                url={definition.iconUrl}\n                alt={definition.iconAlt}\n                svg={definition.iconSvg}\n                badge={definition.badge}\n              />\n            )}\n            {!shouldHideText && definition.text && (\n              <span className={hasIcon ? styles['utility-link-icon'] : undefined}>{definition.text}</span>\n            )}\n            {/* HACK: The link component uses size=\"inherit\", and Firefox scales up SVGs massively on the first render */}\n            {definition.external && (\n              <>\n                {' '}\n                <span\n                  role={definition.externalIconAriaLabel ? 'img' : undefined}\n                  aria-label={definition.externalIconAriaLabel}\n                >\n                  <InternalIcon name=\"external\" size=\"normal\" />\n                </span>\n              </>\n            )}\n          </InternalLink>\n        </span>\n      );\n    }\n  } else if (definition.type === 'menu-dropdown') {\n    const title = definition.title || definition.text;\n    const shouldShowTitle = shouldHideText || !definition.text;\n\n    checkSafeUrlRecursively(definition.items);\n\n    return (\n      <MenuDropdown\n        {...definition}\n        title={shouldShowTitle ? title : ''}\n        ariaLabel={ariaLabel}\n        offsetRight={offsetRight}\n      >\n        {!shouldHideText && definition.text}\n      </MenuDropdown>\n    );\n  }\n\n  return null;\n}\n\nfunction checkSafeUrlRecursively(itemOrGroup: MenuDropdownProps['items']) {\n  for (const item of itemOrGroup) {\n    checkSafeUrl('TopNavigation', item.href);\n\n    if ('items' in item) {\n      checkSafeUrlRecursively(item.items);\n    }\n  }\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\nimport InternalIcon from '../icon/internal';\nimport styles from './styles.css.js';\nimport useFocusVisible from '../internal/hooks/focus-visible';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireCancelableEvent, isPlainLeftClick } from '../internal/events';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport { KeyCode } from '../internal/keycode';\nimport { LinkProps } from './interfaces';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\n\ntype InternalLinkProps = InternalBaseComponentProps &\n  Omit<LinkProps, 'variant'> & {\n    variant?: LinkProps['variant'] | 'top-navigation' | 'link' | 'recovery';\n  };\n\nconst InternalLink = React.forwardRef(\n  (\n    {\n      variant = 'secondary',\n      fontSize = 'body-m',\n      color = 'normal',\n      external = false,\n      target,\n      href,\n      rel,\n      ariaLabel,\n      externalIconAriaLabel,\n      onFollow,\n      children,\n      __internalRootRef = null,\n      ...props\n    }: InternalLinkProps,\n    ref: React.Ref<LinkProps.Ref>\n  ) => {\n    checkSafeUrl('Link', href);\n    const isButton = !href;\n    const specialStyles = ['top-navigation', 'link', 'recovery'];\n    const hasSpecialStyle = specialStyles.indexOf(variant) > -1;\n\n    const focusVisible = useFocusVisible();\n    const baseProps = getBaseProps(props);\n    const anchorTarget = target ?? (external ? '_blank' : undefined);\n    const anchorRel = rel ?? (anchorTarget === '_blank' ? 'noopener noreferrer' : undefined);\n\n    const fireFollowEvent = (event: React.SyntheticEvent) => {\n      fireCancelableEvent(onFollow, { href, external, target: anchorTarget }, event);\n    };\n\n    const handleLinkClick = (event: React.MouseEvent) => {\n      if (isPlainLeftClick(event)) {\n        fireFollowEvent(event);\n      }\n    };\n\n    const handleButtonClick = (event: React.MouseEvent) => {\n      fireFollowEvent(event);\n    };\n\n    const handleButtonKeyDown = (event: React.KeyboardEvent) => {\n      if (event.keyCode === KeyCode.space || event.keyCode === KeyCode.enter) {\n        event.preventDefault();\n        fireFollowEvent(event);\n      }\n    };\n\n    const linkRef = useRef<HTMLElement>(null);\n    const isVisualRefresh = useVisualRefresh();\n    useForwardFocus(ref, linkRef);\n\n    // Visual refresh should only add styles to buttons that don't already have unique styles (e.g. primary/secondary variants)\n    const applyButtonStyles = isButton && isVisualRefresh && !hasSpecialStyle;\n\n    const sharedProps = {\n      ...focusVisible,\n      ...baseProps,\n      // https://github.com/microsoft/TypeScript/issues/36659\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      ref: useMergeRefs(linkRef as any, __internalRootRef),\n      className: clsx(\n        styles.link,\n        baseProps.className,\n        applyButtonStyles ? styles.button : null,\n        styles[getVariantStyle(variant)],\n        styles[getFontSizeStyle(variant, fontSize)],\n        styles[getColorStyle(variant, color)]\n      ),\n      'aria-label': ariaLabel,\n    };\n\n    const content = (\n      <>\n        {children}\n        {external && (\n          <span className={styles['icon-wrapper']}>\n            &nbsp;\n            <span\n              className={styles.icon}\n              aria-label={externalIconAriaLabel}\n              role={externalIconAriaLabel ? 'img' : undefined}\n            >\n              <InternalIcon name=\"external\" size=\"inherit\" />\n            </span>\n          </span>\n        )}\n      </>\n    );\n\n    if (isButton) {\n      return (\n        <a {...sharedProps} role=\"button\" tabIndex={0} onKeyDown={handleButtonKeyDown} onClick={handleButtonClick}>\n          {content}\n        </a>\n      );\n    }\n\n    return (\n      // we dynamically set proper rel in the code above\n      // eslint-disable-next-line react/jsx-no-target-blank\n      <a {...sharedProps} target={anchorTarget} rel={anchorRel} href={href} onClick={handleLinkClick}>\n        {content}\n      </a>\n    );\n  }\n);\n\nfunction getVariantStyle(variant: Exclude<InternalLinkProps['variant'], undefined>) {\n  return `variant-${variant.replace(/^awsui-/, '')}`;\n}\n\nfunction getFontSizeStyle(variant: InternalLinkProps['variant'], fontSize: InternalLinkProps['fontSize']) {\n  switch (variant) {\n    case 'info':\n      return 'font-size-body-s';\n    case 'awsui-value-large':\n      return 'font-size-display-l';\n    default:\n      return `font-size-${fontSize}`;\n  }\n}\n\nfunction getColorStyle(variant: InternalLinkProps['variant'], color: InternalLinkProps['color']) {\n  return `color-${variant === 'info' ? 'normal' : color}`;\n}\n\nexport default InternalLink;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"link\": \"awsui_link_4c84z_d1guz_93\",\n  \"variant-secondary\": \"awsui_variant-secondary_4c84z_d1guz_138\",\n  \"variant-primary\": \"awsui_variant-primary_4c84z_d1guz_173\",\n  \"variant-info\": \"awsui_variant-info_4c84z_d1guz_208\",\n  \"variant-value-large\": \"awsui_variant-value-large_4c84z_d1guz_243\",\n  \"variant-top-navigation\": \"awsui_variant-top-navigation_4c84z_d1guz_277\",\n  \"variant-recovery\": \"awsui_variant-recovery_4c84z_d1guz_312\",\n  \"button\": \"awsui_button_4c84z_d1guz_347\",\n  \"color-inverted\": \"awsui_color-inverted_4c84z_d1guz_382\",\n  \"font-size-body-s\": \"awsui_font-size-body-s_4c84z_d1guz_401\",\n  \"font-size-body-m\": \"awsui_font-size-body-m_4c84z_d1guz_406\",\n  \"font-size-heading-xs\": \"awsui_font-size-heading-xs_4c84z_d1guz_410\",\n  \"font-size-heading-s\": \"awsui_font-size-heading-s_4c84z_d1guz_414\",\n  \"font-size-heading-m\": \"awsui_font-size-heading-m_4c84z_d1guz_419\",\n  \"font-size-heading-l\": \"awsui_font-size-heading-l_4c84z_d1guz_424\",\n  \"font-size-heading-xl\": \"awsui_font-size-heading-xl_4c84z_d1guz_429\",\n  \"font-size-display-l\": \"awsui_font-size-display-l_4c84z_d1guz_434\",\n  \"font-size-inherit\": \"awsui_font-size-inherit_4c84z_d1guz_439\",\n  \"icon-wrapper\": \"awsui_icon-wrapper_4c84z_d1guz_445\",\n  \"icon\": \"awsui_icon_4c84z_d1guz_445\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React from 'react';\n\nimport { MenuDropdownProps, ButtonTriggerProps } from './interfaces';\nimport { getBaseProps } from '../../base-component';\nimport { applyDisplayName } from '../../utils/apply-display-name';\nimport useFocusVisible from '../../hooks/focus-visible';\nimport InternalButtonDropdown from '../../../button-dropdown/internal';\nimport InternalIcon from '../../../icon/internal';\nimport buttonDropdownStyles from '../../../button-dropdown/styles.css.js';\nimport styles from './styles.css.js';\n\nexport { MenuDropdownProps };\n\nexport const ButtonTrigger = React.forwardRef(\n  (\n    {\n      iconName,\n      iconUrl,\n      iconAlt,\n      iconSvg,\n      badge,\n      ariaLabel,\n      offsetRight,\n      disabled,\n      expanded,\n      children,\n      onClick,\n    }: ButtonTriggerProps,\n    ref: React.Ref<any>\n  ) => {\n    const focusVisible = useFocusVisible();\n    const hasIcon = iconName || iconUrl || iconSvg;\n\n    return (\n      <button\n        {...focusVisible}\n        ref={ref}\n        type=\"button\"\n        className={clsx(styles.button, styles[`offset-right-${offsetRight}`], { [styles.expanded]: expanded })}\n        aria-label={ariaLabel}\n        aria-expanded={!!expanded}\n        aria-haspopup={true}\n        disabled={disabled}\n        onClick={event => {\n          event.preventDefault();\n          onClick && onClick();\n        }}\n      >\n        {hasIcon && (\n          <InternalIcon\n            className={styles.icon}\n            name={iconName}\n            url={iconUrl}\n            alt={iconAlt}\n            svg={iconSvg}\n            badge={badge}\n          />\n        )}\n        {children && <span className={styles.text}>{children}</span>}\n        {children && (\n          <InternalIcon\n            name=\"caret-down-filled\"\n            className={expanded ? buttonDropdownStyles['rotate-up'] : buttonDropdownStyles['rotate-down']}\n          />\n        )}\n      </button>\n    );\n  }\n);\n\nconst MenuDropdown = ({\n  iconName,\n  iconUrl,\n  iconAlt,\n  iconSvg,\n  badge,\n  ariaLabel,\n  offsetRight,\n  children,\n  ...props\n}: MenuDropdownProps) => {\n  const baseProps = getBaseProps(props);\n\n  const dropdownTrigger = (clickHandler: () => void, ref: React.Ref<any>, isDisabled: boolean, isExpanded: boolean) => {\n    return (\n      <ButtonTrigger\n        ref={ref}\n        disabled={isDisabled}\n        expanded={isExpanded}\n        iconName={iconName}\n        iconUrl={iconUrl}\n        iconAlt={iconAlt}\n        iconSvg={iconSvg}\n        badge={badge}\n        ariaLabel={ariaLabel}\n        offsetRight={offsetRight}\n        onClick={clickHandler}\n      >\n        {children}\n      </ButtonTrigger>\n    );\n  };\n\n  return (\n    <InternalButtonDropdown\n      {...baseProps}\n      {...props}\n      variant=\"navigation\"\n      customTriggerBuilder={dropdownTrigger}\n      preferCenter={true}\n    />\n  );\n};\n\napplyDisplayName(MenuDropdown, 'MenuDropdown');\nexport default MenuDropdown;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"button\": \"awsui_button_m5h9f_vm2i5_93\",\n  \"expanded\": \"awsui_expanded_m5h9f_vm2i5_123\",\n  \"offset-right-none\": \"awsui_offset-right-none_m5h9f_vm2i5_134\",\n  \"offset-right-l\": \"awsui_offset-right-l_m5h9f_vm2i5_137\",\n  \"offset-right-xxl\": \"awsui_offset-right-xxl_m5h9f_vm2i5_140\",\n  \"text\": \"awsui_text_m5h9f_vm2i5_162\",\n  \"icon\": \"awsui_icon_m5h9f_vm2i5_166\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport Router, { Route } from './router';\nimport UtilitiesView from './views/utilities';\nimport SubmenuView from './views/submenu';\n\nimport { HeaderProps } from './header';\n\nimport styles from '../../styles.css.js';\nimport { TopNavigationProps } from '../../interfaces';\ninterface OverflowMenuProps {\n  headerText?: string;\n  items?: TopNavigationProps['utilities'];\n  dismissIconAriaLabel?: HeaderProps['dismissIconAriaLabel'];\n  backIconAriaLabel?: HeaderProps['backIconAriaLabel'];\n  onClose?: HeaderProps['onClose'];\n}\n\nexport interface View extends Omit<OverflowMenuProps, 'items'> {\n  headerSecondaryText?: HeaderProps['secondaryText'];\n}\n\nconst OverflowMenu = ({\n  headerText,\n  dismissIconAriaLabel,\n  backIconAriaLabel,\n  items = [],\n  onClose,\n}: OverflowMenuProps) => {\n  return (\n    <div\n      className={styles['overflow-menu']}\n      onKeyUp={event => {\n        if (event.key === 'Escape') {\n          onClose?.();\n        }\n      }}\n    >\n      <Router>\n        <Route\n          view=\"utilities\"\n          element={data => (\n            <UtilitiesView\n              headerText={headerText}\n              items={items}\n              focusIndex={data?.utilityIndex}\n              dismissIconAriaLabel={dismissIconAriaLabel}\n              backIconAriaLabel={backIconAriaLabel}\n              onClose={onClose}\n            />\n          )}\n        />\n        <Route\n          view=\"dropdown-menu\"\n          element={data => (\n            <SubmenuView\n              headerText={data?.headerText}\n              headerSecondaryText={data?.headerSecondaryText}\n              dismissIconAriaLabel={dismissIconAriaLabel}\n              backIconAriaLabel={backIconAriaLabel}\n              definition={data?.definition}\n              utilityIndex={data?.utilityIndex}\n              onClose={onClose}\n            />\n          )}\n        />\n      </Router>\n    </div>\n  );\n};\n\nexport default OverflowMenu;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { createContext, Dispatch, SetStateAction, useContext, useState } from 'react';\n\ntype View = 'utilities' | 'dropdown-menu';\n\ninterface RouteData {\n  headerText?: string;\n  headerSecondaryText?: string;\n  definition?: any;\n\n  utilityIndex?: number;\n}\n\ninterface RouteState {\n  view: View;\n  data: RouteData | null;\n}\n\ninterface IViewContext {\n  state: RouteState;\n  setState: Dispatch<SetStateAction<RouteState>>;\n}\n\nconst defaultCtx: IViewContext = { state: { view: 'utilities', data: null }, setState: () => {} };\nexport const ViewContext = createContext<IViewContext>(defaultCtx);\n\nexport const useNavigate = () => {\n  const { setState } = useContext(ViewContext);\n\n  const navigate = (view: View, data: any) => {\n    setState({ view, data });\n  };\n\n  return navigate;\n};\n\ninterface RouteProps {\n  view: View;\n  element?: React.ReactNode | ((data: RouteData | null) => React.ReactElement);\n}\n\nexport const Route = ({ view, element }: RouteProps) => {\n  const { state } = useContext(ViewContext);\n\n  if (view === state.view) {\n    if (typeof element === 'function') {\n      return element(state.data);\n    }\n\n    return <>{element}</>;\n  }\n\n  return null;\n};\n\ninterface RouterProps {\n  children?: React.ReactNode;\n}\n\nconst Router = ({ children }: RouterProps) => {\n  const [state, setState] = useState<RouteState>({ view: 'utilities', data: null });\n  return <ViewContext.Provider value={{ state, setState }}>{children}</ViewContext.Provider>;\n};\n\nexport default Router;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport FocusLock from 'react-focus-lock';\n\nimport Header from '../header';\nimport { UtilityMenuItem } from '../menu-item';\n\nimport { TopNavigationProps } from '../../../interfaces';\n\nimport { View } from '..';\nimport styles from '../../../styles.css.js';\nimport { useUniqueId } from '../../../../internal/hooks/use-unique-id';\n\ninterface UtilitiesViewProps extends View {\n  items: TopNavigationProps['utilities'];\n  focusIndex?: number;\n}\n\nconst UtilitiesView = ({ headerText, dismissIconAriaLabel, onClose, items = [], focusIndex }: UtilitiesViewProps) => {\n  const headerId = useUniqueId('overflow-menu-header');\n  const ref = useRef<HTMLAnchorElement & HTMLButtonElement>(null);\n\n  useEffect(() => {\n    // A focus index is used to set the focus back to the submenu trigger\n    // returning from a submenu.\n    if (typeof focusIndex === 'number') {\n      ref.current?.focus();\n    }\n  }, [focusIndex]);\n\n  return (\n    <FocusLock returnFocus={true}>\n      <Header dismissIconAriaLabel={dismissIconAriaLabel} onClose={onClose}>\n        <span id={headerId}>{headerText}</span>\n      </Header>\n      <ul className={styles['overflow-menu-list']} aria-labelledby={headerId}>\n        {items.map((utility, index) => (\n          <UtilityMenuItem key={index} index={index} ref={index === focusIndex ? ref : undefined} {...utility} />\n        ))}\n      </ul>\n    </FocusLock>\n  );\n};\n\nexport default UtilitiesView;\n", "import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport FocusLockUI from './Lock';\nimport FocusTrap from './Trap';\n/* that would be a BREAKING CHANGE!\n// delaying sidecar execution till the first usage\nconst RequireSideCar = (props) => {\n  // eslint-disable-next-line global-require\n  const SideCar = require('./Trap').default;\n  return <SideCar {...props} />;\n};\n*/\n\nvar FocusLockCombination = /*#__PURE__*/React.forwardRef(function FocusLockUICombination(props, ref) {\n  return /*#__PURE__*/React.createElement(FocusLockUI, _extends({\n    sideCar: FocusTrap,\n    ref: ref\n  }, props));\n});\n\nvar _ref = FocusLockUI.propTypes || {},\n    sideCar = _ref.sideCar,\n    propTypes = _objectWithoutPropertiesLoose(_ref, [\"sideCar\"]);\n\nFocusLockCombination.propTypes = process.env.NODE_ENV !== \"production\" ? propTypes : {};\nexport default FocusLockCombination;", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { node, bool, string, any, arrayOf, oneOfType, object, func } from 'prop-types';\nimport * as constants from 'focus-lock/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { useEffect } from 'react';\nimport { hiddenGuard } from './FocusGuard';\nimport { mediumFocus, mediumBlur, mediumSidecar } from './medium';\nvar emptyArray = [];\nvar FocusLock = /*#__PURE__*/React.forwardRef(function FocusLockUI(props, parentRef) {\n  var _extends2;\n\n  var _React$useState = React.useState(),\n      realObserved = _React$useState[0],\n      setObserved = _React$useState[1];\n\n  var observed = React.useRef();\n  var isActive = React.useRef(false);\n  var originalFocusedElement = React.useRef(null);\n  var children = props.children,\n      disabled = props.disabled,\n      noFocusGuards = props.noFocusGuards,\n      persistentFocus = props.persistentFocus,\n      crossFrame = props.crossFrame,\n      autoFocus = props.autoFocus,\n      allowTextSelection = props.allowTextSelection,\n      group = props.group,\n      className = props.className,\n      whiteList = props.whiteList,\n      hasPositiveIndices = props.hasPositiveIndices,\n      _props$shards = props.shards,\n      shards = _props$shards === void 0 ? emptyArray : _props$shards,\n      _props$as = props.as,\n      Container = _props$as === void 0 ? 'div' : _props$as,\n      _props$lockProps = props.lockProps,\n      containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n      SideCar = props.sideCar,\n      shouldReturnFocus = props.returnFocus,\n      focusOptions = props.focusOptions,\n      onActivationCallback = props.onActivation,\n      onDeactivationCallback = props.onDeactivation;\n\n  var _React$useState2 = React.useState({}),\n      id = _React$useState2[0]; // SIDE EFFECT CALLBACKS\n\n\n  var onActivation = React.useCallback(function () {\n    originalFocusedElement.current = originalFocusedElement.current || document && document.activeElement;\n\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n\n    isActive.current = true;\n  }, [onActivationCallback]);\n  var onDeactivation = React.useCallback(function () {\n    isActive.current = false;\n\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n  }, [onDeactivationCallback]);\n  useEffect(function () {\n    if (!disabled) {\n      // cleanup return focus on trap deactivation\n      // sideEffect/returnFocus should happen by this time\n      originalFocusedElement.current = null;\n    }\n  }, []);\n  var returnFocus = React.useCallback(function (allowDefer) {\n    var returnFocusTo = originalFocusedElement.current;\n\n    if (returnFocusTo && returnFocusTo.focus) {\n      var howToReturnFocus = typeof shouldReturnFocus === 'function' ? shouldReturnFocus(returnFocusTo) : shouldReturnFocus;\n\n      if (howToReturnFocus) {\n        var returnFocusOptions = typeof howToReturnFocus === 'object' ? howToReturnFocus : undefined;\n        originalFocusedElement.current = null;\n\n        if (allowDefer) {\n          // React might return focus after update\n          // it's safer to defer the action\n          Promise.resolve().then(function () {\n            return returnFocusTo.focus(returnFocusOptions);\n          });\n        } else {\n          returnFocusTo.focus(returnFocusOptions);\n        }\n      }\n    }\n  }, [shouldReturnFocus]); // MEDIUM CALLBACKS\n\n  var onFocus = React.useCallback(function (event) {\n    if (isActive.current) {\n      mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = mediumBlur.useMedium; // REF PROPAGATION\n  // not using real refs due to race conditions\n\n  var setObserveNode = React.useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof allowTextSelection !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n    }\n\n    React.useEffect(function () {\n      if (!observed.current) {\n        // eslint-disable-next-line no-console\n        console.error('FocusLock: could not obtain ref to internal node');\n      }\n    }, []);\n  }\n\n  var lockProps = _extends((_extends2 = {}, _extends2[constants.FOCUS_DISABLED] = disabled && 'disabled', _extends2[constants.FOCUS_GROUP] = group, _extends2), containerProps);\n\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = useMergeRefs([parentRef, setObserveNode]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, hasLeadingGuards && [\n  /*#__PURE__*/\n  // nearest focus guard\n  React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }), // first tabbed element guard\n  hasPositiveIndices ? /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: hiddenGuard\n  }) : null], !disabled && /*#__PURE__*/React.createElement(SideCar, {\n    id: id,\n    sideCar: mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    crossFrame: crossFrame,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus,\n    focusOptions: focusOptions\n  }), /*#__PURE__*/React.createElement(Container, _extends({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), children), hasTailingGuards && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }));\n});\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: node,\n  disabled: bool,\n  returnFocus: oneOfType([bool, object, func]),\n  focusOptions: object,\n  noFocusGuards: bool,\n  hasPositiveIndices: bool,\n  allowTextSelection: bool,\n  autoFocus: bool,\n  persistentFocus: bool,\n  crossFrame: bool,\n  group: string,\n  className: string,\n  whiteList: func,\n  shards: arrayOf(any),\n  as: oneOfType([string, func, object]),\n  lockProps: object,\n  onActivation: func,\n  onDeactivation: func,\n  sideCar: any.isRequired\n} : {};\nFocusLock.defaultProps = {\n  children: undefined,\n  disabled: false,\n  returnFocus: false,\n  focusOptions: undefined,\n  noFocusGuards: false,\n  autoFocus: true,\n  persistentFocus: false,\n  crossFrame: true,\n  hasPositiveIndices: undefined,\n  allowTextSelection: undefined,\n  group: undefined,\n  className: undefined,\n  whiteList: undefined,\n  shards: undefined,\n  as: 'div',\n  lockProps: {},\n  onActivation: undefined,\n  onDeactivation: undefined\n};\nexport default FocusLock;", "export var FOCUS_GROUP = 'data-focus-lock';\nexport var FOCUS_DISABLED = 'data-focus-lock-disabled';\nexport var FOCUS_ALLOW = 'data-no-focus-lock';\nexport var FOCUS_AUTO = 'data-autofocus-inside';\n", "/**\n * Assigns a value for a given ref, no matter of the ref format\n * @param {RefObject} ref - a callback function or ref object\n * @param value - a new value\n *\n * @see https://github.com/theKashey/use-callback-ref#assignref\n * @example\n * const refObject = useRef();\n * const refFn = (ref) => {....}\n *\n * assignRef(refObject, \"refValue\");\n * assignRef(refFn, \"refValue\");\n */\nexport function assignRef(ref, value) {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n    return ref;\n}\n", "import { useState } from 'react';\n/**\n * creates a MutableRef with ref change callback\n * @param initialValue - initial ref value\n * @param {Function} callback - a callback to run when value changes\n *\n * @example\n * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n * ref.current = 1;\n * // prints 0 -> 1\n *\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n * @returns {MutableRefObject}\n */\nexport function useCallbackRef(initialValue, callback) {\n    var ref = useState(function () { return ({\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n            get current() {\n                return ref.value;\n            },\n            set current(value) {\n                var last = ref.value;\n                if (last !== value) {\n                    ref.value = value;\n                    ref.callback(value, last);\n                }\n            },\n        },\n    }); })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n}\n", "import { assignRef } from './assignRef';\nimport { useCallbackRef } from './useRef';\n/**\n * Merges two or more refs together providing a single interface to set their value\n * @param {RefObject|Ref} refs\n * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}\n *\n * @see {@link mergeRefs} a version without buit-in memoization\n * @see https://github.com/theKashey/use-callback-ref#usemergerefs\n * @example\n * const Component = React.forwardRef((props, ref) => {\n *   const ownRef = useRef();\n *   const domRef = useMergeRefs([ref, ownRef]); // \uD83D\uDC48 merge together\n *   return <div ref={domRef}>...</div>\n * }\n */\nexport function useMergeRefs(refs, defaultValue) {\n    return useCallbackRef(defaultValue || null, function (newValue) { return refs.forEach(function (ref) { return assignRef(ref, newValue); }); });\n}\n", "import * as React from 'react';\nimport PropTypes from 'prop-types';\nexport var hiddenGuard = {\n  width: '1px',\n  height: '0px',\n  padding: 0,\n  overflow: 'hidden',\n  position: 'fixed',\n  top: '1px',\n  left: '1px'\n};\n\nvar InFocusGuard = function InFocusGuard(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }), children, children && /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-last\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }));\n};\n\nInFocusGuard.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node\n} : {};\nInFocusGuard.defaultProps = {\n  children: null\n};\nexport default InFocusGuard;", "import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { useSidecar } from './hook';\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function sidecar(importer, errorComponent) {\n    var ErrorCase = function () { return errorComponent; };\n    return function Sidecar(props) {\n        var _a = useSidecar(importer, props.sideCar), Car = _a[0], error = _a[1];\n        if (error && errorComponent) {\n            return ErrorCase;\n        }\n        // @ts-expect-error type shenanigans\n        return Car ? React.createElement(Car, __assign({}, props)) : null;\n    };\n}\n", "import { useState, useEffect } from 'react';\nimport { env } from './env';\nvar cache = new WeakMap();\nvar NO_OPTIONS = {};\nexport function useSidecar(importer, effect) {\n    var options = (effect && effect.options) || NO_OPTIONS;\n    if (env.isNode && !options.ssr) {\n        return [null, null];\n    }\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return useRealSidecar(importer, effect);\n}\nfunction useRealSidecar(importer, effect) {\n    var options = (effect && effect.options) || NO_OPTIONS;\n    var couldUseCache = env.forceCache || (env.isNode && !!options.ssr) || !options.async;\n    var _a = useState(couldUseCache ? function () { return cache.get(importer); } : undefined), Car = _a[0], setCar = _a[1];\n    var _b = useState(null), error = _b[0], setError = _b[1];\n    useEffect(function () {\n        if (!Car) {\n            importer().then(function (car) {\n                var resolved = effect ? effect.read() : car.default || car;\n                if (!resolved) {\n                    console.error('Sidecar error: with importer', importer);\n                    var error_1;\n                    if (effect) {\n                        console.error('Sidecar error: with medium', effect);\n                        error_1 = new Error('Sidecar medium was not found');\n                    }\n                    else {\n                        error_1 = new Error('Sidecar was not found in exports');\n                    }\n                    setError(function () { return error_1; });\n                    throw error_1;\n                }\n                cache.set(importer, resolved);\n                setCar(function () { return resolved; });\n            }, function (e) { return setError(function () { return e; }); });\n        }\n    }, []);\n    return [Car, error];\n}\n", "import { __assign } from \"tslib\";\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nexport function createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = __assign({ async: true, ssr: false }, options);\n    return medium;\n}\n", "import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { useState, useCallback, useEffect, useLayoutEffect } from 'react';\nexport function renderCar(WrappedComponent, defaults) {\n    function State(_a) {\n        var stateRef = _a.stateRef, props = _a.props;\n        var renderTarget = useCallback(function SideTarget() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            useLayoutEffect(function () {\n                stateRef.current(args);\n            });\n            return null;\n        }, []);\n        // @ts-ignore\n        return React.createElement(WrappedComponent, __assign({}, props, { children: renderTarget }));\n    }\n    var Children = React.memo(function (_a) {\n        var stateRef = _a.stateRef, defaultState = _a.defaultState, children = _a.children;\n        var _b = useState(defaultState.current), state = _b[0], setState = _b[1];\n        useEffect(function () {\n            stateRef.current = setState;\n        }, []);\n        return children.apply(void 0, state);\n    }, function () { return true; });\n    return function Combiner(props) {\n        var defaultState = React.useRef(defaults(props));\n        var ref = React.useRef(function (state) { return (defaultState.current = state); });\n        return (React.createElement(React.Fragment, null,\n            React.createElement(State, { stateRef: ref, props: props }),\n            React.createElement(Children, { stateRef: ref, defaultState: defaultState, children: props.children })));\n    };\n}\n", "import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nvar SideCar = function (_a) {\n    var sideCar = _a.sideCar, rest = __rest(_a, [\"sideCar\"]);\n    if (!sideCar) {\n        throw new Error('Sidecar: please provide `sideCar` property to import the right car');\n    }\n    var Target = sideCar.read();\n    if (!Target) {\n        throw new Error('Sidecar medium not found');\n    }\n    return React.createElement(Target, __assign({}, rest));\n};\nSideCar.isSideCarExport = true;\nexport function exportSidecar(medium, exported) {\n    medium.useMedium(exported);\n    return SideCar;\n}\n", "import { createMedium, createSidecarMedium } from 'use-sidecar';\nexport var mediumFocus = createMedium({}, function (_ref) {\n  var target = _ref.target,\n      currentTarget = _ref.currentTarget;\n  return {\n    target: target,\n    currentTarget: currentTarget\n  };\n});\nexport var mediumBlur = createMedium();\nexport var mediumEffect = createMedium();\nexport var mediumSidecar = createSidecarMedium({\n  async: true\n});", "import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport withSideEffect from 'react-clientside-effect';\nimport moveFocusInside, { focusInside, focusIsHidden, getFocusabledIn } from 'focus-lock';\nimport { deferAction } from './util';\nimport { mediumFocus, mediumBlur, mediumEffect } from './medium';\n\nvar focusOnBody = function focusOnBody() {\n  return document && document.activeElement === document.body;\n};\n\nvar isFreeFocus = function isFreeFocus() {\n  return focusOnBody() || focusIsHidden();\n};\n\nvar lastActiveTrap = null;\nvar lastActiveFocus = null;\nvar lastPortaledElement = null;\nvar focusWasOutsideWindow = false;\n\nvar defaultWhitelist = function defaultWhitelist() {\n  return true;\n};\n\nvar focusWhitelisted = function focusWhitelisted(activeElement) {\n  return (lastActiveTrap.whiteList || defaultWhitelist)(activeElement);\n};\n\nvar recordPortal = function recordPortal(observerNode, portaledElement) {\n  lastPortaledElement = {\n    observerNode: observerNode,\n    portaledElement: portaledElement\n  };\n};\n\nvar focusIsPortaledPair = function focusIsPortaledPair(element) {\n  return lastPortaledElement && lastPortaledElement.portaledElement === element;\n};\n\nfunction autoGuard(startIndex, end, step, allNodes) {\n  var lastGuard = null;\n  var i = startIndex;\n\n  do {\n    var item = allNodes[i];\n\n    if (item.guard) {\n      if (item.node.dataset.focusAutoGuard) {\n        lastGuard = item;\n      }\n    } else if (item.lockItem) {\n      if (i !== startIndex) {\n        // we will tab to the next element\n        return;\n      }\n\n      lastGuard = null;\n    } else {\n      break;\n    }\n  } while ((i += step) !== end);\n\n  if (lastGuard) {\n    lastGuard.node.tabIndex = 0;\n  }\n}\n\nvar extractRef = function extractRef(ref) {\n  return ref && 'current' in ref ? ref.current : ref;\n};\n\nvar focusWasOutside = function focusWasOutside(crossFrameOption) {\n  if (crossFrameOption) {\n    // with cross frame return true for any value\n    return Boolean(focusWasOutsideWindow);\n  } // in other case return only of focus went a while aho\n\n\n  return focusWasOutsideWindow === 'meanwhile';\n};\n\nvar checkInHost = function checkInHost(check, el, boundary) {\n  return el // find host equal to active element and check nested active element\n  && (el.host === check && (!el.activeElement || boundary.contains(el.activeElement)) // dive up\n  || el.parentNode && checkInHost(check, el.parentNode, boundary));\n};\n\nvar withinHost = function withinHost(activeElement, workingArea) {\n  return workingArea.some(function (area) {\n    return checkInHost(activeElement, area, area);\n  });\n};\n\nvar activateTrap = function activateTrap() {\n  var result = false;\n\n  if (lastActiveTrap) {\n    var _lastActiveTrap = lastActiveTrap,\n        observed = _lastActiveTrap.observed,\n        persistentFocus = _lastActiveTrap.persistentFocus,\n        autoFocus = _lastActiveTrap.autoFocus,\n        shards = _lastActiveTrap.shards,\n        crossFrame = _lastActiveTrap.crossFrame,\n        focusOptions = _lastActiveTrap.focusOptions;\n    var workingNode = observed || lastPortaledElement && lastPortaledElement.portaledElement;\n    var activeElement = document && document.activeElement;\n\n    if (workingNode) {\n      var workingArea = [workingNode].concat(shards.map(extractRef).filter(Boolean));\n\n      if (!activeElement || focusWhitelisted(activeElement)) {\n        if (persistentFocus || focusWasOutside(crossFrame) || !isFreeFocus() || !lastActiveFocus && autoFocus) {\n          if (workingNode && !( // active element is \"inside\" working area\n          focusInside(workingArea) || // check for shadow-dom contained elements\n          activeElement && withinHost(activeElement, workingArea) || focusIsPortaledPair(activeElement, workingNode))) {\n            if (document && !lastActiveFocus && activeElement && !autoFocus) {\n              // Check if blur() exists, which is missing on certain elements on IE\n              if (activeElement.blur) {\n                activeElement.blur();\n              }\n\n              document.body.focus();\n            } else {\n              result = moveFocusInside(workingArea, lastActiveFocus, {\n                focusOptions: focusOptions\n              });\n              lastPortaledElement = {};\n            }\n          }\n\n          focusWasOutsideWindow = false;\n          lastActiveFocus = document && document.activeElement;\n        }\n      }\n\n      if (document) {\n        var newActiveElement = document && document.activeElement;\n        var allNodes = getFocusabledIn(workingArea);\n        var focusedIndex = allNodes.map(function (_ref) {\n          var node = _ref.node;\n          return node;\n        }).indexOf(newActiveElement);\n\n        if (focusedIndex > -1) {\n          // remove old focus\n          allNodes.filter(function (_ref2) {\n            var guard = _ref2.guard,\n                node = _ref2.node;\n            return guard && node.dataset.focusAutoGuard;\n          }).forEach(function (_ref3) {\n            var node = _ref3.node;\n            return node.removeAttribute('tabIndex');\n          });\n          autoGuard(focusedIndex, allNodes.length, +1, allNodes);\n          autoGuard(focusedIndex, -1, -1, allNodes);\n        }\n      }\n    }\n  }\n\n  return result;\n};\n\nvar onTrap = function onTrap(event) {\n  if (activateTrap() && event) {\n    // prevent scroll jump\n    event.stopPropagation();\n    event.preventDefault();\n  }\n};\n\nvar onBlur = function onBlur() {\n  return deferAction(activateTrap);\n};\n\nvar onFocus = function onFocus(event) {\n  // detect portal\n  var source = event.target;\n  var currentNode = event.currentTarget;\n\n  if (!currentNode.contains(source)) {\n    recordPortal(currentNode, source);\n  }\n};\n\nvar FocusWatcher = function FocusWatcher() {\n  return null;\n};\n\nvar FocusTrap = function FocusTrap(_ref4) {\n  var children = _ref4.children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onBlur: onBlur,\n    onFocus: onFocus\n  }, children);\n};\n\nFocusTrap.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired\n} : {};\n\nvar onWindowBlur = function onWindowBlur() {\n  focusWasOutsideWindow = 'just'; // using setTimeout to set  this variable after React/sidecar reaction\n\n  setTimeout(function () {\n    focusWasOutsideWindow = 'meanwhile';\n  }, 0);\n};\n\nvar attachHandler = function attachHandler() {\n  document.addEventListener('focusin', onTrap);\n  document.addEventListener('focusout', onBlur);\n  window.addEventListener('blur', onWindowBlur);\n};\n\nvar detachHandler = function detachHandler() {\n  document.removeEventListener('focusin', onTrap);\n  document.removeEventListener('focusout', onBlur);\n  window.removeEventListener('blur', onWindowBlur);\n};\n\nfunction reducePropsToState(propsList) {\n  return propsList.filter(function (_ref5) {\n    var disabled = _ref5.disabled;\n    return !disabled;\n  });\n}\n\nfunction handleStateChangeOnClient(traps) {\n  var trap = traps.slice(-1)[0];\n\n  if (trap && !lastActiveTrap) {\n    attachHandler();\n  }\n\n  var lastTrap = lastActiveTrap;\n  var sameTrap = lastTrap && trap && trap.id === lastTrap.id;\n  lastActiveTrap = trap;\n\n  if (lastTrap && !sameTrap) {\n    lastTrap.onDeactivation(); // return focus only of last trap was removed\n\n    if (!traps.filter(function (_ref6) {\n      var id = _ref6.id;\n      return id === lastTrap.id;\n    }).length) {\n      // allow defer is no other trap is awaiting restore\n      lastTrap.returnFocus(!trap);\n    }\n  }\n\n  if (trap) {\n    lastActiveFocus = null;\n\n    if (!sameTrap || lastTrap.observed !== trap.observed) {\n      trap.onActivation();\n    }\n\n    activateTrap(true);\n    deferAction(activateTrap);\n  } else {\n    detachHandler();\n    lastActiveFocus = null;\n  }\n} // bind medium\n\n\nmediumFocus.assignSyncMedium(onFocus);\nmediumBlur.assignMedium(onBlur);\nmediumEffect.assignMedium(function (cb) {\n  return cb({\n    moveFocusInside: moveFocusInside,\n    focusInside: focusInside\n  });\n});\nexport default withSideEffect(reducePropsToState, handleStateChangeOnClient)(FocusWatcher);", "export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}", "import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { PureComponent } from 'react';\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof reducePropsToState !== 'function') {\n      throw new Error('Expected reducePropsToState to be a function.');\n    }\n\n    if (typeof handleStateChangeOnClient !== 'function') {\n      throw new Error('Expected handleStateChangeOnClient to be a function.');\n    }\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof WrappedComponent !== 'function') {\n        throw new Error('Expected WrappedComponent to be a React component.');\n      }\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n      handleStateChangeOnClient(state);\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    return SideEffect;\n  };\n}\n\nexport default withSideEffect;\n", "export var toArray = function (a) {\n    var ret = Array(a.length);\n    for (var i = 0; i < a.length; ++i) {\n        ret[i] = a[i];\n    }\n    return ret;\n};\nexport var asArray = function (a) { return (Array.isArray(a) ? a : [a]); };\n", "import { FOCUS_DISABLED, FOCUS_GROUP } from '../constants';\nimport { asArray, toArray } from './array';\nvar filterNested = function (nodes) {\n    var contained = new Set();\n    var l = nodes.length;\n    for (var i = 0; i < l; i += 1) {\n        for (var j = i + 1; j < l; j += 1) {\n            var position = nodes[i].compareDocumentPosition(nodes[j]);\n            if ((position & Node.DOCUMENT_POSITION_CONTAINED_BY) > 0) {\n                contained.add(j);\n            }\n            if ((position & Node.DOCUMENT_POSITION_CONTAINS) > 0) {\n                contained.add(i);\n            }\n        }\n    }\n    return nodes.filter(function (_, index) { return !contained.has(index); });\n};\nvar getTopParent = function (node) {\n    return node.parentNode ? getTopParent(node.parentNode) : node;\n};\nexport var getAllAffectedNodes = function (node) {\n    var nodes = asArray(node);\n    return nodes.filter(Boolean).reduce(function (acc, currentNode) {\n        var group = currentNode.getAttribute(FOCUS_GROUP);\n        acc.push.apply(acc, (group\n            ? filterNested(toArray(getTopParent(currentNode).querySelectorAll(\"[\".concat(FOCUS_GROUP, \"=\\\"\").concat(group, \"\\\"]:not([\").concat(FOCUS_DISABLED, \"=\\\"disabled\\\"])\"))))\n            : [currentNode]));\n        return acc;\n    }, []);\n};\n", "export var getActiveElement = function () {\n    return (document.activeElement\n        ? document.activeElement.shadowRoot\n            ? document.activeElement.shadowRoot.activeElement\n            : document.activeElement\n        : undefined);\n};\n", "import { getAllAffectedNodes } from './utils/all-affected';\nimport { toArray } from './utils/array';\nimport { getActiveElement } from './utils/getActiveElement';\nvar focusInFrame = function (frame) { return frame === document.activeElement; };\nvar focusInsideIframe = function (topNode) {\n    return Boolean(toArray(topNode.querySelectorAll('iframe')).some(function (node) { return focusInFrame(node); }));\n};\nexport var focusInside = function (topNode) {\n    var activeElement = document && getActiveElement();\n    if (!activeElement || (activeElement.dataset && activeElement.dataset.focusGuard)) {\n        return false;\n    }\n    return getAllAffectedNodes(topNode).reduce(function (result, node) { return result || node.contains(activeElement) || focusInsideIframe(node); }, false);\n};\n", "import { FOCUS_ALLOW } from './constants';\nimport { toArray } from './utils/array';\nimport { getActiveElement } from './utils/getActiveElement';\nexport var focusIsHidden = function () {\n    var activeElement = document && getActiveElement();\n    if (!activeElement) {\n        return false;\n    }\n    return toArray(document.querySelectorAll(\"[\".concat(FOCUS_ALLOW, \"]\"))).some(function (node) { return node.contains(activeElement); });\n};\n", "var isElementHidden = function (node) {\n    if (node.nodeType !== Node.ELEMENT_NODE) {\n        return false;\n    }\n    var computedStyle = window.getComputedStyle(node, null);\n    if (!computedStyle || !computedStyle.getPropertyValue) {\n        return false;\n    }\n    return (computedStyle.getPropertyValue('display') === 'none' || computedStyle.getPropertyValue('visibility') === 'hidden');\n};\nvar isVisibleUncached = function (node, checkParent) {\n    return !node ||\n        node === document ||\n        (node && node.nodeType === Node.DOCUMENT_NODE) ||\n        (!isElementHidden(node) &&\n            checkParent(node.parentNode && node.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE\n                ?\n                    node.parentNode.host\n                : node.parentNode));\n};\nexport var isVisibleCached = function (visibilityCache, node) {\n    var cached = visibilityCache.get(node);\n    if (cached !== undefined) {\n        return cached;\n    }\n    var result = isVisibleUncached(node, isVisibleCached.bind(undefined, visibilityCache));\n    visibilityCache.set(node, result);\n    return result;\n};\nexport var getDataset = function (node) {\n    return node.dataset;\n};\nexport var isHTMLButtonElement = function (node) { return node.tagName === 'BUTTON'; };\nexport var isHTMLInputElement = function (node) { return node.tagName === 'INPUT'; };\nexport var isRadioElement = function (node) {\n    return isHTMLInputElement(node) && node.type === 'radio';\n};\nexport var notHiddenInput = function (node) {\n    return !((isHTMLInputElement(node) || isHTMLButtonElement(node)) && (node.type === 'hidden' || node.disabled)) &&\n        !node.ariaDisabled;\n};\nexport var isGuard = function (node) { var _a; return Boolean(node && ((_a = getDataset(node)) === null || _a === void 0 ? void 0 : _a.focusGuard)); };\nexport var isNotAGuard = function (node) { return !isGuard(node); };\nexport var isDefined = function (x) { return Boolean(x); };\n", "import { isRadioElement } from './is';\nvar findSelectedRadio = function (node, nodes) {\n    return nodes\n        .filter(isRadioElement)\n        .filter(function (el) { return el.name === node.name; })\n        .filter(function (el) { return el.checked; })[0] || node;\n};\nexport var correctNode = function (node, nodes) {\n    if (isRadioElement(node) && node.name) {\n        return findSelectedRadio(node, nodes);\n    }\n    return node;\n};\nexport var correctNodes = function (nodes) {\n    var resultSet = new Set();\n    nodes.forEach(function (node) { return resultSet.add(correctNode(node, nodes)); });\n    return nodes.filter(function (node) { return resultSet.has(node); });\n};\n", "import { correctNode } from './correctFocus';\nexport var pickFirstFocus = function (nodes) {\n    if (nodes[0] && nodes.length > 1) {\n        return correctNode(nodes[0], nodes);\n    }\n    return nodes[0];\n};\nexport var pickFocusable = function (nodes, index) {\n    if (nodes.length > 1) {\n        return nodes.indexOf(correctNode(nodes[index], nodes));\n    }\n    return index;\n};\n", "import { correctNodes } from './utils/correctFocus';\nimport { pickFocusable } from './utils/firstFocus';\nimport { isGuard } from './utils/is';\nexport var NEW_FOCUS = 'NEW_FOCUS';\nexport var newFocus = function (innerNodes, outerNodes, activeElement, lastNode) {\n    var cnt = innerNodes.length;\n    var firstFocus = innerNodes[0];\n    var lastFocus = innerNodes[cnt - 1];\n    var isOnGuard = isGuard(activeElement);\n    if (activeElement && innerNodes.indexOf(activeElement) >= 0) {\n        return undefined;\n    }\n    var activeIndex = activeElement !== undefined ? outerNodes.indexOf(activeElement) : -1;\n    var lastIndex = lastNode ? outerNodes.indexOf(lastNode) : activeIndex;\n    var lastNodeInside = lastNode ? innerNodes.indexOf(lastNode) : -1;\n    var indexDiff = activeIndex - lastIndex;\n    var firstNodeIndex = outerNodes.indexOf(firstFocus);\n    var lastNodeIndex = outerNodes.indexOf(lastFocus);\n    var correctedNodes = correctNodes(outerNodes);\n    var correctedIndex = activeElement !== undefined ? correctedNodes.indexOf(activeElement) : -1;\n    var correctedIndexDiff = correctedIndex - (lastNode ? correctedNodes.indexOf(lastNode) : activeIndex);\n    var returnFirstNode = pickFocusable(innerNodes, 0);\n    var returnLastNode = pickFocusable(innerNodes, cnt - 1);\n    if (activeIndex === -1 || lastNodeInside === -1) {\n        return NEW_FOCUS;\n    }\n    if (!indexDiff && lastNodeInside >= 0) {\n        return lastNodeInside;\n    }\n    if (activeIndex <= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnLastNode;\n    }\n    if (activeIndex >= lastNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnFirstNode;\n    }\n    if (indexDiff && Math.abs(correctedIndexDiff) > 1) {\n        return lastNodeInside;\n    }\n    if (activeIndex <= firstNodeIndex) {\n        return returnLastNode;\n    }\n    if (activeIndex > lastNodeIndex) {\n        return returnFirstNode;\n    }\n    if (indexDiff) {\n        if (Math.abs(indexDiff) > 1) {\n            return lastNodeInside;\n        }\n        return (cnt + lastNodeInside + indexDiff) % cnt;\n    }\n    return undefined;\n};\n", "import { toArray } from './array';\nexport var tabSort = function (a, b) {\n    var tabDiff = a.tabIndex - b.tabIndex;\n    var indexDiff = a.index - b.index;\n    if (tabDiff) {\n        if (!a.tabIndex) {\n            return 1;\n        }\n        if (!b.tabIndex) {\n            return -1;\n        }\n    }\n    return tabDiff || indexDiff;\n};\nexport var orderByTabIndex = function (nodes, filterNegative, keepGuards) {\n    return toArray(nodes)\n        .map(function (node, index) { return ({\n        node: node,\n        index: index,\n        tabIndex: keepGuards && node.tabIndex === -1 ? ((node.dataset || {}).focusGuard ? 0 : -1) : node.tabIndex,\n    }); })\n        .filter(function (data) { return !filterNegative || data.tabIndex >= 0; })\n        .sort(tabSort);\n};\n", "export var tabbables = [\n    'button:enabled',\n    'select:enabled',\n    'textarea:enabled',\n    'input:enabled',\n    'a[href]',\n    'area[href]',\n    'summary',\n    'iframe',\n    'object',\n    'embed',\n    'audio[controls]',\n    'video[controls]',\n    '[tabindex]',\n    '[contenteditable]',\n    '[autofocus]',\n];\n", "import { FOCUS_AUTO } from '../constants';\nimport { toArray } from './array';\nimport { tabbables } from './tabbables';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = \"\".concat(queryTabbables, \", [data-focus-guard]\");\nexport var getFocusables = function (parents, withGuards) {\n    return parents.reduce(function (acc, parent) {\n        return acc.concat(toArray(parent.querySelectorAll(withGuards ? queryGuardTabbables : queryTabbables)), parent.parentNode\n            ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) { return node === parent; })\n            : []);\n    }, []);\n};\nexport var getParentAutofocusables = function (parent) {\n    var parentFocus = parent.querySelectorAll(\"[\".concat(FOCUS_AUTO, \"]\"));\n    return toArray(parentFocus)\n        .map(function (node) { return getFocusables([node]); })\n        .reduce(function (acc, nodes) { return acc.concat(nodes); }, []);\n};\n", "import { toArray } from './array';\nimport { isVisibleCached, notHiddenInput } from './is';\nimport { orderByTabIndex } from './tabOrder';\nimport { getFocusables, getParentAutofocusables } from './tabUtils';\nexport var filterFocusable = function (nodes, visibilityCache) {\n    return toArray(nodes)\n        .filter(function (node) { return isVisibleCached(visibilityCache, node); })\n        .filter(function (node) { return notHiddenInput(node); });\n};\nexport var getTabbableNodes = function (topNodes, visibilityCache, withGuards) {\n    return orderByTabIndex(filterFocusable(getFocusables(topNodes, withGuards), visibilityCache), true, withGuards);\n};\nexport var getAllTabbableNodes = function (topNodes, visibilityCache) {\n    return orderByTabIndex(filterFocusable(getFocusables(topNodes), visibilityCache), false);\n};\nexport var parentAutofocusables = function (topNode, visibilityCache) {\n    return filterFocusable(getParentAutofocusables(topNode), visibilityCache);\n};\n", "import { parentAutofocusables } from './DOMutils';\nimport { asArray } from './array';\nvar getParents = function (node, parents) {\n    if (parents === void 0) { parents = []; }\n    parents.push(node);\n    if (node.parentNode) {\n        getParents(node.parentNode, parents);\n    }\n    return parents;\n};\nexport var getCommonParent = function (nodeA, nodeB) {\n    var parentsA = getParents(nodeA);\n    var parentsB = getParents(nodeB);\n    for (var i = 0; i < parentsA.length; i += 1) {\n        var currentParent = parentsA[i];\n        if (parentsB.indexOf(currentParent) >= 0) {\n            return currentParent;\n        }\n    }\n    return false;\n};\nexport var getTopCommonParent = function (baseActiveElement, leftEntry, rightEntries) {\n    var activeElements = asArray(baseActiveElement);\n    var leftEntries = asArray(leftEntry);\n    var activeElement = activeElements[0];\n    var topCommon = false;\n    leftEntries.filter(Boolean).forEach(function (entry) {\n        topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n        rightEntries.filter(Boolean).forEach(function (subEntry) {\n            var common = getCommonParent(activeElement, subEntry);\n            if (common) {\n                if (!topCommon || common.contains(topCommon)) {\n                    topCommon = common;\n                }\n                else {\n                    topCommon = getCommonParent(common, topCommon);\n                }\n            }\n        });\n    });\n    return topCommon;\n};\nexport var allParentAutofocusables = function (entries, visibilityCache) {\n    return entries.reduce(function (acc, node) { return acc.concat(parentAutofocusables(node, visibilityCache)); }, []);\n};\n", "import { NEW_FOCUS, newFocus } from './solver';\nimport { getAllTabbableNodes, getTabbableNodes } from './utils/DOMutils';\nimport { getAllAffectedNodes } from './utils/all-affected';\nimport { pickFirstFocus } from './utils/firstFocus';\nimport { getActiveElement } from './utils/getActiveElement';\nimport { getDataset, isDefined, isNotAGuard } from './utils/is';\nimport { allParentAutofocusables, getTopCommonParent } from './utils/parenting';\nvar findAutoFocused = function (autoFocusables) {\n    return function (node) { var _a; return node.autofocus || !!((_a = getDataset(node)) === null || _a === void 0 ? void 0 : _a.autofocus) || autoFocusables.indexOf(node) >= 0; };\n};\nvar reorderNodes = function (srcNodes, dstNodes) {\n    var remap = new Map();\n    dstNodes.forEach(function (entity) { return remap.set(entity.node, entity); });\n    return srcNodes.map(function (node) { return remap.get(node); }).filter(isDefined);\n};\nexport var getFocusMerge = function (topNode, lastNode) {\n    var activeElement = document && getActiveElement();\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(activeElement || topNode, topNode, entries);\n    var visibilityCache = new Map();\n    var anyFocusable = getAllTabbableNodes(entries, visibilityCache);\n    var innerElements = getTabbableNodes(entries, visibilityCache).filter(function (_a) {\n        var node = _a.node;\n        return isNotAGuard(node);\n    });\n    if (!innerElements[0]) {\n        innerElements = anyFocusable;\n        if (!innerElements[0]) {\n            return undefined;\n        }\n    }\n    var outerNodes = getAllTabbableNodes([commonParent], visibilityCache).map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var orderedInnerElements = reorderNodes(outerNodes, innerElements);\n    var innerNodes = orderedInnerElements.map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var newId = newFocus(innerNodes, outerNodes, activeElement, lastNode);\n    if (newId === NEW_FOCUS) {\n        var autoFocusable = anyFocusable\n            .map(function (_a) {\n            var node = _a.node;\n            return node;\n        })\n            .filter(findAutoFocused(allParentAutofocusables(entries, visibilityCache)));\n        return {\n            node: autoFocusable && autoFocusable.length ? pickFirstFocus(autoFocusable) : pickFirstFocus(innerNodes),\n        };\n    }\n    if (newId === undefined) {\n        return newId;\n    }\n    return orderedInnerElements[newId];\n};\n", "import { getTabbableNodes } from './utils/DOMutils';\nimport { getAllAffectedNodes } from './utils/all-affected';\nimport { isGuard, isNotAGuard } from './utils/is';\nimport { getTopCommonParent } from './utils/parenting';\nexport var getFocusabledIn = function (topNode) {\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(topNode, topNode, entries);\n    var visibilityCache = new Map();\n    var outerNodes = getTabbableNodes([commonParent], visibilityCache, true);\n    var innerElements = getTabbableNodes(entries, visibilityCache)\n        .filter(function (_a) {\n        var node = _a.node;\n        return isNotAGuard(node);\n    })\n        .map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    return outerNodes.map(function (_a) {\n        var node = _a.node, index = _a.index;\n        return ({\n            node: node,\n            index: index,\n            lockItem: innerElements.indexOf(node) >= 0,\n            guard: isGuard(node),\n        });\n    });\n};\n", "import { getFocusMerge } from './focusMerge';\nexport var focusOn = function (target, focusOptions) {\n    if ('focus' in target) {\n        target.focus(focusOptions);\n    }\n    if ('contentWindow' in target && target.contentWindow) {\n        target.contentWindow.focus();\n    }\n};\nvar guardCount = 0;\nvar lockDisabled = false;\nexport var setFocus = function (topNode, lastNode, options) {\n    if (options === void 0) { options = {}; }\n    var focusable = getFocusMerge(topNode, lastNode);\n    if (lockDisabled) {\n        return;\n    }\n    if (focusable) {\n        if (guardCount > 2) {\n            console.error('FocusLock: focus-fighting detected. Only one focus management system could be active. ' +\n                'See https://github.com/theKashey/focus-lock/#focus-fighting');\n            lockDisabled = true;\n            setTimeout(function () {\n                lockDisabled = false;\n            }, 1);\n            return;\n        }\n        guardCount++;\n        focusOn(focusable.node, options.focusOptions);\n        guardCount--;\n    }\n};\n", "import * as constants from './constants';\nimport { focusInside } from './focusInside';\nimport { focusIsHidden } from './focusIsHidden';\nimport { getFocusMerge as focusMerge } from './focusMerge';\nimport { getFocusabledIn } from './focusables';\nimport { setFocus } from './setFocus';\nimport { focusNextElement, focusPrevElement } from './sibling';\nimport tabHook from './tabHook';\nimport { getAllAffectedNodes } from './utils/all-affected';\nimport { getActiveElement } from './utils/getActiveElement';\nexport { tabHook, focusInside, focusIsHidden, focusMerge, getFocusabledIn, constants, getAllAffectedNodes, focusNextElement, focusPrevElement, getActiveElement, };\nexport default setFocus;\n", "export function deferAction(action) {\n  // Hidding setImmediate from Webpack to avoid inserting polyfill\n  var _window = window,\n      setImmediate = _window.setImmediate;\n\n  if (typeof setImmediate !== 'undefined') {\n    setImmediate(action);\n  } else {\n    setTimeout(action, 1);\n  }\n}\nexport var inlineProp = function inlineProp(name, value) {\n  var obj = {};\n  obj[name] = value;\n  return obj;\n};", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport * as constants from 'focus-lock/constants';\nimport { inlineProp } from './util';\n\nvar AutoFocusInside = function AutoFocusInside(_ref) {\n  var disabled = _ref.disabled,\n      children = _ref.children,\n      className = _ref.className;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, inlineProp(constants.FOCUS_AUTO, !disabled), {\n    className: className\n  }), children);\n};\n\nAutoFocusInside.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired,\n  disabled: PropTypes.bool,\n  className: PropTypes.string\n} : {};\nAutoFocusInside.defaultProps = {\n  disabled: false,\n  className: undefined\n};\nexport default AutoFocusInside;", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport * as constants from 'focus-lock/constants';\nimport { inlineProp } from './util';\nimport { mediumEffect } from './medium';\nexport var useFocusInside = function useFocusInside(observedRef) {\n  React.useEffect(function () {\n    var enabled = true;\n    mediumEffect.useMedium(function (car) {\n      var observed = observedRef && observedRef.current;\n\n      if (enabled && observed) {\n        if (!car.focusInside(observed)) {\n          car.moveFocusInside(observed, null);\n        }\n      }\n    });\n    return function () {\n      enabled = false;\n    };\n  }, [observedRef]);\n};\n\nfunction MoveFocusInside(_ref) {\n  var isDisabled = _ref.disabled,\n      className = _ref.className,\n      children = _ref.children;\n  var ref = React.useRef(null);\n  useFocusInside(isDisabled ? undefined : ref);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, inlineProp(constants.FOCUS_AUTO, !isDisabled), {\n    ref: ref,\n    className: className\n  }), children);\n}\n\nMoveFocusInside.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired,\n  disabled: PropTypes.bool,\n  className: PropTypes.string\n} : {};\nMoveFocusInside.defaultProps = {\n  disabled: false,\n  className: undefined\n};\nexport default MoveFocusInside;", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport * as constants from 'focus-lock/constants';\nimport { inlineProp } from './util';\n\nvar FreeFocusInside = function FreeFocusInside(_ref) {\n  var children = _ref.children,\n      className = _ref.className;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, inlineProp(constants.FOCUS_ALLOW, true), {\n    className: className\n  }), children);\n};\n\nFreeFocusInside.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string\n} : {};\nFreeFocusInside.defaultProps = {\n  className: undefined\n};\nexport default FreeFocusInside;", "import FocusLock from './Combination';\nexport * from './UI';\nexport default FocusLock;", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport InternalButton from '../../../button/internal';\nimport styles from '../../styles.css.js';\nexport interface HeaderProps {\n  dismissIconAriaLabel?: string;\n  backIconAriaLabel?: string;\n  secondaryText?: string;\n  onClose?: () => void;\n  onBack?: () => void;\n  children: React.ReactNode;\n}\n\nconst Header: React.FC<HeaderProps> = ({\n  children,\n  secondaryText,\n  backIconAriaLabel,\n  dismissIconAriaLabel,\n  onBack,\n  onClose,\n}) => {\n  return (\n    <div className={styles['overflow-menu-header']}>\n      {onBack && (\n        <InternalButton\n          // Used for test-utils, which require the selectable element to have a classname.\n          // eslint-disable-next-line react/forbid-component-props\n          className={styles['overflow-menu-back-button']}\n          ariaLabel={backIconAriaLabel}\n          iconName=\"angle-left\"\n          variant=\"icon\"\n          onClick={() => onBack()}\n        />\n      )}\n      <h2 className={styles['overflow-menu-header-text']}>\n        <div className={styles['overflow-menu-header-text--title']}>{children}</div>\n        {secondaryText && <div className={styles['overflow-menu-header-text--secondary']}>{secondaryText}</div>}\n      </h2>\n      <InternalButton\n        // eslint-disable-next-line react/forbid-component-props\n        className={styles['overflow-menu-dismiss-button']}\n        ariaLabel={dismissIconAriaLabel}\n        iconName=\"close\"\n        variant=\"icon\"\n        onClick={() => onClose && onClose()}\n      />\n    </div>\n  );\n};\n\nexport default Header;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { fireCancelableEvent, isPlainLeftClick } from '../../../internal/events';\nimport { useUniqueId } from '../../../internal/hooks/use-unique-id';\nimport useFocusVisible from '../../../internal/hooks/focus-visible';\n\nimport { LinkProps } from '../../../link/interfaces';\nimport { ButtonDropdownProps } from '../../../button-dropdown/interfaces';\nimport InternalIcon from '../../../icon/internal';\n\nimport { useNavigate } from './router';\nimport { TopNavigationProps } from '../../interfaces';\nimport styles from '../../styles.css.js';\n\ninterface ListItemProps {\n  startIcon?: React.ReactNode;\n  endIcon?: React.ReactNode;\n  context?: 'dropdown-menu';\n  children?: React.ReactNode;\n  testId?: string;\n}\n\nconst ListItem = ({ children, startIcon, endIcon }: ListItemProps) => {\n  return (\n    <>\n      {startIcon && <span className={styles['overflow-menu-list-item-icon']}>{startIcon}</span>}\n      <span className={styles['overflow-menu-list-item-text']}>{children}</span>\n      {endIcon && endIcon}\n    </>\n  );\n};\n\ninterface LinkItemProps extends ButtonItemProps, Pick<LinkProps, 'href' | 'external'> {}\n\nconst LinkItem = forwardRef(\n  (\n    { children, external, href, startIcon, endIcon, onFollow, context, testId }: LinkItemProps,\n    ref: React.Ref<HTMLAnchorElement>\n  ) => {\n    const focusVisible = useFocusVisible();\n    const rel = external ? 'noopener noreferrer' : undefined;\n    const target = external ? '_blank' : undefined;\n\n    const anchorProps = {\n      rel,\n      target,\n      href,\n      onClick(event: React.MouseEvent) {\n        if (isPlainLeftClick(event)) {\n          onFollow?.(event);\n        }\n      },\n    };\n\n    const buttonProps = {\n      role: 'button',\n      tabIndex: 0,\n      onKeyDown(event: React.KeyboardEvent) {\n        if (event.key === ' ') {\n          event.preventDefault();\n        }\n      },\n      onKeyUp(event: React.KeyboardEvent) {\n        if (event.key === ' ' || event.key === 'Enter') {\n          onFollow?.(event);\n        }\n      },\n      onClick: onFollow,\n    };\n\n    return (\n      <a\n        ref={ref}\n        className={clsx(\n          styles['overflow-menu-control'],\n          styles['overflow-menu-control-link'],\n          context && styles[`overflow-menu-control-${context}`]\n        )}\n        {...(typeof href === 'string' ? anchorProps : buttonProps)}\n        {...focusVisible}\n        {...(testId ? { 'data-testid': testId } : {})}\n      >\n        <ListItem startIcon={startIcon} endIcon={endIcon}>\n          {children}\n        </ListItem>\n      </a>\n    );\n  }\n);\n\ninterface ButtonItemProps extends ListItemProps {\n  onFollow?: (event: React.SyntheticEvent) => void;\n}\n\nconst ButtonItem = forwardRef(\n  (\n    { children, startIcon, endIcon, onFollow: onClick, testId }: ButtonItemProps & { testId?: string },\n    ref: React.Ref<HTMLButtonElement>\n  ) => {\n    const focusVisible = useFocusVisible();\n\n    return (\n      <button\n        ref={ref}\n        className={styles['overflow-menu-control']}\n        onClick={onClick}\n        {...focusVisible}\n        {...(typeof testId === 'string' ? { 'data-testid': testId } : {})}\n      >\n        <ListItem startIcon={startIcon} endIcon={endIcon}>\n          {children}\n        </ListItem>\n      </button>\n    );\n  }\n);\n\nconst NavigationItem = forwardRef(\n  (\n    {\n      startIcon,\n      children,\n      index,\n      testId,\n      ...definition\n    }: ButtonItemProps & TopNavigationProps.MenuDropdownUtility & { index: number; testId?: string },\n    ref: React.Ref<HTMLButtonElement>\n  ) => {\n    const navigate = useNavigate();\n    return (\n      <ButtonItem\n        ref={ref}\n        startIcon={startIcon}\n        endIcon={<InternalIcon name=\"angle-right\" />}\n        testId={testId}\n        onFollow={() =>\n          navigate('dropdown-menu', {\n            definition,\n            headerText: definition.text || definition.title,\n            headerSecondaryText: definition.description,\n            utilityIndex: index,\n          })\n        }\n      >\n        {children}\n      </ButtonItem>\n    );\n  }\n);\n\nconst ExpandableItem: React.FC<\n  ButtonItemProps & ButtonDropdownProps.ItemGroup & { onItemClick: (item: ButtonDropdownProps.Item) => void }\n> = ({ children, onItemClick, ...definition }) => {\n  const focusVisible = useFocusVisible();\n  const [expanded, setExpanded] = useState(false);\n  const headerId = useUniqueId('overflow-menu-item');\n\n  return (\n    <>\n      <button\n        className={clsx(styles['overflow-menu-control'], styles['overflow-menu-control-expandable-menu-trigger'])}\n        onClick={() => setExpanded(value => !value)}\n        aria-expanded={expanded}\n        {...focusVisible}\n      >\n        <ListItem\n          endIcon={\n            <span className={clsx(styles.icon, expanded && styles.expanded)}>\n              <InternalIcon name=\"caret-up-filled\" />\n            </span>\n          }\n        >\n          <span id={headerId}>{children}</span>\n        </ListItem>\n      </button>\n      {expanded && (\n        <ul\n          className={clsx(styles['overflow-menu-list'], styles['overflow-menu-list-submenu'])}\n          aria-labelledby={headerId}\n        >\n          {definition.items.map((item, index) => {\n            const isGroup = typeof (item as ButtonDropdownProps.ItemGroup).items !== 'undefined';\n\n            return (\n              <li\n                key={index}\n                className={clsx(styles[`overflow-menu-list-item`], styles[`overflow-menu-list-item-dropdown-menu`])}\n              >\n                {dropdownComponentFactory(item, isGroup, onItemClick)}\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </>\n  );\n};\n\nfunction utilityComponentFactory(\n  utility: TopNavigationProps.Utility,\n  index: number,\n  ref?: React.Ref<HTMLAnchorElement & HTMLButtonElement>\n) {\n  const label = utility.text || utility.title;\n  const hasIcon = !!utility.iconName || !!utility.iconUrl || !!utility.iconAlt || !!utility.iconSvg;\n  const startIcon = hasIcon && (\n    <InternalIcon name={utility.iconName} url={utility.iconUrl} alt={utility.iconAlt} svg={utility.iconSvg} />\n  );\n\n  switch (utility.type) {\n    case 'button': {\n      const handleClick = (event: Event | React.SyntheticEvent) => {\n        fireCancelableEvent(utility.onClick, {}, event);\n      };\n\n      if (utility.variant === 'primary-button') {\n        return (\n          <ButtonItem ref={ref} startIcon={startIcon} onFollow={handleClick} testId={`__${index}`}>\n            {label}\n          </ButtonItem>\n        );\n      }\n\n      return (\n        <LinkItem\n          ref={ref}\n          startIcon={startIcon}\n          href={utility.href}\n          external={utility.external}\n          testId={`__${index}`}\n          onFollow={handleClick}\n        >\n          {label}\n          {utility.external && (\n            <>\n              {' '}\n              <span aria-label={utility.externalIconAriaLabel} role={utility.externalIconAriaLabel ? 'img' : undefined}>\n                <InternalIcon name=\"external\" size=\"normal\" />\n              </span>\n            </>\n          )}\n        </LinkItem>\n      );\n    }\n    case 'menu-dropdown': {\n      return (\n        <NavigationItem\n          ref={ref}\n          startIcon={startIcon}\n          index={index}\n          {...(utility as TopNavigationProps.MenuDropdownUtility)}\n          testId={`__${index}`}\n        >\n          {label}\n        </NavigationItem>\n      );\n    }\n  }\n}\n\nfunction dropdownComponentFactory(\n  item: ButtonDropdownProps.ItemOrGroup,\n  expandable: boolean,\n  onItemClick: (item: ButtonDropdownProps.Item) => void\n) {\n  const label = item.text;\n  const hasIcon = !!item.iconName || !!item.iconUrl || !!item.iconAlt || !!item.iconSvg;\n  const startIcon = hasIcon && (\n    <InternalIcon name={item.iconName} url={item.iconUrl} alt={item.iconAlt} svg={item.iconSvg} />\n  );\n\n  if (expandable) {\n    return (\n      <ExpandableItem {...(item as ButtonDropdownProps.ItemGroup)} onItemClick={onItemClick}>\n        {label}\n      </ExpandableItem>\n    );\n  }\n\n  return (\n    <LinkItem\n      startIcon={startIcon}\n      href={item.href}\n      external={item.external}\n      context=\"dropdown-menu\"\n      testId={item.id}\n      onFollow={() => onItemClick(item as ButtonDropdownProps.Item)}\n    >\n      {label}\n      {item.external && (\n        <>\n          {' '}\n          <span aria-label={item.externalIconAriaLabel} role={item.externalIconAriaLabel ? 'img' : undefined}>\n            <InternalIcon name=\"external\" size=\"normal\" />\n          </span>\n        </>\n      )}\n    </LinkItem>\n  );\n}\n\ntype UtilityMenuItemProps = TopNavigationProps.Utility & { index: number };\n\nexport const UtilityMenuItem = forwardRef(\n  ({ index, ...props }: UtilityMenuItemProps, ref: React.Ref<HTMLAnchorElement & HTMLButtonElement>) => {\n    return (\n      <li className={clsx(styles[`overflow-menu-list-item`], styles[`overflow-menu-list-item-utility`])}>\n        {utilityComponentFactory(props, index, ref)}\n      </li>\n    );\n  }\n);\n\ntype SubmenuItemProps = ButtonDropdownProps.ItemOrGroup & { onItemClick: (item: ButtonDropdownProps.Item) => void };\n\nexport const SubmenuItem = (props: SubmenuItemProps) => {\n  const expandable = typeof (props as ButtonDropdownProps.ItemGroup).items !== 'undefined';\n\n  return (\n    <li\n      className={clsx(\n        styles[`overflow-menu-list-item`],\n        styles[`overflow-menu-list-item-submenu`],\n        expandable && styles[`overflow-menu-list-item-expandable`]\n      )}\n    >\n      {dropdownComponentFactory(props, expandable, props.onItemClick)}\n    </li>\n  );\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport FocusLock from 'react-focus-lock';\n\nimport { useNavigate } from '../router';\nimport Header from '../header';\nimport { SubmenuItem } from '../menu-item';\nimport { useUniqueId } from '../../../../internal/hooks/use-unique-id';\n\nimport { TopNavigationProps } from '../../../interfaces';\n\nimport { View } from '..';\nimport styles from '../../../styles.css.js';\nimport { fireCancelableEvent } from '../../../../internal/events';\n\ninterface SubmenuViewProps extends View {\n  definition: TopNavigationProps.MenuDropdownUtility;\n  utilityIndex?: number;\n}\n\nconst SubmenuView = ({\n  onClose,\n  utilityIndex,\n  headerText,\n  headerSecondaryText,\n  dismissIconAriaLabel,\n  backIconAriaLabel,\n  definition,\n}: SubmenuViewProps) => {\n  const navigate = useNavigate();\n  const headerId = useUniqueId('overflow-menu-header');\n\n  return (\n    <FocusLock returnFocus={true}>\n      <Header\n        secondaryText={headerSecondaryText}\n        dismissIconAriaLabel={dismissIconAriaLabel}\n        backIconAriaLabel={backIconAriaLabel}\n        onClose={onClose}\n        onBack={() => navigate('utilities', { utilityIndex })}\n      >\n        <span id={headerId}>{headerText}</span>\n      </Header>\n      <ul\n        className={clsx(styles['overflow-menu-list'], styles['overflow-menu-list-submenu'])}\n        aria-labelledby={headerId}\n      >\n        {(definition as TopNavigationProps.MenuDropdownUtility).items.map((item, index) => (\n          <SubmenuItem\n            key={index}\n            {...item}\n            onItemClick={item => {\n              fireCancelableEvent(definition.onItemClick, { id: item.id, href: item.href, external: item.external });\n              onClose?.();\n            }}\n          />\n        ))}\n      </ul>\n    </FocusLock>\n  );\n};\n\nexport default SubmenuView;\n"],
  "mappings": "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",
  "names": ["import_react", "import_react", "styles_css_default", "styles_css_default", "_b", "_a", "_d", "_c", "isSearchMinimized", "state", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "internal_default", "import_react", "styles_css_default", "React", "styles_css_default", "internal_default", "React", "styles_css_default", "internal_default", "import_react", "import_react", "React", "import_react", "React", "React", "import_prop_types", "import_react", "useMergeRefs", "import_react", "React", "InFocusGuard", "_ref", "PropTypes", "React", "import_react", "cbs", "React", "import_react", "React", "sideCar", "_ref", "SideCar", "onFocus", "onBlur", "useMergeRefs", "React", "import_prop_types", "import_react", "reducePropsToState", "handleStateChangeOnClient", "SideEffect", "React", "node", "node", "node", "node", "node", "node", "node", "node", "node", "node", "node", "inlineProp", "focusOnBody", "isFreeFocus", "defaultWhitelist", "focusWhitelisted", "recordPortal", "focusIsPortaledPair", "extractRef", "focusWasOutside", "checkInHost", "withinHost", "activateTrap", "_ref", "node", "onTrap", "onBlur", "onFocus", "FocusWatcher", "FocusTrap", "PropTypes", "onWindowBlur", "attachHandler", "detachHandler", "React", "import_prop_types", "AutoFocusInside", "_ref", "PropTypes", "React", "import_prop_types", "useFocusInside", "_ref", "PropTypes", "React", "import_prop_types", "FreeFocusInside", "_ref", "PropTypes", "es2015_default", "import_react", "React", "styles_css_default", "internal_default", "import_react", "React", "styles_css_default", "_a", "React", "es2015_default", "styles_css_default", "import_react", "React", "es2015_default", "styles_css_default", "item", "React", "styles_css_default", "overflowMenuOpen", "_a", "React", "styles_css_default", "_b", "_c", "React"]
}
