{
  "version": 3,
  "sources": ["../../src/internal/components/visual-context/index.tsx", "../../src/internal/components/portal/index.tsx", "../../src/button-dropdown/internal.tsx", "../../@cloudscape-design/components/button-dropdown/styles.css.js", "../../@cloudscape-design/components/internal/components/dropdown/styles.css.js", "../../src/internal/components/dropdown/index.tsx", "../../src/internal/components/dropdown/dropdown-fit-handler.ts", "../../src/internal/hooks/use-portal-mode-classes/index.ts", "../../src/internal/components/dropdown/context.tsx", "../../src/internal/components/tab-trap/index.tsx", "../../src/internal/components/focus-lock/utils.ts", "../../src/button-dropdown/items-list.tsx", "../../src/button-dropdown/item-element/index.tsx", "../../src/button-dropdown/utils/utils.ts", "../../@cloudscape-design/components/button-dropdown/item-element/styles.css.js", "../../src/button-dropdown/tooltip.tsx", "../../src/popover/arrow.tsx", "../../@cloudscape-design/components/popover/styles.css.js", "../../src/popover/container.tsx", "../../src/popover/utils/positions.ts", "../../src/popover/body.tsx", "../../src/internal/components/focus-lock/index.tsx", "../../src/button-dropdown/utils/use-hidden-description.tsx", "../../src/button-dropdown/utils/menu-item.ts", "../../src/button-dropdown/category-elements/expandable-category-element.tsx", "../../@cloudscape-design/components/button-dropdown/category-elements/styles.css.js", "../../src/button-dropdown/category-elements/category-element.tsx", "../../src/button-dropdown/category-elements/mobile-expandable-category-element.tsx", "../../src/button-dropdown/mobile-expandable-group/mobile-expandable-group.tsx", "../../@cloudscape-design/components/button-dropdown/mobile-expandable-group/styles.css.js", "../../src/internal/components/options-list/utils/use-open-state.ts", "../../src/button-dropdown/utils/use-highlighted-menu.ts", "../../src/button-dropdown/utils/create-items-tree.ts", "../../src/button-dropdown/utils/move-highlight.ts", "../../src/button-dropdown/utils/use-button-dropdown.ts", "../../src/internal/components/options-list/index.tsx", "../../@cloudscape-design/components/internal/components/options-list/styles.css.js"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useState } from 'react';\nimport { useMutationObserver } from '../../hooks/use-mutation-observer';\nimport { findUpUntil } from '../../utils/dom';\n\nexport const useVisualContext = (elementRef: React.RefObject<HTMLElement>) => {\n  const contextMatch = /awsui-context-([\\w-]+)/;\n  const [value, setValue] = useState('');\n  useMutationObserver(elementRef, node => {\n    const contextParent = findUpUntil(node, node => !!node.className.match(contextMatch));\n    setValue(contextParent ? contextParent.className.match(contextMatch)![1] : '');\n  });\n  return value;\n};\n\ninterface VisualContextProps {\n  contextName: string;\n  className?: string;\n  children: React.ReactNode;\n}\n\n/**\n * This function returns only the className string needed to apply a\n * visual context to the DOM. It is used by the default export but\n * can also be imported directly for situations where the insertion\n * of a <div> node creates style problems.\n */\nexport function getVisualContextClassname(contextName: string) {\n  return `awsui-context-${contextName}`;\n}\n\nexport default function VisualContext({ contextName, className, children }: VisualContextProps) {\n  return <div className={clsx(getVisualContextClassname(contextName), className)}>{children}</div>;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useLayoutEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nexport interface PortalProps {\n  container?: Element;\n  children: React.ReactNode;\n}\n\n/**\n * A safe react portal component that renders to a provided node.\n * If a node isn't provided, it creates one under document.body.\n */\nexport default function Portal({ container, children }: PortalProps) {\n  const [activeContainer, setActiveContainer] = useState<Element | null>(container ?? null);\n\n  useLayoutEffect(() => {\n    if (container) {\n      setActiveContainer(container);\n      return;\n    }\n    const newContainer = document.createElement('div');\n    document.body.appendChild(newContainer);\n    setActiveContainer(newContainer);\n    return () => {\n      document.body.removeChild(newContainer);\n      setActiveContainer(null);\n    };\n  }, [container]);\n\n  return activeContainer && createPortal(children, activeContainer);\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport { ButtonDropdownProps, InternalButtonDropdownProps } from './interfaces';\nimport { getBaseProps } from '../internal/base-component';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport Dropdown from '../internal/components/dropdown';\nimport ItemsList from './items-list';\nimport { useButtonDropdown } from './utils/use-button-dropdown';\nimport OptionsList from '../internal/components/options-list';\nimport { InternalButton } from '../button/internal';\nimport { ButtonProps } from '../button/interfaces';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport InternalBox from '../box/internal';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\n\nconst InternalButtonDropdown = React.forwardRef(\n  (\n    {\n      items,\n      variant = 'normal',\n      loading = false,\n      loadingText,\n      disabled = false,\n      expandableGroups = false,\n      children,\n      onItemClick,\n      onItemFollow,\n      customTriggerBuilder,\n      expandToViewport,\n      ariaLabel,\n      title,\n      description,\n      preferCenter,\n      __internalRootRef,\n      ...props\n    }: InternalButtonDropdownProps,\n    ref: React.Ref<ButtonDropdownProps.Ref>\n  ) => {\n    const isInRestrictedView = useMobile();\n    const dropdownId = useUniqueId('dropdown');\n    for (const item of items) {\n      checkSafeUrl('ButtonDropdown', item.href);\n    }\n\n    const {\n      isOpen,\n      targetItem,\n      isHighlighted,\n      isKeyboardHighlight,\n      isExpanded,\n      highlightItem,\n      onKeyDown,\n      onKeyUp,\n      onItemActivate,\n      onGroupToggle,\n      toggleDropdown,\n      setIsUsingMouse,\n    } = useButtonDropdown({\n      items,\n      onItemClick,\n      onItemFollow,\n      onReturnFocus: () => dropdownRef.current?.focus(),\n      expandToViewport,\n      hasExpandableGroups: expandableGroups,\n      isInRestrictedView,\n    });\n\n    const handleMouseEvent = () => {\n      setIsUsingMouse(true);\n    };\n\n    const baseProps = getBaseProps(props);\n\n    const dropdownRef = useRef<HTMLElement>(null);\n\n    useForwardFocus(ref, dropdownRef);\n\n    const clickHandler = () => {\n      if (!loading && !disabled) {\n        // Prevent moving highlight on mobiles to avoid disabled state reason popup if defined.\n        toggleDropdown({ moveHighlightOnOpen: !isInRestrictedView });\n      }\n    };\n\n    const canBeOpened = !loading && !disabled;\n\n    const triggerVariant = variant === 'navigation' ? undefined : variant;\n    const iconProps: Partial<ButtonProps & { __iconClass?: string }> =\n      variant === 'icon'\n        ? {\n            iconName: 'ellipsis',\n          }\n        : {\n            iconName: 'caret-down-filled',\n            iconAlign: 'right',\n            __iconClass: canBeOpened && isOpen ? styles['rotate-up'] : styles['rotate-down'],\n          };\n\n    const trigger = customTriggerBuilder ? (\n      customTriggerBuilder(clickHandler, dropdownRef, disabled, isOpen, ariaLabel)\n    ) : (\n      <InternalButton\n        ref={dropdownRef}\n        {...iconProps}\n        variant={triggerVariant}\n        loading={loading}\n        loadingText={loadingText}\n        disabled={disabled}\n        onClick={(event: Event) => {\n          event.preventDefault();\n          clickHandler();\n        }}\n        ariaLabel={ariaLabel}\n        aria-haspopup={true}\n        ariaExpanded={canBeOpened && isOpen}\n        formAction=\"none\"\n      >\n        {children}\n      </InternalButton>\n    );\n\n    const hasHeader = title || description;\n    const headerId = useUniqueId('awsui-button-dropdown__header');\n\n    return (\n      <div\n        {...baseProps}\n        onKeyDown={onKeyDown}\n        onKeyUp={onKeyUp}\n        onMouseDown={handleMouseEvent}\n        onMouseMove={handleMouseEvent}\n        className={clsx(styles['button-dropdown'], styles[`variant-${variant}`], baseProps.className)}\n        aria-owns={expandToViewport && isOpen ? dropdownId : undefined}\n        ref={__internalRootRef}\n      >\n        <Dropdown\n          open={canBeOpened && isOpen}\n          stretchWidth={false}\n          stretchTriggerHeight={variant === 'navigation'}\n          expandToViewport={expandToViewport}\n          preferCenter={preferCenter}\n          onDropdownClose={() => toggleDropdown()}\n          trigger={trigger}\n          dropdownId={dropdownId}\n        >\n          {hasHeader && (\n            <div className={styles.header} id={headerId}>\n              {title && (\n                <InternalBox fontSize=\"heading-s\" fontWeight=\"bold\">\n                  <span className={styles.title}>{title}</span>\n                </InternalBox>\n              )}\n              {description && (\n                <InternalBox fontSize=\"body-s\">\n                  <span className={styles.description}>{description}</span>\n                </InternalBox>\n              )}\n            </div>\n          )}\n          <OptionsList\n            open={canBeOpened && isOpen}\n            position=\"static\"\n            role=\"menu\"\n            decreaseTopMargin={true}\n            ariaLabelledby={hasHeader ? headerId : undefined}\n          >\n            <ItemsList\n              items={items}\n              onItemActivate={onItemActivate}\n              onGroupToggle={onGroupToggle}\n              hasExpandableGroups={expandableGroups}\n              targetItem={targetItem}\n              isHighlighted={isHighlighted}\n              isKeyboardHighlight={isKeyboardHighlight}\n              isExpanded={isExpanded}\n              highlightItem={highlightItem}\n              expandToViewport={expandToViewport}\n              variant={variant}\n            />\n          </OptionsList>\n        </Dropdown>\n      </div>\n    );\n  }\n);\n\nexport default InternalButtonDropdown;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"button-dropdown\": \"awsui_button-dropdown_sne0l_1gwdq_93\",\n  \"items-list-container\": \"awsui_items-list-container_sne0l_1gwdq_97\",\n  \"awsui-motion-fade-in-0\": \"awsui_awsui-motion-fade-in-0_sne0l_1gwdq_1\",\n  \"rotate-up\": \"awsui_rotate-up_sne0l_1gwdq_114\",\n  \"rotate-down\": \"awsui_rotate-down_sne0l_1gwdq_129\",\n  \"header\": \"awsui_header_sne0l_1gwdq_144\",\n  \"title\": \"awsui_title_sne0l_1gwdq_153\",\n  \"description\": \"awsui_description_sne0l_1gwdq_154\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"dropdown-content-wrapper\": \"awsui_dropdown-content-wrapper_qwoo0_1aum0_93\",\n  \"awsui-motion-fade-in-dropdown\": \"awsui_awsui-motion-fade-in-dropdown_qwoo0_1aum0_1\",\n  \"refresh\": \"awsui_refresh_qwoo0_1aum0_114\",\n  \"awsui-motion-fade-in-0\": \"awsui_awsui-motion-fade-in-0_qwoo0_1aum0_1\",\n  \"root\": \"awsui_root_qwoo0_1aum0_143\",\n  \"interior\": \"awsui_interior_qwoo0_1aum0_155\",\n  \"dropdown\": \"awsui_dropdown_qwoo0_1aum0_93\",\n  \"use-portal\": \"awsui_use-portal_qwoo0_1aum0_166\",\n  \"dropdown-drop-up\": \"awsui_dropdown-drop-up_qwoo0_1aum0_211\",\n  \"with-limited-width\": \"awsui_with-limited-width_qwoo0_1aum0_215\",\n  \"dropdown-drop-left\": \"awsui_dropdown-drop-left_qwoo0_1aum0_218\",\n  \"dropdown-drop-right\": \"awsui_dropdown-drop-right_qwoo0_1aum0_221\",\n  \"occupy-entire-width\": \"awsui_occupy-entire-width_qwoo0_1aum0_224\",\n  \"hide-upper-border\": \"awsui_hide-upper-border_qwoo0_1aum0_227\",\n  \"open\": \"awsui_open_qwoo0_1aum0_234\",\n  \"nowrap\": \"awsui_nowrap_qwoo0_1aum0_243\",\n  \"is-empty\": \"awsui_is-empty_qwoo0_1aum0_247\",\n  \"dropdown-content\": \"awsui_dropdown-content_qwoo0_1aum0_93\",\n  \"ie11-wrapper\": \"awsui_ie11-wrapper_qwoo0_1aum0_257\",\n  \"stretch-trigger-height\": \"awsui_stretch-trigger-height_qwoo0_1aum0_261\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\nimport React, { useEffect, useLayoutEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { fireNonCancelableEvent } from '../../events';\nimport { DropdownProps } from './interfaces';\nimport { DropdownPosition, InteriorDropdownPosition, calculatePosition } from './dropdown-fit-handler';\nimport { Transition, TransitionStatus } from '../transition';\nimport { useVisualRefresh } from '../../hooks/use-visual-mode';\nimport { usePortalModeClasses } from '../../hooks/use-portal-mode-classes';\nimport { DropdownContextProvider, DropdownContextProviderProps } from './context';\nimport { useMobile } from '../../hooks/use-mobile';\nimport TabTrap from '../tab-trap/index.js';\nimport { getFirstFocusable, getLastFocusable } from '../focus-lock/utils.js';\n\ninterface DropdownContainerProps {\n  children?: React.ReactNode;\n  renderWithPortal?: boolean;\n  id?: string;\n  open?: boolean;\n}\n\nconst DropdownContainer = ({ children, renderWithPortal = false, id, open }: DropdownContainerProps) => {\n  if (renderWithPortal) {\n    if (open) {\n      return createPortal(<div id={id}>{children}</div>, document.body);\n    } else {\n      return null;\n    }\n  } else {\n    return <>{children}</>;\n  }\n};\n\ninterface TransitionContentProps {\n  state: TransitionStatus;\n  transitionRef: React.MutableRefObject<any>;\n  dropdownClasses: string;\n  stretchWidth: boolean;\n  interior: boolean;\n  isRefresh: boolean;\n  dropdownRef: React.RefObject<HTMLDivElement>;\n  verticalContainerRef: React.RefObject<HTMLDivElement>;\n  expandToViewport?: boolean;\n  header?: React.ReactNode;\n  children?: React.ReactNode;\n  footer?: React.ReactNode;\n  position?: DropdownContextProviderProps['position'];\n  open?: boolean;\n  onMouseDown?: React.MouseEventHandler<Element>;\n}\n\nconst TransitionContent = ({\n  state,\n  transitionRef,\n  dropdownClasses,\n  stretchWidth,\n  interior,\n  isRefresh,\n  dropdownRef,\n  verticalContainerRef,\n  expandToViewport,\n  header,\n  children,\n  footer,\n  position,\n  open,\n  onMouseDown,\n}: TransitionContentProps) => {\n  const contentRef = useMergeRefs(dropdownRef, transitionRef);\n  return (\n    <div\n      className={clsx(styles.dropdown, dropdownClasses, {\n        [styles.open]: open,\n        [styles['with-limited-width']]: !stretchWidth,\n        [styles['hide-upper-border']]: stretchWidth,\n        [styles.interior]: interior,\n        [styles['is-empty']]: !header && !children,\n        [styles.refresh]: isRefresh,\n        [styles['use-portal']]: expandToViewport && !interior,\n      })}\n      ref={contentRef}\n      data-open={open}\n      data-animating={state !== 'exited'}\n      aria-hidden={!open}\n      onMouseDown={onMouseDown}\n    >\n      <div className={clsx(styles['dropdown-content-wrapper'], isRefresh && styles.refresh)}>\n        <div className={styles['ie11-wrapper']}>\n          <div ref={verticalContainerRef} className={styles['dropdown-content']}>\n            <DropdownContextProvider position={position}>\n              {header}\n              {children}\n              {footer}\n            </DropdownContextProvider>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Dropdown = ({\n  children,\n  trigger,\n  open,\n  onDropdownClose,\n  onMouseDown,\n  header,\n  footer,\n  dropdownId,\n  stretchTriggerHeight = false,\n  stretchWidth = true,\n  stretchHeight = false,\n  stretchToTriggerWidth = true,\n  expandToViewport = false,\n  preferCenter = false,\n  interior = false,\n  minWidth,\n  scrollable = true,\n  loopFocus = expandToViewport,\n  onFocus,\n  onBlur,\n  contentKey,\n}: DropdownProps) => {\n  const wrapperRef = useRef<HTMLDivElement | null>(null);\n  const triggerRef = useRef<HTMLDivElement | null>(null);\n  const dropdownRef = useRef<HTMLDivElement | null>(null);\n  const dropdownContainerRef = useRef<HTMLDivElement | null>(null);\n  // This container is only needed to apply max-height to. We can't move max-height to it's parent\n  // because of an IE11 issue with flexbox. https://github.com/philipwalton/flexbugs/issues/216\n  const verticalContainerRef = useRef<HTMLDivElement>(null);\n  // To keep track of the initial position (drop up/down) which is kept the same during fixed repositioning\n  const fixedPosition = useRef<DropdownPosition | null>(null);\n\n  const isRefresh = useVisualRefresh();\n\n  const dropdownClasses = usePortalModeClasses(triggerRef);\n  const [position, setPosition] = useState<DropdownContextProviderProps['position']>('bottom-right');\n\n  const isMobile = useMobile();\n\n  const setDropdownPosition = (\n    position: DropdownPosition | InteriorDropdownPosition,\n    triggerBox: DOMRect,\n    target: HTMLDivElement,\n    verticalContainer: HTMLDivElement\n  ) => {\n    const entireWidth = !interior && stretchWidth;\n    if (!stretchWidth) {\n      // 1px offset for dropdowns where the dropdown itself needs a border, rather than on the items\n      verticalContainer.style.maxHeight = `${parseInt(position.height) + 1}px`;\n    } else {\n      verticalContainer.style.maxHeight = position.height;\n    }\n\n    if (entireWidth && !expandToViewport) {\n      if (stretchToTriggerWidth) {\n        target.classList.add(styles['occupy-entire-width']);\n      }\n    } else {\n      target.style.width = position.width;\n    }\n    // Using styles for main dropdown to adjust its position as preferred alternative\n    if (position.dropUp && !interior) {\n      target.classList.add(styles['dropdown-drop-up']);\n      if (!expandToViewport) {\n        target.style.bottom = '100%';\n      }\n    } else {\n      target.classList.remove(styles['dropdown-drop-up']);\n    }\n    target.classList.add(position.dropLeft ? styles['dropdown-drop-left'] : styles['dropdown-drop-right']);\n\n    if (position.left && position.left !== 'auto') {\n      target.style.left = position.left;\n    }\n\n    // Position normal overflow dropdowns with fixed positioning relative to viewport\n    if (expandToViewport && !interior) {\n      target.style.position = 'fixed';\n      if (position.dropUp) {\n        target.style.bottom = `calc(100% - ${triggerBox.top}px)`;\n      } else {\n        target.style.top = `${triggerBox.bottom}px`;\n      }\n      if (position.dropLeft) {\n        target.style.left = `calc(${triggerBox.right}px - ${position.width})`;\n      } else {\n        target.style.left = `${triggerBox.left}px`;\n      }\n      // Keep track of the initial dropdown position and direction.\n      // Dropdown direction doesn't need to change as the user scrolls, just needs to stay attached to the trigger.\n      fixedPosition.current = position;\n      return;\n    }\n\n    // For an interior dropdown (the fly out) we need exact values for positioning\n    // and classes are not enough\n    // usage of relative position is impossible due to overwrite of overflow-x\n    if (interior && isInteriorPosition(position)) {\n      if (position.dropUp) {\n        target.style.bottom = position.bottom;\n      } else {\n        target.style.top = position.top;\n      }\n      target.style.left = position.left;\n    }\n\n    if (position.dropUp && position.dropLeft) {\n      setPosition('top-left');\n    } else if (position.dropUp) {\n      setPosition('top-right');\n    } else if (position.dropLeft) {\n      setPosition('bottom-left');\n    } else {\n      setPosition('bottom-right');\n    }\n  };\n\n  const isOutsideDropdown = (element: Element) =>\n    (!wrapperRef.current || !wrapperRef.current.contains(element)) &&\n    (!dropdownContainerRef.current || !dropdownContainerRef.current.contains(element));\n\n  const focusHandler = (event: React.FocusEvent) => {\n    if (!event.relatedTarget || isOutsideDropdown(event.relatedTarget)) {\n      fireNonCancelableEvent(onFocus, event);\n    }\n  };\n\n  const blurHandler = (event: React.FocusEvent) => {\n    if (!event.relatedTarget || isOutsideDropdown(event.relatedTarget)) {\n      fireNonCancelableEvent(onBlur, event);\n    }\n  };\n\n  useLayoutEffect(() => {\n    const onDropdownOpen = () => {\n      if (open && dropdownRef.current && triggerRef.current && verticalContainerRef.current) {\n        // calculate scroll width only for dropdowns that has a scrollbar and ignore it for date picker components\n        if (scrollable) {\n          dropdownRef.current.classList.add(styles.nowrap);\n        }\n        setDropdownPosition(\n          ...calculatePosition(\n            dropdownRef.current,\n            triggerRef.current,\n            verticalContainerRef.current,\n            interior,\n            expandToViewport,\n            preferCenter,\n            stretchWidth,\n            stretchHeight,\n            isMobile,\n            minWidth\n          ),\n          dropdownRef.current,\n          verticalContainerRef.current\n        );\n        if (scrollable) {\n          dropdownRef.current.classList.remove(styles.nowrap);\n        }\n      }\n    };\n    onDropdownOpen();\n\n    if (open) {\n      // window may scroll when dropdown opens, for example when soft keyboard shows up\n      window.addEventListener('scroll', onDropdownOpen);\n      // only listen to window scroll within very short time after the dropdown opens\n      // do not want to interfere dropdown position on scroll afterwards\n      const timeoutId = setTimeout(() => {\n        window.removeEventListener('scroll', onDropdownOpen);\n      }, 500);\n\n      return () => {\n        clearTimeout(timeoutId);\n        window.removeEventListener('scroll', onDropdownOpen);\n      };\n    }\n    // See AWSUI-13040\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open, dropdownRef, triggerRef, verticalContainerRef, interior, stretchWidth, isMobile, contentKey]);\n\n  // subscribe to outside click\n  useEffect(() => {\n    if (!open) {\n      return;\n    }\n    const clickListener = (e: MouseEvent) => {\n      if (!dropdownRef.current?.contains(e.target as Node)) {\n        fireNonCancelableEvent(onDropdownClose);\n      }\n    };\n\n    /*\n     * This small delay allows the event that opened the dropdown to\n     * finish bubbling, so that it is not immediately captured here.\n     */\n    const timeout = setTimeout(() => {\n      window.addEventListener('click', clickListener);\n    }, 0);\n\n    return () => {\n      clearTimeout(timeout);\n      window.removeEventListener('click', clickListener);\n    };\n  }, [open, onDropdownClose]);\n\n  // sync dropdown position on scroll and resize\n  useLayoutEffect(() => {\n    if (!expandToViewport || !open) {\n      return;\n    }\n    const updateDropdownPosition = () => {\n      if (triggerRef.current && dropdownRef.current && verticalContainerRef.current) {\n        const triggerRect = triggerRef.current.getBoundingClientRect();\n        const target = dropdownRef.current;\n        if (fixedPosition.current) {\n          if (fixedPosition.current.dropUp) {\n            dropdownRef.current.style.bottom = `calc(100% - ${triggerRect.top}px)`;\n          } else {\n            target.style.top = `${triggerRect.bottom}px`;\n          }\n          if (fixedPosition.current.dropLeft) {\n            target.style.left = `calc(${triggerRect.right}px - ${fixedPosition.current.width})`;\n          } else {\n            target.style.left = `${triggerRect.left}px`;\n          }\n        }\n      }\n    };\n\n    updateDropdownPosition();\n\n    window.addEventListener('scroll', updateDropdownPosition, true);\n    window.addEventListener('resize', updateDropdownPosition, true);\n    return () => {\n      window.removeEventListener('scroll', updateDropdownPosition, true);\n      window.removeEventListener('resize', updateDropdownPosition, true);\n    };\n  }, [open, expandToViewport]);\n\n  return (\n    <div\n      className={clsx(\n        styles.root,\n        interior && styles.interior,\n        stretchTriggerHeight && styles['stretch-trigger-height']\n      )}\n      ref={wrapperRef}\n      onFocus={focusHandler}\n      onBlur={blurHandler}\n    >\n      <div className={clsx(stretchTriggerHeight && styles['stretch-trigger-height'])} ref={triggerRef}>\n        {trigger}\n      </div>\n\n      <TabTrap\n        focusNextCallback={() => dropdownRef.current && getFirstFocusable(dropdownRef.current)?.focus()}\n        disabled={!open || !loopFocus}\n      />\n\n      <DropdownContainer renderWithPortal={expandToViewport && !interior} id={dropdownId} open={open}>\n        <Transition in={open ?? false} exit={false}>\n          {(state, ref) => (\n            <div ref={dropdownContainerRef}>\n              <TabTrap\n                focusNextCallback={() => triggerRef.current && getLastFocusable(triggerRef.current)?.focus()}\n                disabled={!open || !loopFocus}\n              />\n\n              <TransitionContent\n                state={state}\n                transitionRef={ref}\n                dropdownClasses={dropdownClasses}\n                open={open}\n                stretchWidth={stretchWidth}\n                interior={interior}\n                header={header}\n                expandToViewport={expandToViewport}\n                footer={footer}\n                onMouseDown={onMouseDown}\n                isRefresh={isRefresh}\n                dropdownRef={dropdownRef}\n                verticalContainerRef={verticalContainerRef}\n                position={position}\n              >\n                {children}\n              </TransitionContent>\n\n              <TabTrap\n                focusNextCallback={() => triggerRef.current && getFirstFocusable(triggerRef.current)?.focus()}\n                disabled={!open || !loopFocus}\n              />\n            </div>\n          )}\n        </Transition>\n      </DropdownContainer>\n    </div>\n  );\n};\n\nconst isInteriorPosition = (\n  position: DropdownPosition | InteriorDropdownPosition\n): position is InteriorDropdownPosition => (position as InteriorDropdownPosition).bottom !== undefined;\n\nexport default Dropdown;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { Dimensions, getOverflowParents, getOverflowParentDimensions } from '../../utils/scrollable-containers';\nimport styles from './styles.css.js';\n\nconst AVAILABLE_SPACE_RESERVE_DEFAULT = 50;\nconst AVAILABLE_SPACE_RESERVE_MOBILE_VERTICAL = 19; // 50 - 31\nconst AVAILABLE_SPACE_RESERVE_MOBILE_HORIZONTAL = 20;\n\ninterface AvailableSpace {\n  above: number;\n  below: number;\n  left: number;\n  right: number;\n}\nexport interface DropdownPosition {\n  height: string;\n  width: string;\n  dropUp: boolean;\n  dropLeft: boolean;\n  left: string;\n}\nexport interface InteriorDropdownPosition extends DropdownPosition {\n  bottom: string;\n  top: string;\n}\n\nconst getClosestParentDimensions = (element: HTMLElement): any => {\n  const parents = getOverflowParents(element).map(el => {\n    const { height, width, top, left } = el.getBoundingClientRect();\n    return {\n      height,\n      width,\n      top,\n      left,\n    };\n  });\n\n  return parents.shift();\n};\n\nexport const getAvailableSpace = (\n  trigger: HTMLElement,\n  dropdown: HTMLElement,\n  overflowParents: ReadonlyArray<Dimensions>,\n  stretchWidth = false,\n  stretchHeight = false,\n  isMobile?: boolean\n): AvailableSpace => {\n  const availableSpaceReserveVertical = stretchHeight\n    ? 0\n    : isMobile\n    ? AVAILABLE_SPACE_RESERVE_MOBILE_VERTICAL\n    : AVAILABLE_SPACE_RESERVE_DEFAULT;\n  const availableSpaceReserveHorizontal = stretchWidth\n    ? 0\n    : isMobile\n    ? AVAILABLE_SPACE_RESERVE_MOBILE_HORIZONTAL\n    : AVAILABLE_SPACE_RESERVE_DEFAULT;\n  const { bottom: triggerBottom, left: triggerLeft, right: triggerRight } = trigger.getBoundingClientRect();\n\n  return overflowParents.reduce(\n    ({ above, below, left, right }, overflowParent) => {\n      const offsetTop = triggerBottom - overflowParent.top;\n      const currentAbove = offsetTop - trigger.offsetHeight - availableSpaceReserveVertical;\n      const currentBelow = overflowParent.height - offsetTop - availableSpaceReserveVertical;\n      const currentLeft = triggerRight - overflowParent.left - availableSpaceReserveHorizontal;\n      const currentRight = overflowParent.left + overflowParent.width - triggerLeft - availableSpaceReserveHorizontal;\n\n      return {\n        above: Math.min(above, currentAbove),\n        below: Math.min(below, currentBelow),\n        left: Math.min(left, currentLeft),\n        right: Math.min(right, currentRight),\n      };\n    },\n    { above: Number.MAX_VALUE, below: Number.MAX_VALUE, left: Number.MAX_VALUE, right: Number.MAX_VALUE }\n  );\n};\n\nexport const getInteriorAvailableSpace = (\n  trigger: HTMLElement,\n  dropdown: HTMLElement,\n  overflowParents: ReadonlyArray<Dimensions>,\n  isMobile?: boolean\n): AvailableSpace => {\n  const AVAILABLE_SPACE_RESERVE_VERTICAL = isMobile\n    ? AVAILABLE_SPACE_RESERVE_MOBILE_VERTICAL\n    : AVAILABLE_SPACE_RESERVE_DEFAULT;\n  const AVAILABLE_SPACE_RESERVE_HORIZONTAL = isMobile\n    ? AVAILABLE_SPACE_RESERVE_MOBILE_HORIZONTAL\n    : AVAILABLE_SPACE_RESERVE_DEFAULT;\n  const {\n    bottom: triggerBottom,\n    top: triggerTop,\n    left: triggerLeft,\n    right: triggerRight,\n  } = trigger.getBoundingClientRect();\n\n  return overflowParents.reduce(\n    ({ above, below, left, right }, overflowParent) => {\n      const currentAbove = triggerBottom - overflowParent.top - AVAILABLE_SPACE_RESERVE_VERTICAL;\n      const currentBelow = overflowParent.height - triggerTop + overflowParent.top - AVAILABLE_SPACE_RESERVE_VERTICAL;\n      const currentLeft = triggerLeft - overflowParent.left - AVAILABLE_SPACE_RESERVE_HORIZONTAL;\n      const currentRight =\n        overflowParent.left + overflowParent.width - triggerRight - AVAILABLE_SPACE_RESERVE_HORIZONTAL;\n\n      return {\n        above: Math.min(above, currentAbove),\n        below: Math.min(below, currentBelow),\n        left: Math.min(left, currentLeft),\n        right: Math.min(right, currentRight),\n      };\n    },\n    { above: Number.MAX_VALUE, below: Number.MAX_VALUE, left: Number.MAX_VALUE, right: Number.MAX_VALUE }\n  );\n};\n\nexport const getDropdownPosition = (\n  trigger: HTMLElement,\n  dropdown: HTMLElement,\n  overflowParents: ReadonlyArray<Dimensions>,\n  minWidth?: number,\n  preferCenter = false,\n  stretchWidth = false,\n  stretchHeight = false,\n  isMobile?: boolean\n): DropdownPosition => {\n  const availableSpace = getAvailableSpace(trigger, dropdown, overflowParents, stretchWidth, stretchHeight, isMobile);\n  const triggerWidth = trigger.getBoundingClientRect().width;\n  minWidth = minWidth ? Math.min(triggerWidth, minWidth) : triggerWidth;\n  const requiredWidth = dropdown.getBoundingClientRect().width;\n  // dropdown should not be smaller than the trigger\n  const idealWidth = Math.max(requiredWidth, minWidth);\n\n  let dropLeft: boolean;\n  let left: number | null = null;\n  let width = idealWidth;\n\n  //1. Can it be positioned with ideal width to the right?\n  if (idealWidth <= availableSpace.right) {\n    dropLeft = false;\n    //2. Can it be positioned with ideal width to the left?\n  } else if (idealWidth <= availableSpace.left) {\n    dropLeft = true;\n    //3. Fit into biggest available space either on left or right\n  } else {\n    dropLeft = availableSpace.left > availableSpace.right;\n    width = Math.max(availableSpace.left, availableSpace.right, minWidth);\n  }\n\n  if (preferCenter) {\n    const spillOver = (idealWidth - triggerWidth) / 2;\n\n    // availableSpace always includes the trigger width, but we want to exclude that\n    const availableOutsideLeft = availableSpace.left - triggerWidth;\n    const availableOutsideRight = availableSpace.right - triggerWidth;\n\n    const fitsInCenter = availableOutsideLeft >= spillOver && availableOutsideRight >= spillOver;\n    if (fitsInCenter) {\n      left = -spillOver;\n    }\n  }\n\n  const dropUp = availableSpace.below < dropdown.offsetHeight && availableSpace.above > availableSpace.below;\n  const availableHeight = dropUp ? availableSpace.above : availableSpace.below;\n  // Try and crop the bottom item when all options can't be displayed, affordance for \"there's more\"\n  const croppedHeight = stretchHeight ? availableHeight : Math.floor(availableHeight / 31) * 31 + 16;\n\n  return {\n    dropUp,\n    dropLeft,\n    left: left === null ? 'auto' : `${left}px`,\n    height: `${croppedHeight}px`,\n    width: `${width}px`,\n  };\n};\n\nexport const getInteriorDropdownPosition = (\n  trigger: HTMLElement,\n  dropdown: HTMLElement,\n  overflowParents: ReadonlyArray<Dimensions>,\n  isMobile?: boolean\n): InteriorDropdownPosition => {\n  const availableSpace = getInteriorAvailableSpace(trigger, dropdown, overflowParents, isMobile);\n  const { bottom: triggerBottom, top: triggerTop, width: triggerWidth } = trigger.getBoundingClientRect();\n  const { top: parentDropdownTop, height: parentDropdownHeight } = getClosestParentDimensions(trigger);\n\n  let dropLeft;\n\n  let width = dropdown.getBoundingClientRect().width;\n  const top = triggerTop - parentDropdownTop;\n  if (width <= availableSpace.right) {\n    dropLeft = false;\n  } else if (width <= availableSpace.left) {\n    dropLeft = true;\n  } else {\n    dropLeft = availableSpace.left > availableSpace.right;\n    width = Math.max(availableSpace.left, availableSpace.right);\n  }\n\n  const left = dropLeft ? 0 - width : triggerWidth;\n\n  const dropUp = availableSpace.below < dropdown.offsetHeight && availableSpace.above > availableSpace.below;\n  const bottom = dropUp ? parentDropdownTop + parentDropdownHeight - triggerBottom : 0;\n  const availableHeight = dropUp ? availableSpace.above : availableSpace.below;\n  // Try and crop the bottom item when all options can't be displayed, affordance for \"there's more\"\n  const croppedHeight = Math.floor(availableHeight / 31) * 31 + 16;\n\n  return {\n    dropUp,\n    dropLeft,\n    height: `${croppedHeight}px`,\n    width: `${width}px`,\n    top: `${top}px`,\n    bottom: `${bottom}px`,\n    left: `${left}px`,\n  };\n};\n\nexport const calculatePosition = (\n  dropdownElement: HTMLDivElement,\n  triggerElement: HTMLDivElement,\n  verticalContainerElement: HTMLDivElement,\n  interior: boolean,\n  expandToViewport: boolean,\n  preferCenter: boolean,\n  stretchWidth: boolean,\n  stretchHeight: boolean,\n  isMobile: boolean,\n  minWidth?: number\n): [DropdownPosition, DOMRect] => {\n  // cleaning previously assigned values,\n  // so that they are not reused in case of screen resize and similar events\n  verticalContainerElement.style.maxHeight = '';\n  dropdownElement.style.width = '';\n  dropdownElement.style.top = '';\n  dropdownElement.style.bottom = '';\n  dropdownElement.style.left = '';\n\n  dropdownElement.classList.remove(styles['dropdown-drop-left']);\n  dropdownElement.classList.remove(styles['dropdown-drop-right']);\n  dropdownElement.classList.remove(styles['dropdown-drop-up']);\n\n  const overflowParents = getOverflowParentDimensions(dropdownElement, interior, expandToViewport, stretchHeight);\n  const position = interior\n    ? getInteriorDropdownPosition(triggerElement, dropdownElement, overflowParents, isMobile)\n    : getDropdownPosition(\n        triggerElement,\n        dropdownElement,\n        overflowParents,\n        minWidth,\n        preferCenter,\n        stretchWidth,\n        stretchHeight,\n        isMobile\n      );\n  const triggerBox = triggerElement.getBoundingClientRect();\n  return [position, triggerBox];\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React from 'react';\nimport { useVisualContext } from '../../components/visual-context';\nimport { useCurrentMode, useDensityMode, useVisualRefresh } from '../use-visual-mode';\n\nexport function usePortalModeClasses(ref: React.RefObject<HTMLElement>) {\n  const colorMode = useCurrentMode(ref);\n  const densityMode = useDensityMode(ref);\n  const context = useVisualContext(ref);\n  const visualRefresh = useVisualRefresh();\n  return clsx({\n    'awsui-polaris-dark-mode awsui-dark-mode': colorMode === 'dark',\n    'awsui-polaris-compact-mode awsui-compact-mode': densityMode === 'compact',\n    'awsui-visual-refresh': visualRefresh,\n    [`awsui-context-${context}`]: context,\n  });\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useContext } from 'react';\n\ntype Position = 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\n\nconst DropdownContext = React.createContext<{ position: Position }>({\n  position: 'bottom-right',\n});\n\nexport interface DropdownContextProviderProps {\n  position?: Position;\n  children?: React.ReactNode;\n}\n\nexport function DropdownContextProvider({ children, position = 'bottom-right' }: DropdownContextProviderProps) {\n  return <DropdownContext.Provider value={{ position }}>{children}</DropdownContext.Provider>;\n}\n\nexport function useDropdownContext() {\n  return useContext(DropdownContext);\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nexport interface TabTrapProps {\n  focusNextCallback: FocusNextElement;\n  disabled?: boolean;\n}\n\nexport interface FocusNextElement {\n  (): void;\n}\n\n// This component handles focus-forwarding when navigating through the calendar grid.\n// When the customer focuses that component the `next` callback function is called\n// with forwards the focus.\nexport default function TabTrap({ focusNextCallback, disabled = false }: TabTrapProps) {\n  return <div tabIndex={disabled ? -1 : 0} onFocus={focusNextCallback} />;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// Credits to\n// https://github.com/theKashey/focus-lock/blob/33f8b4bd9675d2605b15e2e4015b77fe35fbd6d0/src/utils/tabbables.ts\nconst tabbables = [\n  'button:enabled',\n  'select:enabled',\n  'textarea:enabled',\n  'input:enabled',\n\n  'a[href]',\n  'area[href]',\n\n  'summary',\n  'iframe',\n  'object',\n  'embed',\n\n  'audio[controls]',\n  'video[controls]',\n\n  '[tabindex]',\n  '[contenteditable]',\n  '[autofocus]',\n].join(',');\n\nexport function getFocusables(container: HTMLElement): HTMLElement[] {\n  return Array.prototype.slice\n    .call(container.querySelectorAll(tabbables))\n    .filter((element: HTMLElement) => element.tabIndex !== -1);\n}\n\nexport function getFirstFocusable(container: HTMLElement) {\n  const focusables = getFocusables(container);\n  return focusables[0] ?? null;\n}\n\nexport function getLastFocusable(container: HTMLElement) {\n  const focusables = getFocusables(container);\n  return focusables[focusables.length - 1] ?? null;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { ItemListProps } from './interfaces';\nimport ItemElement from './item-element';\nimport ExpandableCategoryElement from './category-elements/expandable-category-element';\nimport CategoryElement from './category-elements/category-element';\nimport { isItemGroup } from './utils/utils';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport MobileExpandableCategoryElement from './category-elements/mobile-expandable-category-element';\n\nexport default function ItemsList({\n  items,\n  onItemActivate,\n  onGroupToggle,\n  targetItem,\n  isHighlighted,\n  isKeyboardHighlight,\n  isExpanded,\n  highlightItem,\n  categoryDisabled = false,\n  hasExpandableGroups = false,\n  hasCategoryHeader = false,\n  expandToViewport = false,\n  variant = 'normal',\n}: ItemListProps) {\n  const isMobile = useMobile();\n\n  const elements = items.map((item, index) => {\n    if (!isItemGroup(item)) {\n      return (\n        <ItemElement\n          key={index}\n          item={item}\n          onItemActivate={onItemActivate}\n          disabled={item.disabled ?? categoryDisabled}\n          highlighted={isHighlighted(item)}\n          isKeyboardHighlighted={isKeyboardHighlight(item)}\n          highlightItem={highlightItem}\n          first={index === 0 || isItemGroup(items[index - 1])}\n          last={index === items.length - 1 || isItemGroup(items[index + 1])}\n          hasCategoryHeader={hasCategoryHeader}\n          variant={variant}\n        />\n      );\n    }\n    if (hasExpandableGroups) {\n      return item.text ? (\n        isMobile ? (\n          <MobileExpandableCategoryElement\n            key={index}\n            item={item}\n            onItemActivate={onItemActivate}\n            onGroupToggle={onGroupToggle}\n            targetItem={targetItem}\n            isHighlighted={isHighlighted}\n            isKeyboardHighlight={isKeyboardHighlight}\n            isExpanded={isExpanded}\n            highlightItem={highlightItem}\n            disabled={item.disabled ?? false}\n            variant={variant}\n          />\n        ) : (\n          <ExpandableCategoryElement\n            key={index}\n            item={item}\n            onItemActivate={onItemActivate}\n            onGroupToggle={onGroupToggle}\n            targetItem={targetItem}\n            isHighlighted={isHighlighted}\n            isKeyboardHighlight={isKeyboardHighlight}\n            isExpanded={isExpanded}\n            highlightItem={highlightItem}\n            disabled={item.disabled ?? false}\n            expandToViewport={expandToViewport}\n            variant={variant}\n          />\n        )\n      ) : null;\n    }\n    return (\n      <CategoryElement\n        key={index}\n        item={item}\n        onItemActivate={onItemActivate}\n        onGroupToggle={onGroupToggle}\n        targetItem={targetItem}\n        isHighlighted={isHighlighted}\n        isKeyboardHighlight={isKeyboardHighlight}\n        isExpanded={isExpanded}\n        highlightItem={highlightItem}\n        disabled={item.disabled ?? false}\n        variant={variant}\n      />\n    );\n  });\n\n  return <>{elements}</>;\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\nimport { ItemProps } from '../interfaces';\nimport { isLinkItem } from '../utils/utils';\nimport styles from './styles.css.js';\nimport Tooltip from '../tooltip';\n\nimport { ButtonDropdownProps } from '../interfaces';\nimport { getItemTarget } from '../utils/utils';\nimport useHiddenDescription from '../utils/use-hidden-description';\nimport InternalIcon, { InternalIconProps } from '../../icon/internal';\nimport { useDropdownContext } from '../../internal/components/dropdown/context';\nimport { getMenuItemProps } from '../utils/menu-item';\n\nconst ItemElement = ({\n  item,\n  disabled,\n  onItemActivate,\n  highlighted,\n  highlightItem,\n  first = false,\n  last,\n  hasCategoryHeader,\n  isKeyboardHighlighted = false,\n  variant = 'normal',\n}: ItemProps) => {\n  const isLink = isLinkItem(item);\n  const onClick = (event: React.MouseEvent) => {\n    // Stop propagation to parent node and handle event exclusively in here. This ensures\n    // that no group will interfere with the default behavior of links\n    event.stopPropagation();\n    if (!isLink) {\n      event.preventDefault();\n    }\n    if (!disabled) {\n      onItemActivate(item, event);\n    }\n  };\n\n  const onHover = (event: React.SyntheticEvent) => {\n    event.preventDefault();\n    highlightItem(item);\n  };\n\n  return (\n    <li\n      className={clsx(styles['item-element'], styles[`variant-${variant}`], {\n        [styles.highlighted]: highlighted,\n        [styles.disabled]: disabled,\n        [styles.first]: first,\n        [styles.last]: last,\n        [styles['has-category-header']]: hasCategoryHeader,\n        [styles['is-focused']]: isKeyboardHighlighted,\n      })}\n      role=\"presentation\"\n      data-testid={item.id}\n      data-description={item.description}\n      onClick={onClick}\n      onMouseEnter={onHover}\n      onTouchStart={onHover}\n    >\n      <MenuItem item={item} disabled={disabled} highlighted={highlighted} />\n    </li>\n  );\n};\n\ninterface MenuItemProps {\n  item: ButtonDropdownProps.Item;\n  disabled: boolean;\n  highlighted: boolean;\n}\n\nfunction MenuItem({ item, disabled, highlighted }: MenuItemProps) {\n  const menuItemRef = useRef<HTMLSpanElement | HTMLAnchorElement>(null);\n\n  useEffect(() => {\n    if (highlighted && menuItemRef.current) {\n      menuItemRef.current.focus();\n    }\n  }, [highlighted]);\n\n  const isDisabledWithReason = disabled && item.disabledReason;\n  const { targetProps, descriptionEl } = useHiddenDescription(item.disabledReason);\n  const menuItemProps: React.HTMLProps<HTMLSpanElement | HTMLAnchorElement> = {\n    className: styles['menu-item'],\n    ref: menuItemRef,\n    // We are using the roving tabindex technique to manage the focus state of the dropdown.\n    // The current element will always have tabindex=0 which means that it can be tabbed to,\n    // while all other items have tabindex=-1 so we can focus them when necessary.\n    tabIndex: highlighted ? 0 : -1,\n    ...getMenuItemProps({ disabled }),\n    ...(isDisabledWithReason ? targetProps : {}),\n  };\n  const menuItem = isLinkItem(item) ? (\n    <a\n      {...(menuItemProps as React.HTMLProps<HTMLAnchorElement>)}\n      href={!disabled ? item.href : undefined}\n      target={getItemTarget(item)}\n      rel={item.external ? 'noopener noreferrer' : undefined}\n    >\n      <MenuItemContent item={item} disabled={disabled} />\n    </a>\n  ) : (\n    <span {...menuItemProps}>\n      <MenuItemContent item={item} disabled={disabled} />\n    </span>\n  );\n\n  const { position } = useDropdownContext();\n  const tooltipPosition = position === 'bottom-left' || position === 'top-left' ? 'left' : 'right';\n  return isDisabledWithReason ? (\n    <Tooltip content={item.disabledReason} position={tooltipPosition}>\n      {menuItem}\n      {descriptionEl}\n    </Tooltip>\n  ) : (\n    menuItem\n  );\n}\n\nconst MenuItemContent = ({ item, disabled }: { item: ButtonDropdownProps.Item; disabled: boolean }) => {\n  const hasIcon = !!(item.iconName || item.iconUrl || item.iconSvg);\n  const hasExternal = isLinkItem(item) && item.external;\n  return (\n    <>\n      {hasIcon && <MenuItemIcon name={item.iconName} url={item.iconUrl} svg={item.iconSvg} alt={item.iconAlt} />}{' '}\n      {item.text} {hasExternal && <ExternalIcon disabled={disabled} ariaLabel={item.externalIconAriaLabel} />}\n    </>\n  );\n};\n\nconst MenuItemIcon = (props: InternalIconProps) => (\n  <span className={styles.icon}>\n    <InternalIcon {...props} />\n  </span>\n);\n\nconst ExternalIcon = ({ disabled, ariaLabel }: { disabled: boolean; ariaLabel?: string }) => {\n  const icon = <InternalIcon variant={disabled ? 'disabled' : 'normal'} name=\"external\" />;\n  return (\n    <span className={styles['external-icon']} role={ariaLabel ? 'img' : undefined} aria-label={ariaLabel}>\n      {icon}\n    </span>\n  );\n};\n\nexport default ItemElement;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ButtonDropdownProps, LinkItem } from '../interfaces';\n\nexport const isItemGroup = (item: ButtonDropdownProps.ItemOrGroup): item is ButtonDropdownProps.ItemGroup =>\n  item && (item as ButtonDropdownProps.ItemGroup).items !== undefined;\n\nexport const isLinkItem = (item: LinkItem | ButtonDropdownProps.ItemOrGroup): item is LinkItem =>\n  item && (item as LinkItem).href !== undefined;\n\nexport const getItemTarget = (item: ButtonDropdownProps.Item) => (item.external ? '_blank' : undefined);\n\nexport function indexIncludes(source: number[], target: number[]) {\n  for (let index = 0; index < source.length; index++) {\n    if (source[index] !== target[index]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function indexEquals(left: number[], right: number[]) {\n  if (left.length !== right.length) {\n    return false;\n  }\n\n  for (let index = 0; index < left.length; index++) {\n    if (left[index] !== right[index]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"item-element\": \"awsui_item-element_93a1u_lwral_93\",\n  \"disabled\": \"awsui_disabled_93a1u_lwral_103\",\n  \"last\": \"awsui_last_93a1u_lwral_110\",\n  \"highlighted\": \"awsui_highlighted_93a1u_lwral_113\",\n  \"variant-icon\": \"awsui_variant-icon_93a1u_lwral_117\",\n  \"variant-normal\": \"awsui_variant-normal_93a1u_lwral_117\",\n  \"variant-primary\": \"awsui_variant-primary_93a1u_lwral_117\",\n  \"is-focused\": \"awsui_is-focused_93a1u_lwral_127\",\n  \"variant-navigation\": \"awsui_variant-navigation_93a1u_lwral_131\",\n  \"first\": \"awsui_first_93a1u_lwral_134\",\n  \"has-category-header\": \"awsui_has-category-header_93a1u_lwral_134\",\n  \"menu-item\": \"awsui_menu-item_93a1u_lwral_148\",\n  \"icon\": \"awsui_icon_93a1u_lwral_166\",\n  \"external-icon\": \"awsui_external-icon_93a1u_lwral_171\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { KeyboardEventHandler, useRef, useState } from 'react';\n\nimport Arrow from '../popover/arrow';\nimport PopoverContainer from '../popover/container';\nimport PopoverBody from '../popover/body';\nimport Portal from '../internal/components/portal';\nimport { usePortalModeClasses } from '../internal/hooks/use-portal-mode-classes';\nimport { useReducedMotion } from '../internal/hooks/use-visual-mode';\n\nexport interface TooltipProps {\n  children?: React.ReactNode;\n  content?: React.ReactNode;\n  position?: 'top' | 'right' | 'bottom' | 'left';\n}\n\nconst DEFAULT_OPEN_TIMEOUT_IN_MS = 120;\n\nexport default function Tooltip({ children, content, position = 'right' }: TooltipProps) {\n  const ref = useRef<HTMLSpanElement | null>(null);\n  const isReducedMotion = useReducedMotion(ref);\n  const { open, triggerProps } = useTooltipOpen(isReducedMotion ? 0 : DEFAULT_OPEN_TIMEOUT_IN_MS);\n  const portalClasses = usePortalModeClasses(ref);\n\n  return (\n    <span ref={ref} {...triggerProps}>\n      {children}\n      {open && (\n        <Portal>\n          <span className={portalClasses}>\n            <PopoverContainer\n              size=\"small\"\n              fixedWidth={false}\n              position={position}\n              trackRef={ref}\n              arrow={position => <Arrow position={position} />}\n              renderWithPortal={true}\n              zIndex={7000}\n            >\n              <PopoverBody\n                dismissButton={false}\n                dismissAriaLabel={undefined}\n                header={null}\n                onDismiss={() => {}}\n                overflowVisible=\"both\"\n              >\n                <span data-testid=\"button-dropdown-disabled-reason\" role=\"tooltip\">\n                  {content}\n                </span>\n              </PopoverBody>\n            </PopoverContainer>\n          </span>\n        </Portal>\n      )}\n    </span>\n  );\n}\n\nfunction useTooltipOpen(timeout: number) {\n  const handle = useRef<number>();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const close = () => {\n    clearTimeout(handle.current);\n    setIsOpen(false);\n  };\n  const open = () => setIsOpen(true);\n  const openDelayed = () => {\n    handle.current = setTimeout(open, timeout);\n  };\n  const onKeyDown: KeyboardEventHandler = e => {\n    if (isOpen && isEscape(e.key)) {\n      e.preventDefault();\n      e.stopPropagation();\n      close();\n    }\n  };\n\n  const onFocus = openDelayed;\n  const onBlur = close;\n\n  return {\n    open: isOpen,\n    triggerProps: {\n      onBlur,\n      onFocus,\n      onKeyDown,\n    },\n  };\n}\n\nconst isEscape = (key: string) => key === 'Escape' || key === 'Esc';\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport styles from './styles.css.js';\nimport { InternalPosition } from './interfaces';\n\nexport interface ArrowProps {\n  position: InternalPosition | null;\n}\n\nconst Arrow = (props: ArrowProps) => (\n  <div className={clsx(styles.arrow, props.position && styles[`arrow-position-${props.position}`])}>\n    <div className={styles['arrow-outer']} />\n    <div className={styles['arrow-inner']} />\n  </div>\n);\n\nexport default React.memo(Arrow);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"arrow\": \"awsui_arrow_xjuzf_10pru_185\",\n  \"arrow-outer\": \"awsui_arrow-outer_xjuzf_10pru_189\",\n  \"arrow-inner\": \"awsui_arrow-inner_xjuzf_10pru_189\",\n  \"arrow-position-right-top\": \"awsui_arrow-position-right-top_xjuzf_10pru_220\",\n  \"arrow-position-right-bottom\": \"awsui_arrow-position-right-bottom_xjuzf_10pru_220\",\n  \"arrow-position-left-top\": \"awsui_arrow-position-left-top_xjuzf_10pru_223\",\n  \"arrow-position-left-bottom\": \"awsui_arrow-position-left-bottom_xjuzf_10pru_223\",\n  \"arrow-position-top-center\": \"awsui_arrow-position-top-center_xjuzf_10pru_226\",\n  \"arrow-position-top-right\": \"awsui_arrow-position-top-right_xjuzf_10pru_226\",\n  \"arrow-position-top-left\": \"awsui_arrow-position-top-left_xjuzf_10pru_226\",\n  \"arrow-position-top-responsive\": \"awsui_arrow-position-top-responsive_xjuzf_10pru_226\",\n  \"arrow-position-bottom-center\": \"awsui_arrow-position-bottom-center_xjuzf_10pru_229\",\n  \"arrow-position-bottom-right\": \"awsui_arrow-position-bottom-right_xjuzf_10pru_229\",\n  \"arrow-position-bottom-left\": \"awsui_arrow-position-bottom-left_xjuzf_10pru_229\",\n  \"arrow-position-bottom-responsive\": \"awsui_arrow-position-bottom-responsive_xjuzf_10pru_229\",\n  \"body\": \"awsui_body_xjuzf_10pru_325\",\n  \"body-overflow-visible\": \"awsui_body-overflow-visible_xjuzf_10pru_339\",\n  \"has-dismiss\": \"awsui_has-dismiss_xjuzf_10pru_343\",\n  \"dismiss\": \"awsui_dismiss_xjuzf_10pru_348\",\n  \"dismiss-control\": \"awsui_dismiss-control_xjuzf_10pru_355\",\n  \"header-row\": \"awsui_header-row_xjuzf_10pru_359\",\n  \"header\": \"awsui_header_xjuzf_10pru_359\",\n  \"content\": \"awsui_content_xjuzf_10pru_381\",\n  \"content-overflow-visible\": \"awsui_content-overflow-visible_xjuzf_10pru_388\",\n  \"container\": \"awsui_container_xjuzf_10pru_484\",\n  \"container-body\": \"awsui_container-body_xjuzf_10pru_492\",\n  \"container-body-variant-annotation\": \"awsui_container-body-variant-annotation_xjuzf_10pru_507\",\n  \"container-body-size-small\": \"awsui_container-body-size-small_xjuzf_10pru_512\",\n  \"fixed-width\": \"awsui_fixed-width_xjuzf_10pru_515\",\n  \"container-body-size-medium\": \"awsui_container-body-size-medium_xjuzf_10pru_519\",\n  \"container-body-size-large\": \"awsui_container-body-size-large_xjuzf_10pru_526\",\n  \"container-arrow\": \"awsui_container-arrow_xjuzf_10pru_538\",\n  \"container-arrow-position-right-top\": \"awsui_container-arrow-position-right-top_xjuzf_10pru_542\",\n  \"container-arrow-position-right-bottom\": \"awsui_container-arrow-position-right-bottom_xjuzf_10pru_542\",\n  \"container-arrow-position-left-top\": \"awsui_container-arrow-position-left-top_xjuzf_10pru_554\",\n  \"container-arrow-position-left-bottom\": \"awsui_container-arrow-position-left-bottom_xjuzf_10pru_554\",\n  \"container-arrow-position-top-center\": \"awsui_container-arrow-position-top-center_xjuzf_10pru_566\",\n  \"container-arrow-position-top-right\": \"awsui_container-arrow-position-top-right_xjuzf_10pru_566\",\n  \"container-arrow-position-top-left\": \"awsui_container-arrow-position-top-left_xjuzf_10pru_566\",\n  \"container-arrow-position-top-responsive\": \"awsui_container-arrow-position-top-responsive_xjuzf_10pru_566\",\n  \"container-arrow-position-bottom-center\": \"awsui_container-arrow-position-bottom-center_xjuzf_10pru_582\",\n  \"container-arrow-position-bottom-right\": \"awsui_container-arrow-position-bottom-right_xjuzf_10pru_586\",\n  \"container-arrow-position-bottom-left\": \"awsui_container-arrow-position-bottom-left_xjuzf_10pru_590\",\n  \"awsui-motion-fade-in\": \"awsui_awsui-motion-fade-in_xjuzf_10pru_1\",\n  \"refresh\": \"awsui_refresh_xjuzf_10pru_708\",\n  \"root\": \"awsui_root_xjuzf_10pru_730\",\n  \"trigger\": \"awsui_trigger_xjuzf_10pru_743\",\n  \"trigger-type-text\": \"awsui_trigger-type-text_xjuzf_10pru_750\",\n  \"trigger-inner-text\": \"awsui_trigger-inner-text_xjuzf_10pru_779\",\n  \"popover-content\": \"awsui_popover-content_xjuzf_10pru_783\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { CSSProperties, useCallback, useLayoutEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { getContainingBlock, nodeContains } from '../internal/utils/dom';\nimport { useResizeObserver } from '../internal/hooks/container-queries';\nimport { BoundingOffset, InternalPosition, Offset, PopoverProps } from './interfaces';\nimport { calculatePosition } from './utils/positions';\nimport styles from './styles.css.js';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\n\nexport interface PopoverContainerProps {\n  /** References the element the container is positioned against. */\n  trackRef: React.RefObject<Element>;\n  /**\n    Used to update the container position in case track or track position changes:\n    \n    const trackRef = useRef<Element>(null)\n    return (<>\n      <Track style={getPosition(selectedItemId)} ref={trackRef} />\n      <PopoverContainer trackRef={trackRef} trackKey={selectedItemId} .../>\n    </>)\n  */\n  trackKey?: string | number;\n  position: PopoverProps.Position;\n  zIndex?: React.CSSProperties['zIndex'];\n  arrow: (position: InternalPosition | null) => React.ReactNode;\n  children: React.ReactNode;\n  renderWithPortal?: boolean;\n  size: PopoverProps.Size;\n  fixedWidth: boolean;\n  variant?: 'annotation';\n}\n\nconst INITIAL_STYLES: CSSProperties = { position: 'absolute', top: -9999, left: -9999 };\n\nexport default function PopoverContainer({\n  position,\n  trackRef,\n  trackKey,\n  arrow,\n  children,\n  zIndex,\n  renderWithPortal,\n  size,\n  fixedWidth,\n  variant,\n}: PopoverContainerProps) {\n  const bodyRef = useRef<HTMLDivElement | null>(null);\n  const contentRef = useRef<HTMLDivElement | null>(null);\n  const popoverRef = useRef<HTMLDivElement | null>(null);\n  const arrowRef = useRef<HTMLDivElement | null>(null);\n\n  const [popoverStyle, setPopoverStyle] = useState<CSSProperties>(INITIAL_STYLES);\n  const [internalPosition, setInternalPosition] = useState<InternalPosition | null>(null);\n  const isRefresh = useVisualRefresh();\n\n  // Store the handler in a ref so that it can still be replaced from outside of the listener closure.\n  const positionHandlerRef = useRef<() => void>(() => {});\n\n  // Updates the position handler.\n  const updatePositionHandler = useCallback(() => {\n    if (!trackRef.current || !popoverRef.current || !bodyRef.current || !contentRef.current || !arrowRef.current) {\n      return;\n    }\n\n    // Get important elements\n    const popover = popoverRef.current;\n    const body = bodyRef.current;\n    const arrow = arrowRef.current;\n    const document = popover.ownerDocument;\n    const track = trackRef.current;\n\n    // If the popover body isn't being rendered for whatever reason (e.g. \"display: none\" or JSDOM),\n    // or track does not belong to the document - bail on calculating dimensions.\n    if (popover.offsetWidth === 0 || popover.offsetHeight === 0 || !nodeContains(document.body, track)) {\n      return;\n    }\n\n    // Imperatively move body off-screen to give it room to expand.\n    // Not doing this in React because this recalculation should happen\n    // in the span of a single frame without rerendering anything.\n    const prevTop = popover.style.top;\n    const prevLeft = popover.style.left;\n    popover.style.top = '0';\n    popover.style.left = '0';\n    // Imperatively remove body styles that can remain from the previous computation.\n    body.style.maxHeight = '';\n    body.style.overflowX = '';\n    body.style.overflowY = '';\n\n    // Get rects representing key elements\n    // Use getComputedStyle for arrowRect to avoid modifications made by transform\n    const viewportRect = getViewportRect(document.defaultView!);\n    const trackRect = track.getBoundingClientRect();\n    const arrowRect = {\n      width: parseFloat(getComputedStyle(arrow).width),\n      height: parseFloat(getComputedStyle(arrow).height),\n    };\n    const containingBlock = getContainingBlock(popover);\n    const containingBlockRect = containingBlock ? containingBlock.getBoundingClientRect() : viewportRect;\n\n    const bodyBorderWidth = getBorderWidth(body);\n    const contentRect = contentRef.current.getBoundingClientRect();\n    const contentBoundingBox = {\n      width: contentRect.width + 2 * bodyBorderWidth,\n      height: contentRect.height + 2 * bodyBorderWidth,\n    };\n\n    // Calculate the arrow direction and viewport-relative position of the popover.\n    const {\n      scrollable,\n      internalPosition: newInternalPosition,\n      boundingOffset,\n    } = calculatePosition(\n      position,\n      trackRect,\n      arrowRect,\n      contentBoundingBox,\n      containingBlock ? containingBlockRect : getDocumentRect(document),\n      viewportRect,\n      renderWithPortal\n    );\n\n    // Get the position of the popover relative to the offset parent.\n    const popoverOffset = toRelativePosition(boundingOffset, containingBlockRect);\n\n    // Cache the distance between the trigger and the popover (which stays the same as you scroll),\n    // and use that to recalculate the new popover position.\n    const trackRelativeOffset = toRelativePosition(popoverOffset, toRelativePosition(trackRect, containingBlockRect));\n\n    // Bring back the container to its original position to prevent any flashing.\n    popover.style.top = prevTop;\n    popover.style.left = prevLeft;\n\n    // Allow popover body to scroll if can't fit the popover into the container/viewport otherwise.\n    if (scrollable) {\n      body.style.maxHeight = boundingOffset.height + 'px';\n      body.style.overflowX = 'hidden';\n      body.style.overflowY = 'auto';\n    }\n\n    // Position the popover\n    setInternalPosition(newInternalPosition);\n    setPopoverStyle({ top: popoverOffset.top, left: popoverOffset.left });\n\n    positionHandlerRef.current = () => {\n      const newTrackOffset = toRelativePosition(\n        track.getBoundingClientRect(),\n        containingBlock ? containingBlock.getBoundingClientRect() : viewportRect\n      );\n      setPopoverStyle({\n        top: newTrackOffset.top + trackRelativeOffset.top,\n        left: newTrackOffset.left + trackRelativeOffset.left,\n      });\n    };\n  }, [position, trackRef, renderWithPortal]);\n\n  // Recalculate position when properties change.\n  useLayoutEffect(() => {\n    updatePositionHandler();\n  }, [updatePositionHandler, trackKey]);\n\n  // Recalculate position when content size changes.\n  useResizeObserver(contentRef, () => updatePositionHandler());\n\n  // Recalculate position on DOM events.\n  useLayoutEffect(() => {\n    /*\n      This is a heuristic. Some layout changes are caused by user clicks (e.g. toggling the tools panel, submitting a form),\n      and by tracking the click event we can adapt the popover's position to the new layout.\n\n      TODO: extend this to Enter and Spacebar?\n    */\n    const updatePosition = () => requestAnimationFrame(() => updatePositionHandler());\n    const refreshPosition = () => requestAnimationFrame(() => positionHandlerRef.current());\n\n    window.addEventListener('click', updatePosition);\n    window.addEventListener('resize', updatePosition);\n    window.addEventListener('scroll', refreshPosition, true);\n    return () => {\n      window.removeEventListener('click', updatePosition);\n      window.removeEventListener('resize', updatePosition);\n      window.removeEventListener('scroll', refreshPosition, true);\n    };\n  }, [updatePositionHandler]);\n\n  return (\n    <div\n      ref={popoverRef}\n      style={{ ...popoverStyle, zIndex }}\n      className={clsx(styles.container, isRefresh && styles.refresh)}\n    >\n      <div\n        ref={arrowRef}\n        className={clsx(styles[`container-arrow`], styles[`container-arrow-position-${internalPosition}`])}\n        aria-hidden={true}\n      >\n        {arrow(internalPosition)}\n      </div>\n\n      <div\n        ref={bodyRef}\n        className={clsx(styles['container-body'], styles[`container-body-size-${size}`], {\n          [styles['fixed-width']]: fixedWidth,\n          [styles[`container-body-variant-${variant}`]]: variant,\n        })}\n      >\n        <div ref={contentRef}>{children}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction getBorderWidth(element: HTMLElement) {\n  return parseInt(getComputedStyle(element).borderWidth) || 0;\n}\n\n/**\n * Convert a viewport-relative offset to an element-relative offset.\n */\nfunction toRelativePosition(element: Offset, parent: Offset): Offset {\n  return {\n    top: element.top - parent.top,\n    left: element.left - parent.left,\n  };\n}\n\n/**\n * Get a BoundingOffset that represents the visible viewport.\n */\nfunction getViewportRect(window: Window): BoundingOffset {\n  return {\n    top: 0,\n    left: 0,\n    width: window.innerWidth,\n    height: window.innerHeight,\n  };\n}\n\nfunction getDocumentRect(document: Document): BoundingOffset {\n  const { top, left } = document.documentElement.getBoundingClientRect();\n  return {\n    top,\n    left,\n    width: document.documentElement.scrollWidth,\n    height: document.documentElement.scrollHeight,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { PopoverProps, InternalPosition, BoundingOffset, BoundingBox } from '../interfaces';\n\n// A structure describing how the popover should be positioned\nexport interface CalculatePosition {\n  scrollable?: boolean;\n  internalPosition: InternalPosition;\n  boundingOffset: BoundingOffset;\n}\n\ninterface ElementGroup {\n  body: BoundingBox;\n  trigger: BoundingOffset;\n  arrow: BoundingBox;\n}\n\nconst ARROW_OFFSET = 12;\n\nexport const PRIORITY_MAPPING: Record<PopoverProps.Position, InternalPosition[]> = {\n  top: [\n    'top-center',\n    'top-right',\n    'top-left',\n    'bottom-center',\n    'bottom-right',\n    'bottom-left',\n    'right-top',\n    'right-bottom',\n    'left-top',\n    'left-bottom',\n  ],\n  bottom: [\n    'bottom-center',\n    'bottom-right',\n    'bottom-left',\n    'top-center',\n    'top-right',\n    'top-left',\n    'right-top',\n    'right-bottom',\n    'left-top',\n    'left-bottom',\n  ],\n  left: [\n    'left-top',\n    'left-bottom',\n    'right-top',\n    'right-bottom',\n    'bottom-center',\n    'top-center',\n    'bottom-left',\n    'top-left',\n    'bottom-right',\n    'top-right',\n  ],\n  right: [\n    'right-top',\n    'right-bottom',\n    'left-top',\n    'left-bottom',\n    'bottom-center',\n    'top-center',\n    'bottom-right',\n    'top-right',\n    'bottom-left',\n    'top-left',\n  ],\n};\n\nconst RECTANGLE_CALCULATIONS: Record<InternalPosition, (r: ElementGroup) => BoundingOffset> = {\n  'top-center': ({ body, trigger, arrow }) => {\n    return {\n      top: trigger.top - body.height - arrow.height,\n      left: trigger.left + trigger.width / 2 - body.width / 2,\n      width: body.width,\n      height: body.height,\n    };\n  },\n  'top-right': ({ body, trigger, arrow }) => {\n    return {\n      top: trigger.top - body.height - arrow.height,\n      left: trigger.left,\n      width: body.width,\n      height: body.height,\n    };\n  },\n  'top-left': ({ body, trigger, arrow }) => {\n    return {\n      top: trigger.top - body.height - arrow.height,\n      left: trigger.left + trigger.width - body.width,\n      width: body.width,\n      height: body.height,\n    };\n  },\n  'bottom-center': ({ body, trigger, arrow }) => {\n    return {\n      top: trigger.top + trigger.height + arrow.height,\n      left: trigger.left + trigger.width / 2 - body.width / 2,\n      width: body.width,\n      height: body.height,\n    };\n  },\n  'bottom-right': ({ body, trigger, arrow }) => {\n    return {\n      top: trigger.top + trigger.height + arrow.height,\n      left: trigger.left,\n      width: body.width,\n      height: body.height,\n    };\n  },\n  'bottom-left': ({ body, trigger, arrow }) => {\n    return {\n      top: trigger.top + trigger.height + arrow.height,\n      left: trigger.left + trigger.width - body.width,\n      width: body.width,\n      height: body.height,\n    };\n  },\n  'right-top': ({ body, trigger, arrow }) => {\n    return {\n      top: trigger.top + trigger.height / 2 - ARROW_OFFSET - arrow.height,\n      left: trigger.left + trigger.width + arrow.height,\n      width: body.width,\n      height: body.height,\n    };\n  },\n  'right-bottom': ({ body, trigger, arrow }) => {\n    return {\n      top: trigger.top + trigger.height / 2 - body.height + ARROW_OFFSET + arrow.height,\n      left: trigger.left + trigger.width + arrow.height,\n      width: body.width,\n      height: body.height,\n    };\n  },\n  'left-top': ({ body, trigger, arrow }) => {\n    return {\n      top: trigger.top + trigger.height / 2 - ARROW_OFFSET - arrow.height,\n      left: trigger.left - body.width - arrow.height,\n      width: body.width,\n      height: body.height,\n    };\n  },\n  'left-bottom': ({ body, trigger, arrow }) => {\n    return {\n      top: trigger.top + trigger.height / 2 - body.height + ARROW_OFFSET + arrow.height,\n      left: trigger.left - body.width - arrow.height,\n      width: body.width,\n      height: body.height,\n    };\n  },\n};\n\n/**\n * Returns whether one rectangle fits in another.\n */\nfunction canRectFit(inner: BoundingOffset, outer: BoundingOffset): boolean {\n  return (\n    inner.left >= outer.left &&\n    inner.top >= outer.top &&\n    inner.left + inner.width <= outer.left + outer.width &&\n    inner.top + inner.height <= outer.top + outer.height\n  );\n}\n\nfunction fitIntoContainer(inner: BoundingOffset, outer: BoundingOffset): BoundingOffset {\n  let { left, width, top, height } = inner;\n\n  // Adjust left boundary.\n  if (left < outer.left) {\n    width = left + width - outer.left;\n    left = outer.left;\n  }\n  // Adjust right boundary.\n  else if (left + width > outer.left + outer.width) {\n    width = outer.left + outer.width - left;\n  }\n  // Adjust top boundary.\n  if (top < outer.top) {\n    height = top + height - outer.top;\n    top = outer.top;\n  }\n  // Adjust bottom boundary.\n  else if (top + height > outer.top + outer.height) {\n    height = outer.top + outer.height - top;\n  }\n\n  return { left, width, top, height };\n}\n\nfunction getLargestRect(rect1: BoundingOffset, rect2: BoundingOffset): BoundingOffset {\n  const area1 = rect1.height * rect1.width;\n  const area2 = rect2.height * rect2.width;\n  return area1 >= area2 ? rect1 : rect2;\n}\n\n/**\n * Returns the area of the intersection of passed in rectangles or a null, if there is no intersection\n */\nexport function intersectRectangles(rectangles: BoundingOffset[]): number | null {\n  let boundingOffset: BoundingOffset | null = null;\n  for (const currentRect of rectangles) {\n    if (!boundingOffset) {\n      boundingOffset = currentRect;\n      continue;\n    }\n    const left = Math.max(boundingOffset.left, currentRect.left);\n    const top = Math.max(boundingOffset.top, currentRect.top);\n    const right = Math.min(boundingOffset.left + boundingOffset.width, currentRect.left + currentRect.width);\n    const bottom = Math.min(boundingOffset.top + boundingOffset.height, currentRect.top + currentRect.height);\n    if (right < left || bottom < top) {\n      return null;\n    }\n    boundingOffset = {\n      left,\n      top,\n      width: right - left,\n      height: bottom - top,\n    };\n  }\n  return boundingOffset && boundingOffset.height * boundingOffset.width;\n}\n\n/**\n * A functions that returns the correct popover position based on screen dimensions.\n */\nexport function calculatePosition(\n  preferred: PopoverProps.Position,\n  trigger: BoundingOffset,\n  arrow: BoundingBox,\n  body: BoundingBox,\n  container: BoundingOffset,\n  viewport: BoundingOffset,\n  // the popover is only bound by the viewport if it is rendered in a portal\n  renderWithPortal?: boolean\n): CalculatePosition {\n  let bestPositionOutsideViewport: CalculatePosition | null = null;\n  let largestArea = 0;\n\n  // Attempt to position the popover based on the priority list for this position,\n  // trying to fit it inside the container and inside the viewport.\n  for (const internalPosition of PRIORITY_MAPPING[preferred]) {\n    const boundingOffset = RECTANGLE_CALCULATIONS[internalPosition]({ body, trigger, arrow });\n    const fitsInContainer = renderWithPortal || canRectFit(boundingOffset, container);\n    const fitsInViewport = canRectFit(boundingOffset, viewport);\n    if (fitsInContainer && fitsInViewport) {\n      return { internalPosition, boundingOffset };\n    }\n    const boundingRectangles = [boundingOffset, viewport];\n    if (!renderWithPortal) {\n      boundingRectangles.push(container);\n    }\n    const availableArea = intersectRectangles(boundingRectangles);\n    if (availableArea && availableArea > largestArea) {\n      bestPositionOutsideViewport = { internalPosition, boundingOffset };\n      largestArea = availableArea;\n    }\n  }\n\n  // Use best possible placement.\n  const internalPosition = bestPositionOutsideViewport?.internalPosition || 'right-top';\n  // Get default rect for that placement.\n  const defaultOffset = RECTANGLE_CALCULATIONS[internalPosition]({ body, trigger, arrow });\n  // Get largest possible rect that fits into viewport or container.\n  const optimisedOffset = fitIntoContainer(\n    defaultOffset,\n    renderWithPortal ? viewport : getLargestRect(container, viewport)\n  );\n  // If largest possible rect is smaller than original - set body scroll.\n  const scrollable = optimisedOffset.height < defaultOffset.height;\n\n  return { internalPosition, boundingOffset: optimisedOffset, scrollable };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { KeyCode } from '../internal/keycode';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { ButtonProps } from '../button/interfaces';\nimport { InternalButton } from '../button/internal';\nimport FocusLock from '../internal/components/focus-lock';\n\nimport styles from './styles.css.js';\n\nexport interface PopoverBodyProps {\n  dismissButton: boolean;\n  dismissAriaLabel: string | undefined;\n  onDismiss: () => void;\n\n  header: React.ReactNode | undefined;\n  children: React.ReactNode;\n  variant?: 'annotation';\n  overflowVisible?: 'content' | 'both';\n\n  className?: string;\n}\n\nexport default function PopoverBody({\n  dismissButton: showDismissButton,\n  dismissAriaLabel,\n  header,\n  children,\n  onDismiss,\n  variant,\n  overflowVisible,\n  className,\n}: PopoverBodyProps) {\n  const labelledById = useUniqueId('awsui-popover-');\n  const dismissButtonFocused = useRef(false);\n  const dismissButtonRef = useRef<ButtonProps.Ref>(null);\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      if (event.keyCode === KeyCode.escape) {\n        onDismiss();\n      }\n    },\n    [onDismiss]\n  );\n\n  // Implement our own auto-focus rather than using FocusLock's,\n  // because we also want to focus the dismiss button when it\n  // is added dyamically (e.g. in chart popovers)\n  useEffect(() => {\n    if (showDismissButton && !dismissButtonFocused.current) {\n      dismissButtonRef.current?.focus({ preventScroll: true });\n    }\n    dismissButtonFocused.current = showDismissButton;\n  }, [showDismissButton]);\n\n  const dismissButton = (showDismissButton ?? null) && (\n    <div className={styles.dismiss}>\n      <InternalButton\n        variant=\"icon\"\n        formAction=\"none\"\n        iconName=\"close\"\n        className={styles['dismiss-control']}\n        ariaLabel={dismissAriaLabel}\n        onClick={() => onDismiss()}\n        ref={dismissButtonRef}\n      />\n    </div>\n  );\n\n  return (\n    <div\n      className={clsx(styles.body, className, {\n        [styles['body-overflow-visible']]: overflowVisible === 'both',\n      })}\n      role={header ? 'dialog' : undefined}\n      onKeyDown={onKeyDown}\n      aria-modal={showDismissButton && variant !== 'annotation' ? true : undefined}\n      aria-labelledby={header ? labelledById : undefined}\n    >\n      <FocusLock disabled={variant === 'annotation' || !showDismissButton} autoFocus={false}>\n        {header && (\n          <div className={clsx(styles['header-row'], showDismissButton && styles['has-dismiss'])}>\n            {dismissButton}\n            <div className={styles.header} id={labelledById}>\n              <h2>{header}</h2>\n            </div>\n          </div>\n        )}\n        <div className={!header && showDismissButton ? styles['has-dismiss'] : undefined}>\n          {!header && dismissButton}\n          <div className={clsx(styles.content, { [styles['content-overflow-visible']]: !!overflowVisible })}>\n            {children}\n          </div>\n        </div>\n      </FocusLock>\n    </div>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport TabTrap from '../tab-trap/index';\nimport { getFirstFocusable, getLastFocusable } from './utils';\n\nexport interface FocusLockProps {\n  className?: string;\n  disabled?: boolean;\n  autoFocus?: boolean;\n  children: React.ReactNode;\n}\n\nexport default function FocusLock({ className, disabled, autoFocus, children }: FocusLockProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const focusFirst = () => {\n    if (containerRef.current) {\n      getFirstFocusable(containerRef.current)?.focus();\n    }\n  };\n\n  const focusLast = () => {\n    if (containerRef.current) {\n      getLastFocusable(containerRef.current)?.focus();\n    }\n  };\n\n  useEffect(() => {\n    if (autoFocus) {\n      focusFirst();\n    }\n  }, [autoFocus]);\n\n  return (\n    <>\n      <TabTrap disabled={disabled} focusNextCallback={focusLast} />\n      <div className={className} ref={containerRef}>\n        {children}\n      </div>\n      <TabTrap disabled={disabled} focusNextCallback={focusFirst} />\n    </>\n  );\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { useUniqueId } from '../../internal/hooks/use-unique-id';\n\nexport default function useHiddenDescription(description?: string) {\n  const id = useUniqueId();\n  return {\n    targetProps: {\n      'aria-describedby': description ? id : undefined,\n    },\n    descriptionEl: description ? (\n      <span id={id} hidden={true}>\n        {description}\n      </span>\n    ) : null,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nexport interface GetMenuItemPropsParams {\n  disabled: boolean;\n  parent?: boolean;\n  expanded?: boolean;\n}\n/**\n * @returns attributes for a menuitem widget given parameters\n */\nexport const getMenuItemProps: (params: GetMenuItemPropsParams) => React.HTMLProps<HTMLElement> = ({\n  disabled,\n  parent,\n  expanded,\n}: GetMenuItemPropsParams) => ({\n  role: 'menuitem',\n  'aria-disabled': disabled ? 'true' : undefined,\n  'aria-haspopup': parent ? 'true' : undefined,\n  'aria-expanded': expanded ? 'true' : parent ? 'false' : undefined,\n});\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\n\nimport InternalIcon from '../../icon/internal';\nimport ItemsList from '../items-list';\nimport Dropdown from '../../internal/components/dropdown';\nimport { CategoryProps } from '../interfaces';\nimport useHiddenDescription from '../utils/use-hidden-description';\nimport Tooltip from '../tooltip.js';\nimport { getMenuItemProps } from '../utils/menu-item';\n\nconst ExpandableCategoryElement = ({\n  item,\n  onItemActivate,\n  onGroupToggle,\n  targetItem,\n  isHighlighted,\n  isKeyboardHighlight,\n  isExpanded,\n  highlightItem,\n  disabled,\n  expandToViewport,\n  variant,\n}: CategoryProps) => {\n  const highlighted = isHighlighted(item);\n  const expanded = isExpanded(item);\n  const isKeyboardHighlighted = isKeyboardHighlight(item);\n  const triggerRef = React.useRef<HTMLSpanElement>(null);\n  const ref = useRef<HTMLLIElement>(null);\n\n  useEffect(() => {\n    if (triggerRef.current && highlighted && !expanded) {\n      triggerRef.current.focus();\n    }\n  }, [expanded, highlighted]);\n\n  const onClick: React.MouseEventHandler = event => {\n    if (!disabled) {\n      event.preventDefault();\n      onGroupToggle(item, event);\n      triggerRef.current?.focus();\n    }\n  };\n\n  const onHover = (event: React.SyntheticEvent) => {\n    event.preventDefault();\n    highlightItem(item);\n  };\n\n  const isDisabledWithReason = !!item.disabledReason && item.disabled;\n  const { targetProps, descriptionEl } = useHiddenDescription(item.disabledReason);\n  const trigger = item.text && (\n    <span\n      className={clsx(styles.header, styles['expandable-header'], styles[`variant-${variant}`], {\n        [styles.disabled]: disabled,\n        [styles.highlighted]: highlighted,\n        [styles['is-focused']]: isKeyboardHighlighted,\n      })}\n      // We are using the roving tabindex technique to manage the focus state of the dropdown.\n      // The current element will always have tabindex=0 which means that it can be tabbed to,\n      // while all other items have tabindex=-1 so we can focus them when necessary.\n      tabIndex={highlighted ? 0 : -1}\n      ref={triggerRef}\n      {...getMenuItemProps({ parent: true, expanded, disabled })}\n      {...(isDisabledWithReason ? targetProps : {})}\n    >\n      {item.text}\n      <span className={clsx(styles['expand-icon'], styles['expand-icon-right'])}>\n        <InternalIcon name=\"caret-down-filled\" />\n      </span>\n    </span>\n  );\n\n  let content: React.ReactNode;\n  // If the category element is disabled, we do not render a dropdown.\n  // Screenreaders are confused by additional sections\n  if (isDisabledWithReason) {\n    content = (\n      <Tooltip content={item.disabledReason}>\n        {trigger}\n        {descriptionEl}\n      </Tooltip>\n    );\n  } else if (disabled) {\n    content = trigger;\n  } else {\n    content = (\n      <Dropdown\n        open={expanded}\n        stretchWidth={false}\n        interior={true}\n        expandToViewport={expandToViewport}\n        trigger={trigger}\n      >\n        {item.items && expanded && (\n          <ul role=\"menu\" aria-label={item.text} className={clsx(styles['items-list-container'])}>\n            <ItemsList\n              items={item.items}\n              onItemActivate={onItemActivate}\n              onGroupToggle={onGroupToggle}\n              targetItem={targetItem}\n              isHighlighted={isHighlighted}\n              isKeyboardHighlight={isKeyboardHighlight}\n              isExpanded={isExpanded}\n              highlightItem={highlightItem}\n              variant={variant}\n            />\n          </ul>\n        )}\n      </Dropdown>\n    );\n  }\n\n  return (\n    <li\n      className={clsx(styles.category, styles[`variant-${variant}`], styles.expandable, {\n        [styles.expanded]: expanded,\n        [styles.disabled]: disabled,\n        [styles.highlighted]: highlighted,\n      })}\n      role=\"presentation\"\n      data-testid={item.id}\n      ref={ref}\n      onClick={onClick}\n      onMouseEnter={onHover}\n      onTouchStart={onHover}\n    >\n      {content}\n    </li>\n  );\n};\n\nexport default ExpandableCategoryElement;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"header\": \"awsui_header_16mm3_qwnia_93\",\n  \"disabled\": \"awsui_disabled_16mm3_qwnia_108\",\n  \"expandable-header\": \"awsui_expandable-header_16mm3_qwnia_112\",\n  \"rolled-down\": \"awsui_rolled-down_16mm3_qwnia_123\",\n  \"highlighted\": \"awsui_highlighted_16mm3_qwnia_126\",\n  \"is-focused\": \"awsui_is-focused_16mm3_qwnia_139\",\n  \"variant-navigation\": \"awsui_variant-navigation_16mm3_qwnia_143\",\n  \"category\": \"awsui_category_16mm3_qwnia_155\",\n  \"expandable\": \"awsui_expandable_16mm3_qwnia_112\",\n  \"expand-icon\": \"awsui_expand-icon_16mm3_qwnia_176\",\n  \"expand-icon-up\": \"awsui_expand-icon-up_16mm3_qwnia_183\",\n  \"expand-icon-right\": \"awsui_expand-icon-right_16mm3_qwnia_186\",\n  \"items-list-container\": \"awsui_items-list-container_16mm3_qwnia_200\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { CategoryProps } from '../interfaces';\nimport React from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport ItemsList from '../items-list';\n\nconst CategoryElement = ({\n  item,\n  onItemActivate,\n  onGroupToggle,\n  targetItem,\n  isHighlighted,\n  isKeyboardHighlight,\n  isExpanded,\n  highlightItem,\n  disabled,\n  variant,\n}: CategoryProps) => {\n  // Hide the category title element from screen readers because it will be\n  // provided as an ARIA label.\n  return (\n    <li\n      className={clsx(styles.category, styles[`variant-${variant}`], disabled && styles.disabled)}\n      role=\"presentation\"\n      aria-disabled={disabled ? 'true' : undefined}\n    >\n      {item.text && (\n        <p className={clsx(styles.header, { [styles.disabled]: disabled })} aria-hidden=\"true\">\n          {item.text}\n        </p>\n      )}\n      <ul className={clsx(styles['items-list-container'])} role=\"group\" aria-label={item.text}>\n        {item.items && (\n          <ItemsList\n            items={item.items}\n            onItemActivate={onItemActivate}\n            onGroupToggle={onGroupToggle}\n            targetItem={targetItem}\n            isHighlighted={isHighlighted}\n            isKeyboardHighlight={isKeyboardHighlight}\n            isExpanded={isExpanded}\n            highlightItem={highlightItem}\n            categoryDisabled={disabled}\n            hasCategoryHeader={!!item.text}\n            variant={variant}\n          />\n        )}\n      </ul>\n    </li>\n  );\n};\n\nexport default CategoryElement;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect } from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\n\nimport InternalIcon from '../../icon/internal';\nimport ItemsList from '../items-list';\nimport MobileExpandableGroup from '../mobile-expandable-group/mobile-expandable-group';\nimport { CategoryProps } from '../interfaces';\nimport Tooltip from '../tooltip.js';\nimport useHiddenDescription from '../utils/use-hidden-description.js';\nimport { getMenuItemProps } from '../utils/menu-item.js';\n\nconst MobileExpandableCategoryElement = ({\n  item,\n  onItemActivate,\n  onGroupToggle,\n  targetItem,\n  isHighlighted,\n  isKeyboardHighlight,\n  isExpanded,\n  highlightItem,\n  disabled,\n  variant,\n}: CategoryProps) => {\n  const highlighted = isHighlighted(item);\n  const expanded = isExpanded(item);\n  const isKeyboardHighlighted = isKeyboardHighlight(item);\n  const triggerRef = React.useRef<HTMLSpanElement>(null);\n\n  useEffect(() => {\n    if (triggerRef.current && highlighted && !expanded) {\n      triggerRef.current.focus();\n    }\n  }, [expanded, highlighted]);\n\n  const onClick = (e: React.MouseEvent) => {\n    if (!disabled) {\n      e.preventDefault();\n      onGroupToggle(item, e);\n    }\n  };\n\n  const onHover = (event: React.SyntheticEvent) => {\n    event.preventDefault();\n    highlightItem(item);\n  };\n\n  const isDisabledWithReason = !!item.disabledReason && item.disabled;\n  const { targetProps, descriptionEl } = useHiddenDescription(item.disabledReason);\n  const trigger = item.text && (\n    <span\n      className={clsx(styles.header, styles['expandable-header'], styles[`variant-${variant}`], {\n        [styles.highlighted]: highlighted,\n        [styles['rolled-down']]: expanded,\n        [styles.disabled]: disabled,\n        [styles['is-focused']]: isKeyboardHighlighted,\n      })}\n      // We are using the roving tabindex technique to manage the focus state of the dropdown.\n      // The current element will always have tabindex=0 which means that it can be tabbed to,\n      // while all other items have tabindex=-1 so we can focus them when necessary.\n      tabIndex={highlighted ? 0 : -1}\n      ref={triggerRef}\n      {...getMenuItemProps({ parent: true, disabled, expanded })}\n      {...(isDisabledWithReason ? targetProps : {})}\n    >\n      {item.text}\n      <span\n        className={clsx(styles['expand-icon'], {\n          [styles['expand-icon-up']]: expanded,\n        })}\n      >\n        <InternalIcon name=\"caret-down-filled\" />\n      </span>\n    </span>\n  );\n\n  let content: React.ReactNode;\n\n  if (isDisabledWithReason) {\n    content = (\n      <>\n        {descriptionEl}\n        <Tooltip content={item.disabledReason}>{trigger}</Tooltip>\n      </>\n    );\n  } else if (disabled) {\n    content = trigger;\n  } else {\n    content = (\n      <MobileExpandableGroup open={expanded} trigger={trigger}>\n        {item.items && expanded && (\n          <ul role=\"menu\" aria-label={item.text} className={clsx(styles['items-list-container'])}>\n            <ItemsList\n              items={item.items}\n              onItemActivate={onItemActivate}\n              onGroupToggle={onGroupToggle}\n              targetItem={targetItem}\n              isHighlighted={isHighlighted}\n              isKeyboardHighlight={isKeyboardHighlight}\n              isExpanded={isExpanded}\n              highlightItem={highlightItem}\n              hasCategoryHeader={true}\n              variant={variant}\n            />\n          </ul>\n        )}\n      </MobileExpandableGroup>\n    );\n  }\n\n  return (\n    <li\n      className={clsx(styles.category, styles[`variant-${variant}`], styles.expandable, {\n        [styles.expanded]: expanded,\n        [styles.disabled]: disabled,\n        [styles.highlighted]: highlighted || expanded,\n        [styles.expandable]: true,\n      })}\n      role=\"presentation\"\n      onClick={onClick}\n      onMouseEnter={onHover}\n      onTouchStart={onHover}\n      data-testid={item.id}\n    >\n      {content}\n    </li>\n  );\n};\n\nexport default MobileExpandableCategoryElement;\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\n\nexport interface MobileExpandableGroupProps {\n  /**\n   * Trigger element.\n   */\n  trigger: React.ReactNode;\n  /**\n   * mobile expandable groups content elements.\n   */\n  children?: React.ReactNode;\n  /**\n   * Open state of the mobile expandable groups.\n   */\n  open?: boolean;\n}\n\nconst MobileExpandableGroup = ({ children, trigger, open }: MobileExpandableGroupProps) => {\n  return (\n    <div className={clsx(styles.root)}>\n      <div className={styles.trigger}>{trigger}</div>\n      <div className={clsx(styles.dropdown, { [styles.open]: open })} data-open={open}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default MobileExpandableGroup;\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_14cnr_zbvdk_93\",\n  \"trigger\": \"awsui_trigger_14cnr_zbvdk_106\",\n  \"dropdown\": \"awsui_dropdown_14cnr_zbvdk_109\",\n  \"nowrap\": \"awsui_nowrap_14cnr_zbvdk_120\",\n  \"open\": \"awsui_open_14cnr_zbvdk_123\"\n};\n  ", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useState } from 'react';\n\ninterface OpenStateProps {\n  onOpen?: () => void;\n  onClose?: () => void;\n}\n\nexport const useOpenState = ({ onOpen, onClose }: OpenStateProps) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const openDropdown = () => {\n    if (!isOpen) {\n      setIsOpen(true);\n      onOpen?.();\n    }\n  };\n\n  const closeDropdown = () => {\n    if (isOpen) {\n      setIsOpen(false);\n      onClose?.();\n    }\n  };\n\n  const toggleDropdown = () => {\n    if (isOpen) {\n      closeDropdown();\n    } else {\n      openDropdown();\n    }\n  };\n\n  return { isOpen, openDropdown, closeDropdown, toggleDropdown };\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useState, useMemo, useCallback } from 'react';\n\nimport { indexIncludes, indexEquals } from './utils';\nimport { ButtonDropdownProps, HighlightProps } from '../interfaces';\nimport createItemsTree, { TreeIndex } from './create-items-tree';\nimport moveHighlightOneStep from './move-highlight';\n\ninterface UseHighlightedMenuOptions {\n  items: ButtonDropdownProps.Items;\n  hasExpandableGroups: boolean;\n  isInRestrictedView?: boolean;\n}\n\ninterface UseHighlightedMenuApi extends HighlightProps {\n  moveHighlight: (direction: -1 | 1) => void;\n  expandGroup: (group?: ButtonDropdownProps.ItemGroup) => void;\n  collapseGroup: () => void;\n  reset: () => void;\n  setIsUsingMouse: (isUsingMouse: boolean) => void;\n}\n\nexport default function useHighlightedMenu({\n  items,\n  hasExpandableGroups,\n  isInRestrictedView = false,\n}: UseHighlightedMenuOptions): UseHighlightedMenuApi {\n  const [targetIndex, setTargetIndex] = useState<TreeIndex>([]);\n  const [expandedIndex, setExpandedIndex] = useState<TreeIndex>([]);\n  const [isUsingMouse, setIsUsingMouse] = useState<boolean>(true);\n\n  const { getItem, getItemIndex, getSequentialIndex, getParentIndex } = useMemo(() => createItemsTree(items), [items]);\n\n  const targetItem = useMemo(() => getItem(targetIndex), [targetIndex, getItem]);\n\n  const isHighlighted = useCallback(\n    (item: ButtonDropdownProps.ItemOrGroup) => {\n      const index = getItemIndex(item);\n      return indexIncludes(index, targetIndex);\n    },\n    [targetIndex, getItemIndex]\n  );\n\n  // check if keyboard focus is on the element\n  const isKeyboardHighlight = useCallback(\n    (item: ButtonDropdownProps.ItemOrGroup) => {\n      const index = getItemIndex(item);\n      return !isUsingMouse && indexEquals(index, targetIndex);\n    },\n    [targetIndex, getItemIndex, isUsingMouse]\n  );\n\n  const isExpanded = useCallback(\n    (group: ButtonDropdownProps.ItemGroup) => {\n      const index = getItemIndex(group);\n\n      return indexIncludes(index, expandedIndex);\n    },\n    [expandedIndex, getItemIndex]\n  );\n\n  const moveHighlight = useCallback(\n    (direction: -1 | 1) => {\n      const getNext = (index: TreeIndex) => {\n        const nextIndex = getSequentialIndex(index, direction);\n        const item = getItem(nextIndex || [-1]);\n\n        if (!nextIndex || !item) {\n          return null;\n        }\n\n        const parentIndex = getParentIndex(item);\n        const parentItem = parentIndex && getItem(parentIndex);\n\n        return { index: nextIndex, item, parent: parentItem || undefined };\n      };\n\n      const nextIndex = moveHighlightOneStep({\n        startIndex: targetIndex,\n        expandedIndex,\n        getNext,\n        hasExpandableGroups,\n        isInRestrictedView,\n      });\n\n      if (nextIndex) {\n        setTargetIndex(nextIndex);\n      }\n    },\n    [targetIndex, expandedIndex, getItem, getSequentialIndex, getParentIndex, hasExpandableGroups, isInRestrictedView]\n  );\n\n  const highlightItem = useCallback(\n    (item: ButtonDropdownProps.ItemOrGroup) => {\n      setTargetIndex(getItemIndex(item));\n    },\n    [getItemIndex]\n  );\n\n  const expandGroup = useCallback(\n    (group?: ButtonDropdownProps.ItemGroup) => {\n      const groupIndex = group ? getItemIndex(group) : targetIndex;\n      const firstChildIndex = [...groupIndex, 0];\n\n      // move to the first child item unless in restricted mode\n      setTargetIndex(isInRestrictedView ? groupIndex : firstChildIndex);\n      setExpandedIndex(groupIndex);\n    },\n    [targetIndex, getItemIndex, isInRestrictedView]\n  );\n\n  const collapseGroup = useCallback(() => {\n    if (expandedIndex.length > 0) {\n      setTargetIndex(expandedIndex);\n      setExpandedIndex(expandedIndex.slice(0, -1));\n    }\n  }, [expandedIndex]);\n\n  const reset = useCallback(() => {\n    setTargetIndex([]);\n    setExpandedIndex([]);\n  }, []);\n\n  return {\n    targetItem,\n    isHighlighted,\n    isKeyboardHighlight,\n    isExpanded,\n    moveHighlight,\n    highlightItem,\n    expandGroup,\n    collapseGroup,\n    reset,\n    setIsUsingMouse,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { isItemGroup } from './utils';\nimport { ButtonDropdownProps } from '../interfaces';\n\n// The function turns a tree of items into a structure optimized for lookup of\n// items and corresponding indices as well as iteration on indices in the given order.\n\n// As trees are multidimensional, the index is represented as an array\nexport type TreeIndex = number[];\n\ninterface ItemsTreeApi {\n  // Returns an item for the given tree index or null if not found\n  getItem: (index: TreeIndex) => ButtonDropdownProps.ItemOrGroup | null;\n  // Returns the tree index of the given item. The item must be present\n  // in the tree (referential comparison), or an error will be thrown\n  getItemIndex: (item: ButtonDropdownProps.ItemOrGroup) => TreeIndex;\n  // Returns the index of next or previous sequential node or null if out of bounds\n  getSequentialIndex: (index: TreeIndex, direction: -1 | 1) => TreeIndex | null;\n  // Returns parent tree index of a given item or null if no parent is present\n  getParentIndex: (item: ButtonDropdownProps.ItemOrGroup) => TreeIndex | null;\n}\n\nexport default function createItemsTree(items: ButtonDropdownProps.Items): ItemsTreeApi {\n  const itemToIndex = new Map<ButtonDropdownProps.ItemOrGroup, string>();\n  const indexToItem = new Map<string, ButtonDropdownProps.ItemOrGroup>();\n  const flatIndices: string[] = [];\n\n  traverseItems(items, (item, index) => {\n    const indexKey = stringifyIndex(index);\n    itemToIndex.set(item, indexKey);\n    indexToItem.set(indexKey, item);\n    flatIndices.push(indexKey);\n  });\n\n  return {\n    getItem: (index: TreeIndex): ButtonDropdownProps.ItemOrGroup | null => {\n      const indexKey = stringifyIndex(index);\n\n      return indexToItem.get(indexKey) || null;\n    },\n    getItemIndex: (item: ButtonDropdownProps.ItemOrGroup): TreeIndex => {\n      const indexKey = itemToIndex.get(item);\n\n      if (!indexKey) {\n        throw new Error('Invariant violation: item is not found.');\n      }\n\n      return parseIndex(indexKey);\n    },\n    getSequentialIndex: (index: TreeIndex, direction: -1 | 1): TreeIndex | null => {\n      const indexKey = stringifyIndex(index);\n      const position = flatIndices.indexOf(indexKey);\n\n      const nextIndexKey = flatIndices[position + direction];\n\n      if (!nextIndexKey) {\n        return null;\n      }\n\n      return parseIndex(nextIndexKey);\n    },\n    getParentIndex: (item: ButtonDropdownProps.ItemOrGroup): TreeIndex | null => {\n      const indexKey = itemToIndex.get(item);\n\n      if (!indexKey) {\n        throw new Error('Invariant violation: item is not found.');\n      }\n\n      const index = parseIndex(indexKey);\n\n      // No parent\n      if (index.length === 1) {\n        return null;\n      }\n\n      return index.slice(0, index.length - 1);\n    },\n  };\n}\n\nfunction traverseItems(\n  items: ButtonDropdownProps.Items,\n  act: (item: ButtonDropdownProps.ItemOrGroup, index: TreeIndex) => void,\n  parentIndex: TreeIndex = []\n) {\n  items.forEach((item, index) => {\n    const itemIndex = [...parentIndex, index];\n    act(item, itemIndex);\n\n    if (isItemGroup(item)) {\n      traverseItems(item.items, act, itemIndex);\n    }\n  });\n}\n\nfunction stringifyIndex(index: TreeIndex): string {\n  return index.join('-');\n}\n\nfunction parseIndex(index: string): TreeIndex {\n  return index.split('-').map(it => parseInt(it));\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { isItemGroup, indexEquals } from './utils';\nimport { ButtonDropdownProps } from '../interfaces';\nimport { TreeIndex } from './create-items-tree';\n\n// While every menu item except the edge ones have successors and predecessors,\n// there are rules determining what items are eligible for highlighting for the\n// given set of conditions. The function implements all these rules.\n\ninterface MoveHighlightProps {\n  startIndex: TreeIndex;\n  expandedIndex: TreeIndex;\n  getNext: (index: TreeIndex) => {\n    index: TreeIndex;\n    item: ButtonDropdownProps.ItemOrGroup;\n    parent?: ButtonDropdownProps.ItemOrGroup;\n  } | null;\n  hasExpandableGroups: boolean;\n  isInRestrictedView: boolean;\n}\n\nexport default function moveHighlight({\n  startIndex,\n  expandedIndex,\n  getNext,\n  hasExpandableGroups,\n  isInRestrictedView,\n}: MoveHighlightProps): TreeIndex | null {\n  const tryMove = (currentIndex: TreeIndex): TreeIndex | null => {\n    const next = getNext(currentIndex);\n\n    if (!next) {\n      return null;\n    }\n\n    // Prevents stepping into disabled expandable groups. However,\n    // it's possible to navigate nested groups.\n    if (next.parent?.disabled && hasExpandableGroups) {\n      return tryMove(next.index);\n    }\n\n    // it is not allowed to highlight groups when non-expandable\n    if (isItemGroup(next.item) && !hasExpandableGroups) {\n      return tryMove(next.index);\n    }\n\n    // can only move within same parent unless is in restricted view\n    if (hasExpandableGroups && !isInRestrictedView && !isSameParent(startIndex, next.index)) {\n      return tryMove(next.index);\n    }\n\n    // in restricted view can only navigate to children if group is expanded\n    if (\n      hasExpandableGroups &&\n      isInRestrictedView &&\n      !isSameLevel(next.index, expandedIndex) &&\n      !isIncluded(expandedIndex, next.index)\n    ) {\n      return tryMove(next.index);\n    }\n\n    return next.index;\n  };\n\n  return tryMove(startIndex);\n}\n\nfunction isSameParent(left: TreeIndex, right: TreeIndex) {\n  return indexEquals(left.slice(0, -1), right.slice(0, -1));\n}\n\nfunction isSameLevel(left: TreeIndex, right: TreeIndex) {\n  return left.length === right.length;\n}\n\nfunction isIncluded(parent: TreeIndex, child: TreeIndex) {\n  return indexEquals(parent, child.slice(0, -1));\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { useOpenState } from '../../internal/components/options-list/utils/use-open-state';\nimport { ButtonDropdownProps, ButtonDropdownSettings, GroupToggle, HighlightProps, ItemActivate } from '../interfaces';\nimport { fireCancelableEvent, CancelableEventHandler, isPlainLeftClick } from '../../internal/events';\nimport { KeyCode } from '../../internal/keycode';\nimport { getItemTarget, isItemGroup, isLinkItem } from './utils';\nimport useHighlightedMenu from './use-highlighted-menu';\n\ninterface UseButtonDropdownOptions extends ButtonDropdownSettings {\n  items: ButtonDropdownProps.Items;\n  onItemClick?: CancelableEventHandler<ButtonDropdownProps.ItemClickDetails>;\n  onItemFollow?: CancelableEventHandler<ButtonDropdownProps.ItemClickDetails>;\n  onReturnFocus: () => void;\n  expandToViewport?: boolean;\n}\n\ninterface UseButtonDropdownApi extends HighlightProps {\n  isOpen: boolean;\n  onKeyDown: (event: React.KeyboardEvent) => void;\n  onKeyUp: (event: React.KeyboardEvent) => void;\n  onItemActivate: ItemActivate;\n  onGroupToggle: GroupToggle;\n  toggleDropdown: (options?: { moveHighlightOnOpen?: boolean }) => void;\n  setIsUsingMouse: (isUsingMouse: boolean) => void;\n}\n\nexport function useButtonDropdown({\n  items,\n  onItemClick,\n  onItemFollow,\n  onReturnFocus,\n  hasExpandableGroups,\n  isInRestrictedView = false,\n  expandToViewport = false,\n}: UseButtonDropdownOptions): UseButtonDropdownApi {\n  const {\n    targetItem,\n    isHighlighted,\n    isKeyboardHighlight,\n    isExpanded,\n    highlightItem,\n    moveHighlight,\n    expandGroup,\n    collapseGroup,\n    reset,\n    setIsUsingMouse,\n  } = useHighlightedMenu({\n    items,\n    hasExpandableGroups,\n    isInRestrictedView,\n  });\n\n  const { isOpen, closeDropdown, ...openStateProps } = useOpenState({ onClose: reset });\n  const toggleDropdown = (options: { moveHighlightOnOpen?: boolean } = {}) => {\n    const moveHighlightOnOpen = options.moveHighlightOnOpen ?? true;\n    if (!isOpen && moveHighlightOnOpen) {\n      moveHighlight(1);\n    }\n    openStateProps.toggleDropdown();\n  };\n\n  const onGroupToggle: GroupToggle = item => (!isExpanded(item) ? expandGroup(item) : collapseGroup());\n\n  const onItemActivate: ItemActivate = (item, event) => {\n    const details = {\n      id: item.id || 'undefined',\n      href: item.href,\n      external: item.external,\n      target: getItemTarget(item),\n    };\n    if (onItemFollow && item.href && isPlainLeftClick(event)) {\n      fireCancelableEvent(onItemFollow, details, event);\n    }\n    if (onItemClick) {\n      fireCancelableEvent(onItemClick, details, event);\n    }\n    onReturnFocus();\n    closeDropdown();\n  };\n\n  const doVerticalNavigation = (direction: -1 | 1) => {\n    if (isOpen) {\n      moveHighlight(direction);\n    }\n  };\n\n  const openAndSelectFirst = (event: React.KeyboardEvent) => {\n    toggleDropdown();\n    event.preventDefault();\n  };\n\n  const actOnParentDropdown = (event: React.KeyboardEvent) => {\n    // if there is no highlighted item we act on the trigger by opening or closing dropdown\n    if (!targetItem) {\n      if (isOpen && !isInRestrictedView) {\n        toggleDropdown();\n      } else {\n        openAndSelectFirst(event);\n      }\n    } else {\n      if (isItemGroup(targetItem)) {\n        onGroupToggle(targetItem, event);\n      } else {\n        onItemActivate(targetItem, event);\n      }\n    }\n  };\n\n  const activate = (event: React.KeyboardEvent, isEnter?: boolean) => {\n    setIsUsingMouse(false);\n\n    // if item is a link we rely on default behavior of an anchor, no need to prevent\n    if (targetItem && isLinkItem(targetItem) && isEnter) {\n      return;\n    }\n\n    event.preventDefault();\n    actOnParentDropdown(event);\n  };\n\n  const onKeyDown = (event: React.KeyboardEvent) => {\n    setIsUsingMouse(false);\n    switch (event.keyCode) {\n      case KeyCode.down: {\n        doVerticalNavigation(1);\n        event.preventDefault();\n        break;\n      }\n      case KeyCode.up: {\n        doVerticalNavigation(-1);\n        event.preventDefault();\n        break;\n      }\n      case KeyCode.space: {\n        // Prevent scrolling the list of items and highlighting the trigger\n        event.preventDefault();\n        break;\n      }\n      case KeyCode.enter: {\n        if (!targetItem?.disabled) {\n          activate(event, true);\n        }\n        break;\n      }\n      case KeyCode.left:\n      case KeyCode.right: {\n        if (targetItem && !targetItem.disabled && isItemGroup(targetItem) && !isExpanded(targetItem)) {\n          expandGroup();\n        } else if (hasExpandableGroups) {\n          collapseGroup();\n        }\n\n        event.preventDefault();\n        break;\n      }\n      case KeyCode.escape: {\n        onReturnFocus();\n        closeDropdown();\n        event.preventDefault();\n        break;\n      }\n      case KeyCode.tab: {\n        // When expanded to viewport the focus can't move naturally to the next element.\n        // Returning the focus to the trigger instead.\n        if (expandToViewport) {\n          onReturnFocus();\n        }\n        closeDropdown();\n        break;\n      }\n    }\n  };\n  const onKeyUp = (event: React.KeyboardEvent) => {\n    // We need to handle activating items with Space separately because there is a bug\n    // in Firefox where changing the focus during a Space keydown event it will trigger\n    // unexpected click events on the new element: https://bugzilla.mozilla.org/show_bug.cgi?id=1220143\n    if (event.keyCode === KeyCode.space && !targetItem?.disabled) {\n      activate(event);\n    }\n  };\n\n  return {\n    isOpen,\n    targetItem,\n    isHighlighted,\n    isKeyboardHighlight,\n    isExpanded,\n    highlightItem,\n    onKeyDown,\n    onKeyUp,\n    onItemActivate,\n    onGroupToggle,\n    toggleDropdown,\n    setIsUsingMouse,\n  };\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\nimport React, { useEffect, useRef } from 'react';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport {\n  fireNonCancelableEvent,\n  NonCancelableEventHandler,\n  CancelableEventHandler,\n  BaseKeyDetail,\n  fireKeyboardEvent,\n} from '../../events';\nimport { findUpUntil } from '../../utils/dom';\nimport styles from './styles.css.js';\n\nexport interface OptionsListProps extends BaseComponentProps {\n  open?: boolean;\n  /**\n   * Options list\n   */\n  children: React.ReactNode;\n  nativeAttributes?: Record<string, any>;\n  /**\n   * Called when more items need to be loaded.\n   */\n  onLoadMore?: NonCancelableEventHandler;\n  onKeyDown?: CancelableEventHandler<BaseKeyDetail>;\n  onBlur?: NonCancelableEventHandler<{ relatedTarget: Node | null }>;\n  onFocus?: NonCancelableEventHandler;\n  onMouseUp?: (itemIndex: number) => void;\n  onMouseMove?: (itemIndex: number) => void;\n  position?: React.CSSProperties['position'];\n  role?: 'listbox' | 'list' | 'menu';\n  ariaLabelledby?: string;\n  decreaseTopMargin?: boolean;\n}\n\nconst BOTTOM_TRIGGER_OFFSET = 80;\n\nconst getItemIndex = (containerRef: React.RefObject<HTMLElement>, event: React.MouseEvent) => {\n  const target = findUpUntil(\n    event.target as HTMLElement,\n    element => element === containerRef.current || !!element.dataset.mouseTarget\n  );\n  const mouseTarget = target?.dataset.mouseTarget;\n  return mouseTarget ? parseInt(mouseTarget) : -1;\n};\n\nconst OptionsList = (\n  {\n    open,\n    children,\n    nativeAttributes = {},\n    onKeyDown,\n    onBlur,\n    onFocus,\n    onLoadMore,\n    onMouseUp,\n    onMouseMove,\n    position = 'relative',\n    role = 'listbox',\n    decreaseTopMargin = false,\n    ariaLabelledby,\n    ...restProps\n  }: OptionsListProps,\n  ref: React.Ref<HTMLUListElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n  const menuRef = useRef<HTMLUListElement>(null);\n\n  const handleScroll = () => {\n    const scrollContainer = menuRef?.current;\n    if (scrollContainer) {\n      const bottomEdgePosition = scrollContainer.scrollTop + scrollContainer.clientHeight;\n      const remainingScrollHeight = scrollContainer.scrollHeight - bottomEdgePosition;\n      if (remainingScrollHeight < BOTTOM_TRIGGER_OFFSET) {\n        fireNonCancelableEvent(onLoadMore);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!open) {\n      return;\n    }\n    handleScroll();\n  });\n\n  const className = clsx(styles['options-list'], {\n    [styles['decrease-top-margin']]: decreaseTopMargin,\n  });\n\n  const mergedRef = useMergeRefs(ref, menuRef);\n\n  return (\n    <ul\n      {...baseProps}\n      {...nativeAttributes}\n      className={className}\n      ref={mergedRef}\n      style={{ position }}\n      role={role}\n      onScroll={handleScroll}\n      onKeyDown={event => onKeyDown && fireKeyboardEvent(onKeyDown, event)}\n      onMouseMove={event => onMouseMove?.(getItemIndex(menuRef, event))}\n      onMouseUp={event => onMouseUp?.(getItemIndex(menuRef, event))}\n      onBlur={event => fireNonCancelableEvent(onBlur, { relatedTarget: event.relatedTarget })}\n      onFocus={() => fireNonCancelableEvent(onFocus)}\n      tabIndex={-1}\n      aria-labelledby={ariaLabelledby}\n    >\n      {open && children}\n    </ul>\n  );\n};\n\nexport default React.forwardRef(OptionsList);\n", "\n    import './styles.scoped.css';\n    export default {\n  \"options-list\": \"awsui_options-list_19gcf_fc5oi_93\",\n  \"decrease-top-margin\": \"awsui_decrease-top-margin_19gcf_fc5oi_113\"\n};\n  "],
  "mappings": "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",
  "names": ["node", "React", "import_react", "import_react", "styles_css_default", "import_react", "import_react_dom", "_a", "styles_css_default", "import_react", "React", "import_react", "React", "React", "styles_css_default", "position", "_a", "import_react", "import_react", "styles_css_default", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "import_react", "calculatePosition", "arrow", "document", "_a", "calculatePosition", "React", "styles_css_default", "window", "import_react", "import_react", "_a", "React", "_a", "React", "styles_css_default", "React", "position", "import_react", "React", "React", "styles_css_default", "import_react", "styles_css_default", "React", "_a", "styles_css_default", "import_react", "React", "styles_css_default", "import_react", "import_react", "styles_css_default", "React", "styles_css_default", "React", "styles_css_default", "React", "_a", "_b", "_c", "_d", "import_react", "import_react", "_a", "getItemIndex", "moveHighlight", "nextIndex", "moveHighlight", "_a", "import_react", "styles_css_default", "styles_css_default", "React", "React", "_a", "internal_default"]
}
