import {
  StickyHeaderContext,
  useStickyHeader
} from "./chunk-K32DNXAD.js";
import {
  AppLayoutContext
} from "./chunk-HKQ3KBXU.js";
import {
  useContainerQuery
} from "./chunk-SIDBM5Q2.js";
import {
  useMergeRefs
} from "./chunk-3AAOFNJY.js";
import {
  useVisualRefresh
} from "./chunk-455JEJF4.js";
import {
  __assign,
  __rest,
  clsx_m_default,
  getBaseProps
} from "./chunk-XTANDRJM.js";
import {
  require_react
} from "./chunk-JLBVE3FS.js";
import {
  __toESM
} from "./chunk-HUBM7RA2.js";

// node_modules/@cloudscape-design/components/app-layout/visual-refresh/hooks/use-dynamic-overlap.js
var import_react = __toESM(require_react());
function useDynamicOverlap(props) {
  var _a;
  var disabled = (_a = props === null || props === void 0 ? void 0 : props.disabled) !== null && _a !== void 0 ? _a : false;
  var setDynamicOverlapHeight = (0, import_react.useContext)(AppLayoutContext).setDynamicOverlapHeight;
  var _b = useContainerQuery(function(rect) {
    return rect.height;
  }), overlapContainerQuery = _b[0], overlapElementRef = _b[1];
  (0, import_react.useLayoutEffect)(function handleDynamicOverlapHeight() {
    if (!disabled) {
      setDynamicOverlapHeight(overlapContainerQuery !== null && overlapContainerQuery !== void 0 ? overlapContainerQuery : 0);
    }
    return function() {
      if (!disabled) {
        setDynamicOverlapHeight(0);
      }
    };
  }, [disabled, overlapContainerQuery, setDynamicOverlapHeight]);
  return overlapElementRef;
}

// node_modules/@cloudscape-design/components/container/internal.js
var import_react2 = __toESM(require_react());

// node_modules/@cloudscape-design/components/container/styles.css.js
import "/local/home/samilafo/final_epa_project/QwizGuruPlatform/cloudscape/node_modules/@cloudscape-design/components/container/styles.scoped.css";
var styles_css_default = {
  "root": "awsui_root_14iqq_uvfcm_97",
  "variant-default": "awsui_variant-default_14iqq_uvfcm_110",
  "variant-stacked": "awsui_variant-stacked_14iqq_uvfcm_110",
  "header": "awsui_header_14iqq_uvfcm_133",
  "header-sticky-disabled": "awsui_header-sticky-disabled_14iqq_uvfcm_139",
  "header-sticky-enabled": "awsui_header-sticky-enabled_14iqq_uvfcm_143",
  "header-stuck": "awsui_header-stuck_14iqq_uvfcm_149",
  "header-dynamic-height": "awsui_header-dynamic-height_14iqq_uvfcm_154",
  "with-paddings": "awsui_with-paddings_14iqq_uvfcm_160",
  "with-hidden-content": "awsui_with-hidden-content_14iqq_uvfcm_163",
  "header-variant-cards": "awsui_header-variant-cards_14iqq_uvfcm_167",
  "header-variant-full-page": "awsui_header-variant-full-page_14iqq_uvfcm_191",
  "dark-header": "awsui_dark-header_14iqq_uvfcm_209",
  "content": "awsui_content_14iqq_uvfcm_213",
  "footer": "awsui_footer_14iqq_uvfcm_223",
  "with-divider": "awsui_with-divider_14iqq_uvfcm_229"
};

// node_modules/@cloudscape-design/components/container/internal.js
function InternalContainer(_a) {
  var _b, _c, _d;
  var header = _a.header, footer = _a.footer, children = _a.children, _e = _a.variant, variant = _e === void 0 ? "default" : _e, _f = _a.disableHeaderPaddings, disableHeaderPaddings = _f === void 0 ? false : _f, _g = _a.disableContentPaddings, disableContentPaddings = _g === void 0 ? false : _g, __stickyOffset = _a.__stickyOffset, _h = _a.__stickyHeader, __stickyHeader = _h === void 0 ? false : _h, _j = _a.__internalRootRef, __internalRootRef = _j === void 0 ? null : _j, _k = _a.__disableFooterDivider, __disableFooterDivider = _k === void 0 ? false : _k, _l = _a.__disableFooterPaddings, __disableFooterPaddings = _l === void 0 ? false : _l, _m = _a.__hiddenContent, __hiddenContent = _m === void 0 ? false : _m, __headerRef = _a.__headerRef, __headerId = _a.__headerId, _o = _a.__darkHeader, __darkHeader = _o === void 0 ? false : _o, restProps = __rest(_a, ["header", "footer", "children", "variant", "disableHeaderPaddings", "disableContentPaddings", "__stickyOffset", "__stickyHeader", "__internalRootRef", "__disableFooterDivider", "__disableFooterPaddings", "__hiddenContent", "__headerRef", "__headerId", "__darkHeader"]);
  var baseProps = getBaseProps(restProps);
  var rootRef = (0, import_react2.useRef)(null);
  var headerRef = (0, import_react2.useRef)(null);
  var _p = useStickyHeader(rootRef, headerRef, __stickyHeader, __stickyOffset), isSticky = _p.isSticky, isStuck = _p.isStuck, stickyStyles = _p.stickyStyles;
  var setHasStickyBackground = (0, import_react2.useContext)(AppLayoutContext).setHasStickyBackground;
  var isRefresh = useVisualRefresh();
  var hasDynamicHeight = isRefresh && variant === "full-page";
  var overlapElement = useDynamicOverlap({ disabled: !hasDynamicHeight || !__darkHeader });
  var mergedRef = useMergeRefs(rootRef, __internalRootRef);
  var headerMergedRef = useMergeRefs(headerRef, overlapElement, __headerRef);
  var headerIdProp = __headerId ? { id: __headerId } : {};
  (0, import_react2.useLayoutEffect)(function handleHasStickyBackground() {
    if (isRefresh && isSticky && variant === "full-page") {
      setHasStickyBackground(true);
    }
    return function cleanup() {
      setHasStickyBackground(false);
    };
  }, [isRefresh, isSticky, setHasStickyBackground, variant]);
  return import_react2.default.createElement(
    "div",
    __assign({}, baseProps, { className: clsx_m_default(baseProps.className, styles_css_default.root, styles_css_default["variant-".concat(variant)]), ref: mergedRef }),
    header && import_react2.default.createElement(
      StickyHeaderContext.Provider,
      { value: { isStuck } },
      import_react2.default.createElement("div", __assign({ className: clsx_m_default(styles_css_default.header, styles_css_default["header-variant-".concat(variant)], (_b = {}, _b[styles_css_default["header-sticky-disabled"]] = __stickyHeader && !isSticky, _b[styles_css_default["header-sticky-enabled"]] = isSticky, _b[styles_css_default["header-dynamic-height"]] = hasDynamicHeight, _b[styles_css_default["header-stuck"]] = isStuck, _b[styles_css_default["with-paddings"]] = !disableHeaderPaddings, _b[styles_css_default["with-hidden-content"]] = __hiddenContent, _b)) }, headerIdProp, stickyStyles, { ref: headerMergedRef }), __darkHeader ? import_react2.default.createElement("div", { className: clsx_m_default(styles_css_default["dark-header"], "awsui-context-content-header") }, header) : header)
    ),
    import_react2.default.createElement("div", { className: clsx_m_default(styles_css_default.content, (_c = {}, _c[styles_css_default["with-paddings"]] = !disableContentPaddings, _c)) }, children),
    footer && import_react2.default.createElement("div", { className: clsx_m_default(styles_css_default.footer, (_d = {}, _d[styles_css_default["with-divider"]] = !__disableFooterDivider, _d[styles_css_default["with-paddings"]] = !__disableFooterPaddings, _d)) }, footer)
  );
}

export {
  useDynamicOverlap,
  InternalContainer
};
//# sourceMappingURL=chunk-GCZQGP5C.js.map
